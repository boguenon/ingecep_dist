IG$._Iba=IG$.x_c(IG$.pb,{title:"Chart Slicer",xtype:"panel",layout:{type:"vbox",align:"stretch"},_IPb:null,floating:true,toFrontOnShow:true,width:220,hidden:true,_ILb:null,bInit:false,applyChanges:function(){var b,a=this.down("[name=slicemeasures]"),c;this._ILb.chartPivot.measures=[];for(b=0;b<a.store.data.items.length;b++){c=a.store.data.items[b].data;this._ILb.chartPivot.measures.push(c)}this.hide();this._IPb.updateReport.call(this._IPb)},dropSliceArea:function(d,e){var b,c=this.down("[name=slicemetrics]"),a=this.down("[name=slicemeasures]");if(e==true){for(b=0;b<c.store.data.items.length;b++){if(c.store.data.items[b].data.uid==d.uid){c.store.remove(c.store.data.items[b]);break}}}else{if(e===false){c.store.add(d)}}},tools:[{type:"minimize",qtip:"Minimize",cls:"x-tool-minimize",handler:function(c,b,a){var d=a.ownerCt;d.hide()},scope:this},{type:"gear",qtip:"Close",handler:function(c,b,a){var d=a.ownerCt;d.applyChanges.call(d)},scope:this}],applySheetOption:function(){var b=this;if(this._ILb&&this.bInit==true){var j=[],a=[],e,h={},d,g=this.down("[name=slicemetrics]"),c=this.down("[name=slicemeasures]");for(e=0;e<this._ILb.chartPivot.clusters.length;e++){d=this._ILb.chartPivot.clusters[e].uid;h[d]=true}for(e=0;e<this._ILb.chartPivot.rows.length;e++){d=this._ILb.chartPivot.rows[e].uid;h[d]=true}for(e=0;e<this._ILb.chartPivot.measures.length;e++){d=this._ILb.chartPivot.measures[e].uid;a.push(IG$._I1e(this._ILb.chartPivot.measures[e]));h[d]=true}$.each(["rows","cols","measures","queryItems"],function(m,l){for(e=0;e<b._ILb[l].length;e++){d=b._ILb[l][e].uid;if(typeof h[d]=="undefined"){j.push(IG$._I1e(b._ILb[l][e]))}}});g.store.loadData(j,false);c.store.loadData(a,false)}},_ic:function(){var a=this;IG$.apply(this,{items:[{xtype:"gridpanel",name:"slicemetrics",hideHeaders:true,flex:1,enableDragDrop:true,enableDD:true,useArrows:true,ddGroup:"SliceDDGroup",store:{fields:["name","type","nodepath","uid","itemtype"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,sortable:false,dataIndex:"name"}]},{xtype:"displayfield",text:"Measures",border:false},{xtype:"gridpanel",name:"slicemeasures",hideHeaders:true,flex:1,store:{fields:["name","type","uid","nodepath","itemtype"]},viewConfig:{plugins:{ptype:"gridviewdragdrop",ddGroup:"SliceDDGroup"},listeners:{beforedrop:function(e,j,m,s,q){var c=true,l,b=(j.records&&j.records.length>0)?j.records[0]:null,o=(m)?m.data.location:null,d=false,h=b.get("type")||b.get("itemtype"),g;j.copy=false;if(h!=="Measure"){c=false}return c},drop:function(e,h,j,b){var d=j?" "+b+" "+j.get("name"):" on empty view",g=(h.records&&h.records.length>0)?h.records[0]:null,c=g.get("type")||g.get("itemtype");if(c=="Measure"){return true}return false}}},columns:[{text:IRm$.r1("B_NAME"),flex:1,sortable:false,dataIndex:"name"},{xtype:"actioncolumn",width:20,items:[{iconCls:"icon-grid-delete",tooltip:"Remove",handler:function(c,g,b){var d=a.down("[name=slicemetrics]");var e=c.store.data.items[g].data;c.store.remove(c.store.data.items[g]);d.store.add(e)},scope:this}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){var b=a;b.applyChanges.call(b)},scope:this},{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){var b=a;b.hide()},scope:this}],listeners:{afterrender:function(){this.bInit=true;this.applySheetOption()}}});IG$._Iba.superclass._ic.call(this)}});IG$._Ifb_n=function(a){this.valueitems=["enabled","name","btype","value_1","value_2","color","borderwidth","isxaxis","rtype","porder","showfitexp","cfitallseries","cfitshowsum","cf_lc","cfitfcs"];this._1(a)};IG$._Ifb_n.prototype={_1:function(a){var g=this,j,c=g.valueitems,e,b,d,h;g.enabled=true;if(a){d=IG$._I26(a);for(e=0;e<d.length;e++){b=IG$._I29(d[e]);h=IG$._I24(d[e]);if(b=="enabled"||b=="showfitexp"||b=="cfitallseries"||b=="cfitshowsum"||b=="isxaxis"){h=h=="T"}g[b]=h}}g.rtype=g.rtype||"linear";g.cfitallseries=typeof(g.cfitallseries)=="undefined"?true:g.cfitallseries;g.value_desc=g._gv()},_2:function(){var g=this,h,c=g.valueitems,d,b,a,e="<band>";for(d=0;d<c.length;d++){b=c[d];a=g[b];if(b=="enabled"||b=="showfitexp"||b=="cfitallseries"||b=="cfitshowsum"||b=="isxaxis"){e+="<"+b+">"+(a?"T":"F")+"</"+b+">"}else{e+="<"+b+"><![CDATA["+(a||"")+"]]></"+b+">"}}e+="</band>";return e},_3:function(g){var d=this,b=d.valueitems,c,a,e;for(c=0;c<b.length;c++){a=b[c];e=g.get(a);d[a]=e}d.value_desc=d._gv()},_4:function(g){var d=this,b=d.valueitems,c,a,e;for(c=0;c<b.length;c++){a=b[c];e=d[a];g.set(a,e)}d.value_desc=d._gv();g.set("value_desc",d.value_desc)},_gv:function(){var b=this,a;if(b.btype=="curvefit"){a="Curve fit ("+(b.rtype||"")+")"}else{if(b.btype=="band"){a=(b.value_1||"No value")+" ~ "+(b.value_2||"No value")}else{a=b.value_1||"No value"}}return a},_v1:function(v,isxaxis){var me=this,r,fs,n1,n2,ms,seq,i,fval,i,j,c;if(me.mresult){if(isxaxis){fval=Number(v);if(isNaN(fval)){for(i=0;i<me.mresult.data.length;i++){for(j=0;j<me.mresult.col;j++){c=(j==0)?me.mresult.data[i][j].text:c+" "+me.mresult.data[i][j].text}if(v==c){fval=i-1;break}}}return fval}fs=me.mresult.fs_;n1=v.indexOf("{");n2=v.indexOf("}");while(n1>-1&&n2>n1){ms=v.substring(n1+1,n2);seq=-1;if(ms.indexOf(":")>-1){seq=parseInt(ms.substring(ms.indexOf(":")+1));ms=ms.substring(0,ms.indexOf(":"))}if(seq>-1){ms=fs[seq][ms.toLowerCase()]}else{ms=ms.toLowerCase();fval=null;for(i=0;i<fs.length;i++){switch(ms){case"average":fval=(i==0)?Number(fs[i].average):fval+Number(fs[i].average);break;case"min":fval=(i==0)?Number(fs[i].min):Math.min(fval,Number(fs[i].min));break;case"max":fval=(i==0)?Number(fs[i].max):Math.max(fval,Number(fs[i].max));break}}if(ms=="average"&&fs.length>0){fval=fval/fs.length}ms=fval}v=ms+v.substring(n2+1);n1=v.indexOf("{");n2=v.indexOf("}")}}if(v.indexOf("/")>-1||v.indexOf("*")>-1||v.indexOf("-")>-1||v.indexOf("+")>-1){v=eval(v)}r=Number(v);return r}};IG$.__c_.chartcateg=[{name:"All",value:"all"},{name:"General",value:"cartesian"},{name:"Pie and dashboard",value:"pie"},{name:"Scatter and point chart",value:"point"},{name:"Stock and Low High analysis",value:"stock"},{name:"Tree map",value:"tree"},{name:"Relation finding",value:"relation"},{name:"Scientific analysis",value:"scientific"},{name:"Statistical data visualization",value:"statistics"},{name:"Map and Geographical",value:"map"}];IG$.__c_.charttype=[{label:"Column",charttype:"cartesian",subtype:"column",img:"column",grp:"cartesian"},{label:"Line",charttype:"cartesian",subtype:"line",img:"line",grp:"cartesian"},{label:"Spline",charttype:"cartesian",subtype:"spline",img:"line",grp:"cartesian"},{label:"Area",charttype:"cartesian",subtype:"area",img:"area",grp:"cartesian"},{label:"Spline Area",charttype:"cartesian",subtype:"areaspline",img:"area",grp:"cartesian"},{label:"Bar",charttype:"cartesian",subtype:"bar",img:"bar",grp:"cartesian"},{label:"Pie",charttype:"pie",subtype:"pie",img:"pie",grp:"pie"},{label:"Doughnut",charttype:"pie",subtype:"doughnut",img:"pie",grp:"pie"},{label:"Bubble",charttype:"bubble",subtype:"bubble",img:"bubble",grp:"point"},{label:"Scatter",charttype:"scatter",subtype:"scatter",img:"bubble",grp:"point"},{label:"Treemap",charttype:"treemap",subtype:"treemap",img:"treemap",grp:"tree"},{label:"Waterfall",charttype:"cartesian",subtype:"waterfall",img:"waterfall",grp:"cartesian"},{label:"Synchronized Chart",charttype:"cartesian",subtype:"syncchart",img:"syncchart",grp:"cartesian"},{label:"Radar",charttype:"radar",subtype:"radar",img:"radar"},{label:"Funnel",charttype:"funnel",subtype:"funnel",img:"funnel"},{label:"Pyramid",charttype:"pyramid",subtype:"pyramid",img:"pyramid"},{label:"Map",charttype:"map",subtype:"map",img:"usmap",grp:"map"},{label:"Comparision Matrix",charttype:"matrix",subtype:"matrix",img:"compmatrix",grp:"relation"},{label:"Parallel Coordinates",charttype:"parallel",subtype:"parallel",img:"parallel",grp:"scientific"},{label:"Mean & Deviation",charttype:"performancemap",subtype:"performancemap",img:"performancemap",grp:"statistics"},{label:"Box Plot",charttype:"boxplot",subtype:"boxplot",img:"boxplot",grp:"stock"},{label:"Network Diagram(+)",charttype:"networkdiagram_pos",subtype:"networkdiagram_pos",img:"networkdiagram",grp:"relation"},{label:"Network Diagram(-)",charttype:"networkdiagram_neg",subtype:"networkdiagram_neg",img:"networkdiagram",grp:"relation"},{label:"Matrix Diagram",charttype:"matrixdiagram",subtype:"matrixdiagram",img:"matrixdiagram",grp:"relation"},{label:"Force-Directed Layouts",charttype:"forcelayout",subtype:"forcelayout",img:"force",grp:"relation"},{label:"Cluster Chart",charttype:"anderson",subtype:"anderson",img:"cluster",grp:"scientific"},{label:"Chord Chart",charttype:"chord",subtype:"chord",img:"chord",grp:"scientific"},{label:"Sun burst Chart",charttype:"sunburst",subtype:"sunburst",img:"sunburst",grp:"scientific"},{label:"Time series chart",charttype:"nation",subtype:"nation",img:"timeseries",grp:"scientific"},{label:"Bubble map",charttype:"bubblemap",subtype:"bubblemap",img:"bubblemap",grp:"scientific"},{label:"Fixed Placement",charttype:"cartesian",subtype:"fixedplacement",img:"fixedplacement",grp:"cartesian"}];IG$.__c_.chartcolors={office_2013:["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47","#255e91","#9e480e","#636363","#997300","#264478","#43682b"],"theme 1":["#5b9bd5","#a5a5a5","#4472c4","#255e91","#636363","#264478","#7cafdd","#b7b7b7","#698ed0","#327dc2","#848484","#335aa1","#9dc3e6","#c9c9c9"],"theme 2":["#ed7d31","#ffc000","#70ad47","#9e480e","#997300","#43682b","#f1975a","#ffcd33","#8cc168","#d26012","#cc9a00","#5a8a39"],"theme 3":["#70ad47","#4472c4","#ffc000","#43682b","#264478","#997300","#8cc168","#698ed0","#ffcd33","#5a8a39","#335aa1","#cc9a00"],signika:["#f45b5b","#8085e9","#8d4654","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],"light-color":["#7cb5ec","#f7a35c","#90ee7e","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],"dark-color":["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],combo1574:["#7A3E48","#EECD86","#E18942","#B95835","#3D3242","#06354F"],combo1573:["#7C786A","#8DCDC1","#D3E397","#FFF5C3","#EB6E44"],combo1572:["#6194BC","#A5D1F3","#D0EAFF","#E4001B","#ECECEC","#606060"]};IG$.rp$C=IG$.x_c(IG$.pb,{Df:[],border:false,_IPb:null,meB:0,cPm:[],showtoolbar:false,eventowner:null,eventhandler:null,_ILa:null,_ILb:null,fC:null,resized:false,_IL0:function(){var e=this,a,d,c,b=window.bowser;if(!e.el){return}a=e.getWidth();d=e.getHeight();c=e.el.dom;if(e.drillup){e.drillup.remove()}e.drillup=null;if(b.msie&&a>0&&d>0){c[0].style.width=a+"px";c[0].style.height=d+"px"}},showSlicePivot:function(){var b=this,a=b.getWidth()-20;b.slicehelper._ILb=b._ILb;b.slicehelper.applySheetOption.call(b.slicehelper);b.slicehelper.setSize(220,350);b.slicehelper.setPosition(a-b.slicehelper.width,0);b.slicehelper.show()},applyDropSlice:function(a,g,h){var d=this,b,c=g.data,e;e=new IG$._IE8(null);e._I1d(e,c);if(a=="slice"){if(h==true){d._ILb.chartPivot.clusters.push(e)}d.slicehelper.dropSliceArea.call(d.slicehelper,e,h)}else{if(a=="xaxis"){if(h==true){d._ILb.chartPivot.rows.push(e)}d.slicehelper.dropSliceArea.call(d.slicehelper,e,h)}}d.updateReport()},updateReport:function(){var a=this;a._IPb._IP4.call(a._IPb)},_IKc:function(o,g,e,d,b){var j=this,h=j.body?j.body.dom:null,l=h?$(h):null,m=null,c=l?IG$.x_10._w(l):0,a=l?IG$.x_10._h(l):0;if(c>0&&a>0){clearTimeout(j._xo);j._IK2=o;j._IK9=g;j._ILa=e;j._ILb=d;if(j.resized==true||(c>10&&a>10)){j.resized=false;j.F2r(j._IK2,j._IK9,j._ILa,j._ILb,b)}else{j.rRe(b)}}else{clearTimeout(j._xo);j._xo=setTimeout(function(){j._IKc.call(j,o,g,e,d,b)},300)}},rRe:function(b){var a=this;setTimeout(function(){var c=a.el?a.el.getWidth():0,d=a.el?a.el.getHeight():0;if(c>10&&d>10){a.F2r.call(a,a._IK2,a._IK9,a._ILa,a._ILb,b)}else{a.rRe.call(a,b)}},100)},cc1:function(d,c,h,j){var g=this,e,b,a;if(g.cPm.length>c){a=g.cPm[c];if(a.dmode!=d){d!=1&&a.getHeader().hide()}a.dmode=d;a.a1.call(a)}else{a=new IG$.pbc({layout:"fit",flex:1,x:0,y:0,width:g.width||200,height:g.height||200,dmode:d,header:(d==1)?true:false,border:true,closable:false,collapsible:false,collapse:"normal",tools:[{type:"minimize",qtip:"Minimize",cls:"x-tool-minimize",handler:function(q,o,l){var m=l.ownerCt,s=this;m.collapse=(m.collapse=="normal")?"collapsed":"normal";g.F6.call(g)},scope:this},{type:"maximize",cls:"x-tool-maximize",qtip:"Maximize",handler:function(q,o,l){var m=l.ownerCt,s=this;m.collapse=(m.collapse=="normal")?"maximize":"normal";g.F6.call(g)},scope:this}],a1:function(){var o=this,l,m=g.width||g.getWidth(),q=g.height||g.getHeight();o._a1=true;if(o.dmode==1){if(!o.G2){o.G2=g.F3.call(g,c,a.body.dom,m,q)}else{g.a2.call(g,o.G2,c)}o.setTitle(o.G2.mresult.clusterdesc);g.mlength--;if(g.mlength<2){g.F6.call(g,true)}}else{if(!o.G2){o.G2=g.F3.call(g,0,o.body.dom,m,q)}else{g.a2.call(g,o.G2,c)}g.F7.call(g,true,j)}},listeners:{close:function(){g.F8.call(g,g)},collapse:function(){g.F8.call(g,g)},expand:function(){g.F8.call(g,g)},resize:function(m,l,o){var q=this;if(!q.G2){return}if(q.dmode==1){var s=$(q.G2.P1),l=IG$.x_10._w(s),o=IG$.x_10._h(s);q.G2.Mm12.call(q.G2,l,o)}else{if(q.dmode==2){var s=$(q.G2.container),l=IG$.x_10._w(s),o=IG$.x_10._h(s);if(l>0&&o>0){q.G2.Mm12.call(q.G2,l,o)}}else{if(l>0&&o>0){q.G2.Mm12.call(q.G2,l,o)}}}},afterrender:function(l){l.a1.call(l)}}});g.cPm.push(a);g.cpm.add(a)}return a},F2r:function(z,x,g,e,h){var y=this,o=y.body.dom,l=null,b=null,d=y.down("[name=cslicemin]"),w;y.cdrillindex=0;y.cpm=y.cpm||y.down("[name=cpm]");if(!y.cslicemetric){y.cslicemin=y.down("[name=cslicemin]")}if(IG$._Iba){y.slicehelper=new IG$._Iba({_IPb:y});y.cpm.add(y.slicehelper);y.slicehelper._el.dom.css({zIndex:10})}if(y._ILb.bcluster){d&&d.setVisible(true);y.mlength=y._IK2.results.length;var s=y._IK2.results.length;for(w=s;w<y.cPm.length;w++){y.cpm.remove(y.cPm[w])}y.cPm.splice(s,y.cPm.length-s);y.__d1=1;$.each(y._IK2.results,function(B,C){var A=y.cc1.call(y,1,B,undefined,h);A.show()})}else{y.down("[name=cslicemin]").setVisible(false);y.__d1=0;for(w=y.cPm.length;w>0;w--){y.cpm.remove(y.cPm[w])}y.cPm.splice(1,y.cPm.length-1);var q=y.cc1.call(y,0,0,undefined,h);q.show();y.sd=false;if(y._ILb.cco.enabledrill==true&&y._ILb.rows.length>1){y.sd=true;if(!y.charttoolbar){y.carea=$("<div class='idv-cht-tb-cont'></div>");y.carea.css({position:"absolute",height:22,right:0,top:0});y.carea.appendTo(y.body.dom);y.charttoolbar=$("<div class='mec-chart-toolbar'></div>").appendTo(y.carea);y.cpop=$("<div class='idv-cht-pop'></div>").appendTo($(document.body))}l=y.charttoolbar;b=y.cpop;if(l){l.empty();l.show();function a(F){var A=$(document.body),G=b.offset(),B=IG$.x_10._w(b),E=IG$.x_10._h(b),D=F&&F.pageX,C=F&&F.pageY;D=D||-1;C=C||-1;if(G.left<D&&D<G.left+B&&G.top<C&&C<G.top+E){return}b.hide();A.unbind("click",a)}function u(B,D,E){var C=$(B),F=C.offset(),A=$(document.body);A.unbind("click",a);E&&E.stopPropagation();b.show();b.empty();b.css({top:F.top+20,left:F.left});m=$("<ul></ul>").appendTo(b);$.each(D,function(H,I){var G=$("<li></li>").appendTo(m);G.text(I.text);G.bind("click",function(){I.handler.call(I.scope,I.opt||null);a()})});A.bind("click",a)}$.each(y._ILb.rows,function(D,G){var B,A=[],C,E;if(D>0){for(B=0;B<IG$._I32.length;B++){var F={text:IG$._I32[B].label,opt:{meB:D,subtype:IG$._I32[B].subtype},handler:function(H){y.F2c.call(y,H)},scope:y};A.push(F)}C=$("<div class='idv-cht-btn-d'></div>").appendTo(l);C.text(G.name);C.bind("click",function(){y.F5.call(y,D)});E=$("<div class='idv-cht-btn-m'></div>").appendTo(l);E.bind("click",function(H){u(C,A,H)})}else{C=$("<div class='idv-cht-btn-d idv-cht-nmarg'></div>").appendTo(l);C.text(G.name);C.bind("click",function(){y.F5.call(y,0)})}});var j=$("<div class='idv-cht-btn-d idv-cht-pad'>Layout<div>").appendTo(l),m,c=[{text:IRm$.r1("L_LAYOUT_NORMAL"),handler:function(){var A=this;A._ILb.cco.drillviewmode=0;A.F7(false)},scope:y},{text:IRm$.r1("L_LAYOUT_POPUP"),handler:function(){var A=this;A._ILb.cco.drillviewmode=1;A.F7(false)},scope:y},{text:IRm$.r1("L_LAYOUT_CASCADE"),handler:function(){var A=this;A._ILb.cco.drillviewmode=2;A.F7(false)},scope:y},{text:IRm$.r1("L_LAYOUT_HORIZONTAL"),handler:function(){var A=this;A._ILb.cco.drillviewmode=3;A.F7(false)},scope:y},{text:IRm$.r1("L_LAYOUT_VERTICAL"),handler:function(){var A=this;A._ILb.cco.drillviewmode=4;A.F7(false)},scope:y}];j.bind("click",function(A){u(this,c,A)})}}else{l=y.charttoolbar;y.meB=0;if(l){l.empty();l.hide()}}}},F2c:function(g){var d=this,e=g.meB,a=g.subtype,c,b=(d.cPm.length>e)?d.cPm[e].G2:null;if(b){c=b._ILb.cco.getChartInfoBySubType(a).id;b._ILb.cco.drillcharttype[e-1]=c;d.F3a(b)}},F3:function(c,d,a,g){var e=this,b,h;b=new IG$._I95(e,e.uid,d,a,g);e.a2(b,c);b.f4=e.F4;b.f4a=e;b.__sch={f:e.__sch,o:e};return b},a2:function(a,b){var c=this;a.ddt=0;if(c._IK2){a._IL8=c._IK2._IL8;a.mresult=c._IK2.results[b]}a._ILa=c._ILa;a._ILb=c._ILb},__r1:function(a,b){var c=this;c.fireEvent("request_data",c,a,b)},__sch:function(b,g){var c=this,e=b.scrollX,a=b.mresult,g,d;if(b.mresult.pagestart>0||b.mresult.pageend<b.mresult.rows){if((b.mresult.pagestart>0&&b.mresult.pagestart>e)||b.mresult.pageend<e+b._dlen){c.fireEvent("scroll_request",c,g);return}if(b.mresult.pagestart>0){}}d=b.dcr.call(b,b.cwidth,b.cheight,true);b.disposeContent.call(b,b);b._bN.empty();b._bN.hide();if(b.isHighChart==true){$.each(d,function(h,o){var m=new Highcharts.Chart(o),s,q=c._ILb?c._ILb.cco:null,j=q?q.subtype:null,l;b._mc.push(m);c.__sel_s=null;if(a&&a.__bands&&a.__bands.length){l=a.__bands;for(s=0;s<l.length;s++){c.dB.call(c,m,l[s],j,b)}}else{if(o.__cf&&o.__cf.length){c._cf.call(c,m,o.__cf,j,b)}}})}},_cf:function(l,a,b,j){var g=this,d=g._IK9,e=g._ILb?g._ILb.cco:null,m="<smsg><option charttype='"+((e?e.subtype:"")||"")+"'>",c;for(c=0;c<a.length;c++){m+=a[c]._2()}m+="</option></smsg>";if(d){var h=new IG$._I3e();h.init(g,{ack:"18",payload:"<smsg><item uid='"+d.uid+"' jobid='"+d._IL8+"' option='curvefit'/></smsg>",mbody:m},g,function(o){var s=this,w=IG$._I18(o,"/smsg/results/bands"),u=w?IG$._I26(w):null,q;if(u){for(q=0;q<u.length;q++){s.dB(l,u[q],m,j)}}});h._l()}},dB:function(q,d,e,o){var m=this,g=IG$._I18(d,"series"),a=IG$._I18(d,"all_series"),c=IG$._I18(d,"config/band"),j=new IG$._Ifb_n(c),l=IG$._I26(g),s=a?IG$._I26(a):null,h=o._bN,b=j.showfitexp;b!=false&&h.show();$.each([l,s],function(u,x){if(x){var w;w=$("<ul></ul>").appendTo(h);$.each(x,function(K,S){var O,M,J,L,F,H,y,B,Q,P,E,A,G,T,z,C,R,N="",D,I;J=IG$._I1b(S,"xmin"),L=IG$._I1b(S,"xmax");J=J?Number(J):null;L=L?Number(L):null;F=IG$._I18(S,"curvefit");H=IG$._I1b(F,"rtype");y=IG$._I1a(F,"formula");B=IG$._I1a(F,"formula_html");D=IG$._I18(F,"statistics");if(D){C=IG$._I1a(D,"r_square");R=IG$._I1a(D,"r_square_adj")}if(C||R){N=(C?"<br /><span class='igc-cfit-rst'>R sqaure : </span><span class='igc-cfig-rs'>"+C+"</span>":"")+(R?"<br /><span class='igc-cfit-rst'>R sqaure adj: </span><span class='igc-cfig-rs'>"+R+"</span>":"")}G=j.name;T=u==1?"(ALL)":(IG$._I1a(S,"seriename")||"");z=$("<li class='igc-cfit-leg-item'><span class='igc-cfit-bname'>"+(G?G+": ":"")+"</span><span class='igc-cfit-seriename'>"+T+"</span><br /><span class='igc-cfit-fm'>"+(B||y)+"</span>"+N+"</li>").appendTo(w);Q=[];P=IG$._I18(F,"parameters");E=IG$._I26(P);for(M=0;M<E.length;M++){A=IG$._I24(E[M]);Q.push(Number(A))}I=m.dBS.call(m,q,H,B||y,Q,e,J,L,j);z.bind("click",function(V){var U=$(this);if(m.__sel_s){m.__sel_s.pdiv.removeClass("igc-cfit-sel");m.__sel_s.series.update({lineWidth:2},true)}if(I){U.addClass("igc-cfit-sel");I.update({lineWidth:6},true);m.__sel_s={pdiv:U,series:I}}})})}})},dBS:function(G,l,a,E,b,o,q,d){var F=this,w,u,h,g,H={name:a,type:"spline",allowPointSelect:false,showInLegend:false,dashStyle:d.cf_lc||"Dot",lineWidth:2,marker:{enabled:false},data:[]},c=d.cfitfcs?Number(d.cfitfcs):0,B=o!=null&&q!=null&&!isNaN(o)&&!isNaN(q),C,z,e=1,s,A="#efefef",D,m;if(B){C=o;z=q+B;e=(q-o)/20}else{C=0;s=G.xAxis[0];c=Math.floor(c);z=G.series[0].data.length+c}switch(l){case"polynomial":for(w=C;w<z;w+=e){h=w;for(u=0;u<E.length;u++){g=(u==0)?E[u]:g+E[u]*Math.pow(h,u)}H.data.push({x:h,y:g})}break;case"exponential":for(w=C;w<z;w+=e){h=w;g=Math.exp(E[0]+E[1]*h);H.data.push({x:h,y:g})}break;case"logarithmic":for(w=C;w<z;w+=e){h=B?w:w+1;g=E[0]+E[1]*Math.log(h);H.data.push({x:w,y:g})}break;case"power":for(w=C;w<z;w+=e){h=B?w:w+1;g=Math.exp(E[0]+E[1]*Math.log(h));H.data.push({x:w,y:g})}break}if(b=="bar"){for(w=0;w<H.data.length;w++){H.data[w].x_=H.data[w].x;H.data[w].x=H.data[w].y;H.data[w].y=H.data[w].x_;delete H.data[w]["x_"]}s=G.yAxis[0]}if(s&&c>0){D=s.categories;for(w=0;w<c;w++){D.push("*"+(w+1))}H.zoneAxis=b=="bar"?"y":"x";H.zones=[{value:z-c},{color:"#ff0000"}];s.update({categories:D},true)}m=G.addSeries(H);return m},F3a:function(c,j){var e=this,l=$(c.container),b=IG$.x_10._w(l),d=IG$.x_10._h(l),a=c.mresult,g;c.disposeContent.call(c,c);g=c.dcr.call(c,b,d,undefined,j);c.drawchart=g;if(window.m$dorC){window.m$dorC.call(e,c,g)}c._bN.empty();c._bN.hide();if(c.isHighChart==true){$.each(g,function(h,s){if(window.echarts){var q=echarts.init(s.chart.renderTo,null,{}),w,u=e._ILb?e._ILb.cco:null,m=u?u.subtype:null,o;q.setOption(s);q.on("pieselectchanged",function(x){});q.on("click",function(x){if(x.componentType=="series"){c.p1({series:{name:x.seriesName,type:x.seriesType}},{point:x.data})}});q.on("brushselected",function(x){});c._mc.push(q)}else{var q=new Highcharts.Chart(s),w,u=e._ILb?e._ILb.cco:null,m=u?u.subtype:null,o;c._mc.push(q);e.__sel_s=null;if(a&&a.__bands&&a.__bands.length){o=a.__bands;for(w=0;w<o.length;w++){e.dB.call(e,q,o[w],m,c)}}else{if(s.__cf&&s.__cf.length){e._cf.call(e,q,s.__cf,m,c)}}}})}},F4:function(a){var o=this,b=a.mresult;o.fC=a;o.selectedData=a.selectedData;if(o._ILb.cco.enabledrill==true&&o._ILb.rows.length>a.ddt+1){o.meB=a.ddt+1;var d=a.selectedData,q=a.ddt+1,e=o._IK9._IL8,g,l;var h="<smsg><Filter source='drill' drilldepth='"+q+"'>",m;if(o.Df.length>q-1){o.Df.splice(q-1,o.Df.length-q+1)}m=[];m.push(b.data[d[0].r][b.colfix-1]);o.Df.push({item:o._ILb.rows[q-1],data:m});for(l=0;l<o.Df.length;l++){g=o.Df[l];h+="<Condition name='"+g.item.name+"' operator='EQUAL'><Field><item nodepath='"+g.item.nodepath+"' name='"+g.item.name+"' uid='"+g.item.uid+"' type='"+g.item.itemtype+"'/></Field><value>";h+="<![CDATA["+g.data[0].code+"]]>";h+="</value></Condition>"}h+="</Filter></smsg>";var j,a;if(o.cPm.length>o.meB){j=o.cPm[o.meB]}else{j=o.cc1(2,q,undefined);if(!j.G2){j.G2=o.F3(0,j.body.dom)}}a=j.G2;a.ddt=q;o._IK9._IKb.call(o._IK9,h,a,0);o.F7(false)}if(o.eventhandler&&o.eventowner){o.eventhandler.call(o.eventowner)}else{o.fireEvent("itemclick",o)}},F5:function(a){var b=this;b.meB=a;b.F7(false)},F6:function(u){var e,o=this,m=o.body.dom,b,q,y,x,a,s=o.getWidth(),g=o.getHeight(),l=0,j=0,c=false;b=0;s=o.cpm.getWidth();g=o.cpm.getHeight();for(e=0;e<o.cPm.length;e++){if(o.cPm[e].collapse=="maximize"){c=true;o.cslicemin.setVisible(false)}}if(c==false&&o.cslicemin){o.cslicemin.setVisible(true);o.cslicemin.removeAll()}$.each(o.cPm,function(w,z){if(o.cPm[w].collapse=="collapsed"){z.setVisible(false);var h=new IG$.pb({xtype:"button",width:120,text:z.title,handler:function(){z.collapse="normal";o.F6.call(o)}});o.cslicemin.add(h)}else{if(o.cPm[w].collapse=="maximize"){z.setVisible(true);o.cpm.add(z);o.cPm[w].setPosition(0,0);o.cPm[w].setSize(s,g)}else{if(o.cPm[w].collapse=="normal"){z.setVisible(c==true?false:true);o.cpm.add(z);b++}}}});if(c==false){q=(b<3)?b:(b<6)?b/2:(b<12)?b/3:(b<20)?b/4:b/4;q=Math.floor(q);y=Math.ceil(b/q);a=g/y;if(a<200){x=(s-18)/q;a=200;o.cpm.setAutoScroll(true)}else{x=s/q;o.cpm.setAutoScroll(false)}for(e=0;e<o.cPm.length;e++){if(o.cPm[e].collapse=="normal"){mc=x*(j%q);mr=a*(Math.floor(j/q)%y);o.cPm[e].setPosition(mc,mr);o.cPm[e].setSize(x,a);j++}else{o.cPm[e].setPosition(l*100,4);o.cPm[e].setSize(100,30);l++}if(u==true){var d=o.cPm[e].G2;o.F3a(d)}}}},F7:function(q,a){var d,j=this,c,u,b,s,o,e;if(j.cPm.length==0){return}o=j.getWidth()||j.width,e=j.getHeight()||j.height;for(d=j.meB+1;d<j.cPm.length;d++){j.cPm[d].setVisible(false)}c=Math.min(j.cPm.length,j.meB+1);s=j._ILb.cco.drillviewmode;u=(s==3)?o/c:o;b=(s==4)?e/c:e;for(d=0;d<c;d++){mc=(s==3)?u*d:0;mr=(s==4)?b*d:0;var x=j.cPm[d].pw,g=j.cPm[d].ph,m=j.cPm[d].px,l=j.cPm[d].py;j.cPm[d].setVisible((s==0&&d<c-1?false:true));if(x!=u||g!=b||m!=mc||l!=mr){j.cPm[d].setPosition(mc,mr);j.cPm[d].setSize(u,b);j.cPm[d].pw=u;j.cPm[d].ph=b;j.cPm[d].px=mc;j.cPm[d].py=mr}if(q==true){j.F3a(j.cPm[d].G2,a)}else{if(x!=u||g!=b||d>0){j.cPm[d].G2.Mm12.call(j.cPm[d].G2,u,b)}}}},F8:function(a){var b=this;b.F6()},CLS:{resize:function(e,b){var d=this,a=e||d.getWidth(),c=b||d.getHeight();if(a>10&&c>10){d.width=a;d.height=c;if(d.stimer>-1){clearTimeout(d.stimer)}d.stimer=setTimeout(function(){d.setPanelSize.call(d,a,c)},30)}}},setPanelSize:function(a,b){var d=this,c=d;if(d.cpm){d.cpm.setSize(a,b)}c.resized=true;if(c.__d1==1){d.F6()}else{if(d.cPm){d.F7(false)}}},_IB4:function(u,c,b,z,l,q){var D=this,x=[],A,e=c,d=b,j,a=$(D.body.dom).offset(),B,o,y,m,C=D.getWidth(),h=D.getHeight(),g,s,w;if(D.__d1==1){for(A=0;A<D.cPm.length;A++){B=D.cPm[A];if(B.G2&&(B.collapse=="maximize"||B.collapse=="normal")){j=B.getPosition();o=B.G2;e=c+j[0]-a.left;d=b+j[1]-a.top;w=$(o.container);g=IG$.x_10._w(w);s=IG$.x_10._h(w);x.push("<item type='chart' x='"+e+"' y='"+d+"' d_width='"+l+"' d_height='"+q+"' width='"+g+"' height='"+s+"' docid='"+z+"'>");x.push(o._IB4.call(o));x.push("</item>")}}}else{for(A=0;A<D.cPm.length;A++){o=D.cPm[A].G2;j=$(o.container).offset();e=c+j.left-a.left;d=b+j.top-a.top;w=$(o.container);g=IG$.x_10._w(w);s=IG$.x_10._h(w);x.push("<item type='chart' x='"+e+"' y='"+d+"' width='"+g+"' height='"+s+"' docid='"+z+"'>");x.push(o._IB4.call(o));x.push("</item>")}}return x.join("")},_IL7:function(d){var s=this,b=s.selectedData,m=s._ILb,a=s.fC.mresult,l=[],x,c,w,u,q=0,h,g;if(b&&b.length>0){l.push("<FilterData>");for(h=0;h<b.length;h++){w=b[h];if(w.r<a.rowfix){continue}if(d&&d.titem.enabled){u=0;if(w.position==1&&m.rows[w.index]&&d.titem.item_map[m.rows[w.index].uid]){u=1}else{if(w.position==3&&m.measures&&m.measures[w.index]&&d.titem.item_map[m.measures[w.index].uid]){u=1}else{if(w.position==2&&m.cols[w.index]&&d.titem.item_map[m.cols[w.index].uid]){u=1}}}if(u==0){continue}}l.push("<FilterCell>");q++;x=a.data[w.r];for(g=0;g<a.colfix;g++){c=x[g];if(c.position==1&&m.rows[c.index]){var e="<Row";e+=" name='"+m.rows[c.index].name+"' uid='"+m.rows[c.index].uid+"' type='"+m.rows[c.index].itemtype+"'>";if(c.code){e+="<code><![CDATA["+c.code+"]]></code>"}if(c.value!=null){e+="<value><![CDATA["+c.value+"]]></value>"}e+="</Row>";l.push(e)}}for(g=0;g<a.rowfix;g++){if(w.c>=a.colfix){c=a.data[g][w.c];if(c.position==2&&m.cols[c.index]){var o="<Column";o+=" name='"+m.cols[c.index].name+"' uid='"+m.cols[c.index].uid+"' type='"+m.cols[c.index].itemtype+"'>";if(c.code){o+="<code><![CDATA["+c.code+"]]></code>"}if(c.value!=null){o+="<value><![CDATA["+c.value+"]]></value>"}o+="</Column>";l.push(o)}}}l.push("</FilterCell>")}l.push("</FilterData>");l.push("<reportfilter>"+s._ILb.filter.TX()+"</reportfilter>")}else{q=1;l.push("<FilterData>");l.push("</FilterData>")}return q>0?l.join(""):null},_ic:function(){var a=this;a.cPm=[];a.on("resize",function(d,b,c){a.CLS.resize.call(a,b,c)});a.on("afterrender",function(){a.CLS.resize.call(a)});IG$.apply(this,{layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",name:"cpm",flex:1,layout:"absolute",border:false},{xtype:"panel",height:25,name:"cslicemin",layout:{type:"hbox",align:"top"},border:0}]});IG$.rp$C.superclass._ic.call(this)}});IG$.rp$R=IG$.x_c(IG$.pb,{_IFd:function(){var j=this,e=j.body?j.body.dom:null,b=e?j.getWidth():0,g=e?j.getHeight():0,c=null,d,l,a;$(e).empty();a=j.G1=new IG$._I94(j.uid,c,e,10);a._ILa=j._ILa;a._ILb=j._ILb;a.sheetobj=j.sheetobj;l=a._0x030;l._ILb=j._ILb;l.sheetobj=j.sheetobj;l.ctx.bind({selectionchanged:function(){if(l.selectedItems.length>1){j.fireEvent("drillreport",j)}},itemclick:function(h,m){j.fireEvent("itemclick",j,m)},itemdblclick:function(h,m){j.fireEvent("itemdblclick",j,m)},menu:function(m,h){j.fireEvent("menu",j,h)},pivotchanged:function(h){j.fireEvent("pivotchanged",j)},scroll_request:function(h,m){j.fireEvent("scroll_request",j,m)},hierarchy:function(m,h){j.fireEvent("hierarchy",j,h)}})},_IL0:function(){this.gridcontainer=[]},_IKc:function(K,H,u,q,x){var J=this,e=J.body?J.body.dom:null,z=e?J.getWidth():0,E=e?J.getHeight():0,d=null,I=window.bowser,D,l,c,a,G;J._IK2=K;J._IK9=H;J._ILa=u;J._ILb=q;if(!e){return}a=K?K._is_sc:false;G=K?K._hcell:null;if(I.msie&&z>0&&E>0){e[0].style.width=z+"px";e[0].style.height=E+"px"}var A;if(J._IK2.results.length>1){A=new IG$._IF4(null);A.merge=[];A.styles={};A.data=[];var y=J._IK2.results,o=0,s=0,g=0,F=0,B,b,C,m;for(D=0;D<y.length;D++){if(D==0){F=y[D].rowfix;o+=F;s=y[D].cols;g=y[D].colfix;A.styles=y[D].styles;for(B=0;B<F;B++){A.data.push(y[D].data[B])}}else{o+=y[D].rows-y[D].rowfix+1}b=y[D].clustercode;C=y[D].clustervalue;m=[];for(B=0;B<s;B++){m.push({text:(B<g)?" ":y[D].clusterdesc||"",mrow:0,mcol:s-1,merged:(B==0||B==g)?2:4,stylename:"cluster_data",chart:null,position:-1,code:null,value:null,index:-1})}A.data.push(m);for(B=y[D].rowfix;B<y[D].rows;B++){A.data.push(y[D].data[B])}}A.rows=o;A.cols=s;A.colfix=g;A.rowfix=F}else{A=J._IK2.results[0]}c=J.G1;l=c._0x030;c.width=(z>0?z:c.width);c.height=(E>0?E:c.height);if(J._IK2){c._IL8=J._IK2._IL8;if(!G){c.mresult=A}c._ILa=J._ILa;c._ILb=J._ILb;l._ILb=J._ILb;c.dor.call(c,x,a,G,A)}},CLS:{resize:function(a,b){this.setPanelSize(a,b)},afterrender:function(a){a._IFd.call(a)}},setPanelSize:function(a,b){var c=this;if(c.G1){c.G1._0x030.resize.call(c.G1._0x030,a,b)}},_IL7:function(h){var C=this,s=C.G1._tsm.call(C.G1),e=C.G1._0x030,B=C.G1.mresult,a=C._ILb,o=[],b,q,D,g,w,u,d,c,l,m,x,A=0,y=0,z=0;if(s&&s.length>0){o.push("<FilterData>");for(w=0;w<s.length;w++){b=s[w];if(h&&h.titem.enabled){y=0;if(b.position==1&&a.rows[b.index]&&h.titem.item_map[a.rows[b.index].uid]){y=1}else{if(b.position==3&&a.measures&&a.measures[b.index]&&h.titem.item_map[a.measures[b.index].uid]){y=1}else{if(b.position==2&&a.cols[b.index]&&h.titem.item_map[a.cols[b.index].uid]){y=1}}}if(y==0){continue}}if(b.title==1){z++;continue}z++;o.push("<FilterCell>");if(e.treeCol>-1){g=e.treeData[b.dr];D=g[e.treeCol];if(D){while(D){q=D;if(q.position==1&&a.rows[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.rows[q.index].uid])){m="<Row";m+=" name='"+a.rows[q.index].name+"' uid='"+a.rows[q.index].uid+"' type='"+a.rows[q.index].itemtype+"'>";if(q.code){m+="<code><![CDATA["+q.code+"]]></code>"}if(q.value!=null){m+="<value><![CDATA["+q.value+"]]></value>"}m+="</Row>";o.push(m)}}else{if(q.position==3&&a.measures&&a.measures[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.measures[q.index].uid])){A=1;x="<measure";x+=" name='"+a.measures[q.index].name+"' uid='"+a.measures[q.index].uid+"' type='"+a.measures[q.index].itemtype+"'>";x+="</measure>";o.push(x)}}}D=q.parent}}else{q=g[e.treeCol];if(q.position==1&&a.rows[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.rows[q.index].uid])){m="<Row";m+=" name='"+a.rows[q.index].name+"' uid='"+a.rows[q.index].uid+"' type='"+a.rows[q.index].itemtype+"'>";if(q.code){m+="<code><![CDATA["+q.code+"]]></code>"}if(q.value!=null){m+="<value><![CDATA["+q.value+"]]></value>"}m+="</Row>";o.push(m)}}else{if(q.position==3&&a.measures&&a.measures[q.index]){A=1;x="<measure";x+=" name='"+a.measures[q.index].name+"' uid='"+a.measures[q.index].uid+"' type='"+a.measures[q.index].itemtype+"'>";x+="</measure>";o.push(x)}}}if(!A&&a.measures&&a.measures.length==1&&b.c>=B.colfix&&b.r>=B.rowfix){x="<measure";x+=" name='"+a.measures[0].name+"' uid='"+a.measures[0].uid+"' type='"+a.measures[0].itemtype+"'>";x+="</measure>";o.push(x)}}else{g=B.data[b.r];d=0;c=B.colfix;A=0;if((!h||(h&&!h.tparams.enabled))&&b.c<B.colfix){if(h&&h._dall){}else{d=b.c;c=b.c+1}}for(u=d;u<c;u++){q=g[u];if(q.position==1&&a.rows[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.rows[q.index].uid])){m="<Row";m+=" name='"+a.rows[q.index].name+"' uid='"+a.rows[q.index].uid+"' type='"+a.rows[q.index].itemtype+"'>";if(q.code){m+="<code><![CDATA["+q.code+"]]></code>"}if(q.value!=null){m+="<value><![CDATA["+q.value+"]]></value>"}m+="</Row>";o.push(m)}}else{if(q.position==3&&a.measures&&a.measures[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.measures[q.index].uid])){A=1;x="<measure";x+=" name='"+a.measures[q.index].name+"' uid='"+a.measures[q.index].uid+"' type='"+a.measures[q.index].itemtype+"'>";x+="</measure>";o.push(x)}}}}for(u=0;u<B.rowfix;u++){q=B.data[u][b.c];if(q.position==2&&a.cols[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.cols[q.index].uid])){l="<Column";l+=" name='"+a.cols[q.index].name+"' uid='"+a.cols[q.index].uid+"' type='"+a.cols[q.index].itemtype+"'>";if(q.code){l+="<code><![CDATA["+q.code+"]]></code>"}if(q.value!=null){l+="<value><![CDATA["+q.value+"]]></value>"}l+="</Column>";o.push(l)}}else{if(q.position==3&&a.measures&&a.measures[q.index]){if(!h||!h.tparams.enabled||(h&&h.tparams.enabled&&h.tparams.item_map[a.measures[q.index].uid])){A=1;x="<measure";x+=" name='"+a.measures[q.index].name+"' uid='"+a.measures[q.index].uid+"' type='"+a.measures[q.index].itemtype+"'>";x+="</measure>";o.push(x)}}}}if(!A&&a.measures&&a.measures.length==1&&b.c>=B.colfix&&b.r>=B.rowfix){x="<measure";x+=" name='"+a.measures[0].name+"' uid='"+a.measures[0].uid+"' type='"+a.measures[0].itemtype+"'>";x+="</measure>";o.push(x)}}o.push("</FilterCell>")}o.push("<reportfilter>"+C._ILb.filter.TX()+"</reportfilter>");o.push("</FilterData>")}return(z>0?o.join(""):null)},_IP3:function(){var a=this,b=a.G1._tsm.call(a.G1);return b},_IB4:function(h){var s=this,a=new Array(),d=new Array(),g,e,o=s.G1.mresult,c=(o?o.delim:null),A=";",y=(o?o.merge:null),b,x,z,u,q,w=0,l=s.G1._0x030;if(!o){return""}a.push("<instance jobid='"+(s.G1._IL8||"")+"' cols='"+o.cols+"' rows='"+o.rows+"' delimiter='"+c+"' fixedrow='"+o.rowfix+"'></instance>");return a.join("")},_IN0:function(b,a){var c=this;if(b&&a){c._ILa=b;c._ILb=a}c.G1._IN0(c._ILa,c._ILb)},_ic:function(){var a=this;a.on("resize",function(d,b,c){a.CLS.resize.call(a,b,c)});a.on("afterrender",function(b){a.CLS.afterrender.call(a,b)});IG$.rp$R.superclass._ic.call(this)}});IG$._Ib9={FmP:function(){var panel=this,sop=panel._ILb,rpromptdlg=panel.rpP,rro=(sop?sop.rro:null),s4,promptdef,sdom;rpromptdlg.hide();panel.rpp.hide();sdom=$("#promptcontent",panel.rpP);sdom.empty();if(rro){rro.s4c={items:[]};s4=rro.s4;if(s4){try{promptdef=eval("("+s4+")")}catch(e){IG$._I52("Error on prompt control definition");return}if(promptdef&&promptdef.length>0){var tb=$("<table></table>").appendTo(sdom);$.each(promptdef,function(index,obj){var m=$("<tr></tr>").appendTo(tb);var ctrl,i;var pr={name:obj.name,type:obj.type.toLowerCase(),ctrl:null};$("<th>"+(obj.title||"")+"</th>").appendTo(m);var tm=$("<td></td>").appendTo(m);switch(obj.type.toLowerCase()){case"combobox":ctrl=$("<select></select>").appendTo(tm);if(obj.data){if(typeof(obj.data)=="object"&&obj.data.length>0){for(i=0;i<obj.data.length;i++){$("<option value='"+(obj.data[i].value||obj.data[i].name)+"'>"+(obj.data[i].name||obj.data[i].value)+"</option>").appendTo(ctrl)}}}break;case"textinput":ctrl=$("<input type='text'></input>").appendTo(tm);ctrl.val(obj.value||obj.data||"");break}pr.ctrl=ctrl;rro.s4c.items.push(pr)});rpromptdlg.show();panel.rpp.show();var mh=$("#prompttable",panel.rpP).height()+25+30;rpromptdlg.height(Math.min(mh,300))}}}},F3:function(){var a=this,b=a._IK9,c=a._ILa,g=a.sheetobj,e;if(b&&b._IL8){g._ILb.panelwidth=IG$.x_10._w(a.gp);g._ILb.panelheight=IG$.x_10._h(a.gp);e=c._IJ1();a.setLoading(true);var d=new IG$._I3e();d.init(a,{ack:"18",payload:'<smsg><item uid="'+c.uid+'" jobid="'+b._IL8+'" option="pivot" active="'+g.sheetindex+'" pivotresult="F" rstatresult="T"/></smsg>',mbody:e},a,a.rs_F3);d._l()}},rs_F3:function(x){var B=this,h,z,q,c,j,m,o,d=B.rstat,g,w=B.rstatcontent,a=B.rscript,b,y,A,l=0;b=B.gz;y=B.cz;A=w;A.empty();b.empty();h=IG$._I18(x,"/smsg/result/execution");if(h){z=IG$._I26(h);c=[];for(q=0;q<z.length;q++){j=IG$._I24(z[q]);j=Base64.decode(j);m=null;try{m=$.parseJSON(j)}catch(u){l++}if(m){if(m.sc){if(/(summary|print)/.test(m.sc)==true||m.iserror==true){B.a(m,A)}}}c.push(m)}}h=IG$._I18(x,"/smsg/result/plot");if(h){j=IG$._I24(h);if(j){j=Base64.decode(j);try{o=$.parseJSON(j)}catch(u){o=null}B.p=[];for(q=0;q<o.gr.length;q++){if(o.gr[q].c=="pg"){g={w:o.w,h:o.h,gr:o.gr[q].data};B.p.push(g)}}if(B.p.length>0){B.pg=0;if(B.p.length>1){y.show();B.fm1()}B.F4(b,B.p[B.pg],true,false)}}}},a:function(F,J,D){var I,H,A,w,x,G,c,l,h,E,u,e,a,d,g,s,z,C,q,m,b;if(F.iserror==true){u=$("<div class='idv-r-stable'></div>").appendTo(J);cont=F.cont;$("<span>&gt;&gt; "+F.sc+"</span><br>").appendTo(u);$("<span color='red'>"+cont+"</span>").appendTo(u)}else{if(F.dt){A=F.dt;switch(A){case"namedlist":if(F.attr.dt=="namedlist"){w=F.attr.cont.names.cont;l=(F.attr.cont["row.names"]?F.attr.cont["row.names"].cont:null);h=F.cont;E=true;mlength=-1;for(C in h){if(h[C].cont&&h[C].cont.length){if(mlength<0){mlength=h[C].cont.length}if(mlength!=h[C].cont.length||h[C].dt=="lang"){E=false;break}}}if(w&&w.length>0){u=$("<div class='idv-r-stable'></div>").appendTo(J);d=$("<div><span style='float: left;'>"+(F.sc||(D?D.sc:""))+"</span><div>").appendTo(u);if(E==true){g=$("<div class='clipbutton' style='float: left;'>&nbsp;&nbsp;Select All</div>").appendTo(d);e=$("<table style='clear: both;'></table>").appendTo(u);g.bind("click",function(){IG$._I47(e)});a=$("<tr></tr>").appendTo(e);if(l&&l.length>0){$("<th></th>").appendTo(a)}for(I=0;I<w.length;I++){$("<th>"+w[I]+"</th>").appendTo(a)}b=(l&&l.length>0)?l.length:0;if(h&&h[w[0]]){b=Math.max(b,h[w[0]].cont.length)}for(I=0;I<b;I++){a=$("<tr></tr>").appendTo(e);if(l&&l.length>0){s=(l.length>I)?l[I]:"";$("<td>"+s+"</td>").appendTo(a)}for(H=0;H<w.length;H++){z=w[H];s=(h[z]&&h[z].cont.length>I)?h[z].cont[I]:"";$("<td>"+s+"</td>").appendTo(a)}}}else{for(C in h){h[C].sc=C;this.a(h[C],u)}}}}break;case"numeric":case"int":case"lang":if(F.cont&&F.cont.length>0){u=$("<div class='idv-r-stable'></div>").appendTo(J);d=$("<div><span style='float: left;'>"+(F.sc||(D?D.sc:""))+"</span><div>").appendTo(u);g=$("<div class='clipbutton' style='float: left;'>&nbsp;&nbsp;Select All</div>").appendTo(d);e=$("<table style='clear: both;'></table>").appendTo(u);g.bind("click",function(){IG$._I47(e)});a=$("<tr></tr>").appendTo(e);if(A=="lang"){$("<td>"+F.cont+"</td>").appendTo(a)}else{for(I=0;I<F.cont.length;I++){s=F.cont[I];$("<td>"+s+"</td>").appendTo(a)}}}break;case"factor":h=F.cont;if(h&&h.length>0){u=$("<div class='idv-r-stable'></div>").appendTo(J);d=$("<div><span style='float: left;'>"+(F.sc||(D?D.sc:""))+"</span><div>").appendTo(u);g=$("<div class='clipbutton' style='float: left;'>&nbsp;&nbsp;Select All</div>").appendTo(d);e=$("<table style='clear: both;'></table>").appendTo(u);g.bind("click",function(){IG$._I47(e)});a=$("<tr></tr>").appendTo(e);$("<td></td>").appendTo(a);for(I=0;I<h.length;I++){s=h[I];$("<td>"+s+"</td>").appendTo(a)}if(F.attr&&F.attr.dt=="namedlist"){for(C in F.attr.cont){var B=F.attr.cont[C].cont;a=$("<tr></tr>").appendTo(e);$("<th>"+C+"</th>").appendTo(a);for(I=0;I<B.length;I++){s=B[I];$("<td>"+s+"</td>").appendTo(a)}}}}break;case"string":h=F.cont;q=h.length;m=[];b=1;if(F.attr&&F.attr.dt=="namedlist"&&F.attr.cont.names){w=F.attr.cont.names.cont}else{if(F.attr&&F.attr.cont.dim){G=F.attr.cont.dim.cont;q=G[1];b=G[0]}if(F.attr&&F.attr.cont.dimnames){c=F.attr.cont.dimnames.dt;x=F.attr.cont.dimnames.cont}}u=$("<div class='idv-r-stable'></div>").appendTo(J);d=$("<div><span style='float: left;'>"+(F.sc||(D?D.sc:""))+"</span><div>").appendTo(u);g=$("<div class='clipbutton' style='float: left;'>&nbsp;&nbsp;Select All</div>").appendTo(d);e=$("<table style='clear: both;'></table>").appendTo(u);g.bind("click",function(){IG$._I47(e)});if(w&&w.length>0){a=$("<tr></tr>").appendTo(e);for(I=0;I<w.length;I++){s=w[I];$("<th>"+s+"</th>").appendTo(a)}}else{if(G&&c=="list"&&x&&x.length==2){a=$("<tr></tr>").appendTo(e);$("<th></th>").appendTo(a);for(I=0;I<G[1];I++){s=x[1].cont[I];$("<th>"+s+"</th>").appendTo(a)}}}for(I=0;I<b;I++){a=$("<tr></tr>").appendTo(e);m.push(a)}for(I=0;I<h.length;I++){var y=I%m.length;if(I<m.length&&G&&c=="list"&&x&&x.length==2){$("<td>"+x[0].cont[y]+"</td>").appendTo(m[y])}s=h[I];$("<td>"+s+"</td>").appendTo(m[y])}break;default:var o=A;break}}}},F4c:function(V,F){var A=this,B=IG$.x_10._w(V),K=IG$.x_10._h(V),M,s,Q,T,x,S,E=B/F.w,D=K/F.h,I,l,g,O,N,m,z,R=false;M=$("<canvas></canvas>").appendTo(V);O=B;N=K;IG$.x_10._w(M,O);IG$.x_10._h(M,N);A.crv=M;s=M[0].getContext("2d");if(s){s.canvas.width=O;s.canvas.height=N;s.lineWidth=0;var Q,L,P,T,W,U,S,V,o,z,q="[0-9\\-]+",H,y,X,u,l,g,m,G,b,C=0,w,J={x:0,y:0,w:s.canvas.width,h:s.canvas.height},a={x:J.x,y:J.y,w:J.w,h:J.h};for(Q=0,L=F.gr.length;Q<L;Q++){T=F.gr[Q];S=null;z={};if(T.c=="cr"){J={x:T.x*E,y:T.y*D,w:T.w*E,h:T.h*D};continue}else{if(T.c=="rc"){J={x:0,y:0,w:s.canvas.width,h:s.canvas.height};continue}}s.save();if(T.c!="t"&&(a.x!=J.x||a.y!=J.y||a.w!=J.w||a.h!=J.h)){s.beginPath();s.rect(J.x,J.y,J.w,J.h,false);s.clip()}a={x:J.x,y:J.y,w:J.w,h:J.h};b=false;if(T.lc){s.lineCap=T.lc}if(T.lj){s.lineJoin=T.lj}if(T.ml){s.miterLimit=Number(T.ml)}if(T.ss){lss=T.ss;s.lineWidth=1;b=true;s.strokeStyle=lss}if(T.lw||T.lw==0){C=Number(T.lw)}if(b==true){s.lineWidth=C}if(T.fs){s.fillStyle=T.fs}l=0;g=0;if(T.ftr&&T.c!="t"){s.ftr(T.ftr[0]+l,T.ftr[1]+g)}if(T.c=="t"){m={width:s.measureText(T.data).width,height:10};O=(T.ftr?T.ftr[0]:0);N=(T.ftr?T.ftr[1]:0);if(T.fro){T.x+=A.df*T.data.length/2-m.width/2;l=O*E;g=N*D}else{l=(T.x+O)*E;g=(T.y+N)*D}s.translate(l,g);s.scale(1,1);lss=null;C=0}else{s.scale(E,D)}if(T.fro){s.rotate(T.fro)}switch(T.c){case"c":s.beginPath();s.arc(T.cx,T.cy,T.r,0,2*Math.PI,false);s.stroke();if(T.fs){s.fill()}break;case"l":if(C>0){s.lineWidth=C;s.beginPath();s.moveTo(T.x1,T.y1);s.lineTo(T.x2,T.y2);s.stroke()}break;case"t":if(T.fro){s.fillText(T.data,T.x,T.y)}else{s.fillText(T.data,0,0)}break;case"pl":if(T.data){w=T.data.split(/[MLZ]+/);u=false;for(P=0;P<w.length;P++){if(w[P]==""){continue}H=w[P].split(",");y=H[0];X=H[1];if(u==false){s.beginPath();s.moveTo(y,X)}else{s.lineTo(y,X)}u=true}if(b==true){s.stroke()}}break;case"po":if(T.data){w=T.data.split(/[MLZ]+/);u=false;for(P=0;P<w.length;P++){if(w[P]==""){continue}H=w[P].split(",");y=H[0];X=H[1];if(u==false){s.beginPath();s.moveTo(y,X)}else{s.lineTo(y,X)}u=true}s.closePath();if(T.fs){s.fill()}if(b==true){s.stroke()}}break;case"r":s.beginPath();s.rect(T.x+(T.w<0?T.w:0),T.y+(T.h<0?T.h:0),Math.abs(T.w),Math.abs(T.h));if(T.fs){s.fill()}if(b==true){s.stroke()}break;case"n":lss=null;C=0;break;default:lss=null;C=0;break}s.restore()}}},F4s:function(Z,E,a){var w=this,z=IG$.x_10._w(Z),I=IG$.x_10._h(Z),O,o,U,K,P,Y,s,X,D=z/E.w,B=I/E.h,G,l,j,T,R,m,u,V=false,S,Q,N,M,H=[0,0,z,I],b=[],g,q,y,J,W,F,C,x,A,L;if(a==false){b.push("<svg style='overflow-x:hidden;overflow-y:hidden;position:relative;' height='"+I+"' version='1.1' width='"+z+"' xmlns='http://www.w3.org/2000/svg'><desc>Created by INGECEP 2.0.0</desc>");for(U=0,K=E.gr.length;U<K;U++){Y=E.gr[U];X=null;u={};V=false;g=null;q=null;switch(Y.c){case"c":g="<circle style='stroke-opacity:1;' cx='"+Y.cx+"' cy='"+Y.cy+"' r='"+Y.r+"' ";q="/>";u["stroke-width"]=0;u["stroke-opacity"]=0;V=true;break;case"l":g="<path style='stroke-opacity:1;' d='";g+="M"+Y.x1+","+Y.y1+"L"+Y.x2+","+Y.y2+"' ";q="/>";V=true;break;case"t":t1x=0;t1y=0;if(Y.pro){t1x=Y.x+w.df*Y.data.length/2;t1y=Y.y}g="<text style='text-anchor: middle; font-family: Arial; font-size: 10px; font-style: normal; font-variant: normal; font-weight: normal; line-height: normal; ' x='"+t1x+"' y='"+t1y+"' text-anchor='middle' font='10px &quot;Arial&quot;'";q="><tspan>"+Y.data+"</tspan></text>";break;case"pl":if(Y.data){g="<path style='stroke-opacity:1;' d='"+Y.data+"'";q="/>";u["stroke-width"]=0;u["stroke-opacity"]=0;u.fill="none";V=true}break;case"po":if(Y.data){g="<path style='stroke-opacity:1;' d='"+Y.data+"'";q="/>";u["stroke-width"]=0;u["stroke-opacity"]=0;u.fill="none";V=true}break;case"r":g="<path style='stroke-opacity:1;' d='M"+(Y.x+(Y.w<0?Y.w:0))+","+(Y.y+(Y.h<0?Y.h:0))+"L"+(Y.x+(Y.w<0?Y.w:0)+Math.abs(Y.w))+","+(Y.y+(Y.h<0?Y.h:0))+"L"+(Y.x+(Y.w<0?Y.w:0)+Math.abs(Y.w))+","+(Y.y+(Y.h<0?Y.h:0)+Math.abs(Y.h))+"L"+(Y.x+(Y.w<0?Y.w:0))+","+(Y.y+(Y.h<0?Y.h:0)+Math.abs(Y.h))+"Z'";q="/>";u["stroke-opacity"]=0;u["stroke-width"]=0;u.fill="none";V=true;break;case"n":break;default:break}if(g){if(Y.lc){V=true;u["stroke-linecap"]=Y.lc}if(Y.lj){V=true;u["stroke-linejoin"]=Y.lj}if(Y.ml){V=true;u["stroke-miterlimit"]=Number(Y.ml)}if(Y.lw){V=true;u["stroke-width"]=Number(Y.lw);u["stroke-opacity"]=(Number(Y.lw)>0?1:0)}if(Y.ss){u.stroke=Y.ss;u["stroke-width"]=1;u["stroke-opacity"]=1;V=true}if(Y.fs){if(Y.fs.substring(0,4)=="rgba"){S=Y.fs.substring(6,Y.fs.length-1).split(",");S[3]=Number(S[3]);Q=1-S[3];for(P=0;P<S.length-1;P++){S[P]=Math.round((S[3]*Number(S[P]))+(Q*255))}u["fill-opacity"]=Q;S.splice(3,1);u.fill="rgb("+S.join(",")+")"}else{u.fill=Y.fs}V=true}J=false;W="";if(V==true){for(y in u){g+=" "+y+"='"+u[y]+"'"}}l=0;j=0;if(Y.c=="t"){T=(Y.ftr?Y.ftr[0]:0);R=(Y.ftr?Y.ftr[1]:0);if(Y.fro){m=IG$.measureText(10,Y.data);l=(T)*D-5;j=(R)*B}else{l=(Y.x+T)*D;j=(Y.y+R)*B-5}W+=" translate("+(l.toFixed(4)*1)+","+(j.toFixed(4)*1)+")";J=true}else{W+=" scale("+D+","+B+")";J=true}if(Y.ftr&&Y.c!="t"){W+=" translate("+(Y.ftr[0])+","+(Y.ftr[0])+")";J=true}if(Y.fro){x=Y.fro;W+=" rotate("+((x*180/Math.PI).toFixed(2)*1)+")";J=true}if(J){g+=" transform='"+W+"'"}g+=q;b.push(g)}}b.push("</svg>")}else{O=Raphael(Z[0],z,I);O.setStart();for(U=0,K=E.gr.length;U<K;U++){Y=E.gr[U];X=null;u={};V=false;switch(Y.c){case"c":X=O.circle(Y.cx,Y.cy,Y.r);u["stroke-width"]=0;u["stroke-opacity"]=0;V=true;break;case"l":X=O.path("M"+Y.x1+","+Y.y1+"L"+Y.x2+","+Y.y2);break;case"t":if(Y.fro){Y.x+=w.df*Y.data.length/2;X=O.text(Y.x*D,Y.y*B,Y.data)}else{X=O.text(0,0,Y.data)}break;case"pl":if(Y.data){X=O.path(Y.data);u["stroke-width"]=0;u["stroke-opacity"]=0;V=true}break;case"po":if(Y.data){X=O.path(Y.data);u["stroke-width"]=0;u["stroke-opacity"]=0;V=true}break;case"r":X=O.rect(Y.x+(Y.w<0?Y.w:0),Y.y+(Y.h<0?Y.h:0),Math.abs(Y.w),Math.abs(Y.h));u["stroke-opacity"]=0;u["stroke-width"]=0;V=true;break;case"cr":H=[Y.x*D,Y.y*B,Y.w*D,Y.h*B];break;case"rc":H=[0,0,z,I];break;case"n":break;default:break}if(X){if(Y.c!="t"){u["clip-rect"]=H.join(",")}if(Y.lc){V=true;u["stroke-linecap"]=Y.lc}if(Y.lj){V=true;u["stroke-linejoin"]=Y.lj}if(Y.ml){V=true;u["stroke-miterlimit"]=Number(Y.ml)}if(Y.lw){V=true;u["stroke-width"]=Number(Y.lw);u["stroke-opacity"]=(Number(Y.lw)>0?1:0)}if(Y.ss){u.stroke=Y.ss;u["stroke-width"]=1;u["stroke-opacity"]=1;V=true}if(Y.fs){u.fill=Y.fs;V=true}if(V==true){X.attr(u)}l=0;j=0;if(Y.c=="t"){T=(Y.ftr?Y.ftr[0]:0);R=(Y.ftr?Y.ftr[1]:0);if(Y.fro){m=X.getBBox();l=(T)*D-5;j=(R)*B;X.translate(l,j);X.rotate(Y.fro*180/Math.PI,0,0)}else{l=(Y.x+T)*D;j=(Y.y+R)*B-5;X.translate(l,j)}}else{X.scale(D,B,D,B)}if(Y.ftr&&Y.c!="t"){X.translate(Y.ftr[0]+l,Y.ftr[1]+j)}if(Y.fro&&Y.c!="t"){X.rotate(Y.fro*180/Math.PI)}}}s=O.setFinish()}return b},F4:function(K,a,x,H){var O=this,D=O.gp,B=IG$.x_10._w(D),M=IG$.x_10._h(D),b=IG$.x_10._w(K),q=IG$.x_10._h(K),y,E,F,J,s,I,l=b/a.w,j=q/a.h,m,w,u,N,L,o,C,G=false,A=[];if(B==0&&M==0){B=O.width;M=O.height;IG$.x_10._w(D,B);IG$.x_10._h(D,M)}if(b==0&&q==0){b=O.width;q=O.height;IG$.x_10._w(K,b);IG$.x_10._h(K,q)}if(Math.abs(a.w-B)>5||Math.abs(a.h-M)>5){b=a.w;q=a.h;IG$.x_10._w(K,b);IG$.x_10._h(K,q);if(B<b||M<q){D.css({overflow:"scroll"})}else{D.css({overflow:"hidden"})}}else{if(H===false){IG$.x_10._w(K,a.w);IG$.x_10._h(K,a.h)}D.css({overflow:"hidden"})}var g=false,z=!!window.HTMLCanvasElement;g=IG$.mcanvas||z;if(x==false){A=O.F4s(K,a,x)}else{if(g){O.F4c(K,a)}else{O.F4s(K,a,x)}}return A},R1:function(b){var a=this;a.gp=b;a.gz=$("<div></div>");a.gz.appendTo(b);a.cz=$("<ul class='r-menu'><ul>").hide();a.mz=$("<li class='r-disp'></li>").appendTo(a.cz);a.mz.text("Page: "+(a.pg+1));$("<li class='r-back' title='Previous page'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm)}a.fm(-1)});$("<li class='r-stop' title='Stop play'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm);a.pgm=-1}});$("<li class='r-play' title='Play pages'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm)}a.pg=0;a.pgm=setInterval(function(){a.fm(1)},a.pgs)});$("<li class='r-slower' title='Slower play'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm)}a.pgs+=100;a._ILb.rro.pgs=a.pgs;a.pgm=setInterval(function(){a.fm(1)},a.pgs)});$("<li class='r-faster' title='Fast play'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm)}if(a.pgs-100>100){a.pgs-=100;a._ILb.rro.pgs=a.pgs}a.pgm=setInterval(function(){a.fm(1)},a.pgs)});$("<li class='r-forward' title='Next page'> </li>").appendTo(a.cz).bind("click",function(){if(a.pgm>-1){clearInterval(a.pgm)}a.fm(1)});a.cz.appendTo(b);IG$._I0a(b);a.rstat=$("<div class='m-r-rstat'></div>").hide();var c=$("<div class='m-r-rstat-button'><span id='rstat-title'>Statistics Summary</span><div id='rstat-close'></div></div>").appendTo(a.rstat);$("#rstat-close",c).bind("click",function(){var d=a;if(d._ILb){d._ILb.rro.s1=false}d.rstat.hide()});a.rstatcontent=$("<div class='m-r-rstatcontent'></div>").appendTo(a.rstat);a.rstat.appendTo(b);a.rpp=$("<div class='m-r-promptbutton'><div class='icon'></div><span>Prompt</span></div>").hide();a.rpp.appendTo(b);a.rpP=$("<div class='m-r-promptpanel'><table id='prompttable'><tr id='promptcontent'></tr><tr><td><button id='promptrequest'>Request</button></td></tr></table></div>").hide();a.rpP.appendTo(b);sdom=$("#promptrequest",a.rpP);sdom.bind("click",function(){a.F3.call(a)});a.rpp.bind("click",function(){a.rpP.toggle()})},fm:function(e){var b=this,d=b.p,g=b.pg,c=b.gz,a=g+e;if(a<d.length&&a>-1){b.pg=a;b.fm1();c.empty();b.F4(c,d[b.pg],true,false)}else{if(b.pgm>-1){clearInterval(b.pgm)}}},fm1:function(){var a=this;a.mz.text("Page: "+(a.pg+1)+"/"+a.p.length)},f5u:function(){var a=[],m=this,b=m._IK2,g=b.results,s,l,q,o,e,d,c,h;if(b&&g&&g.length>0){s=g[0];l=s.rowfix;q=s.colfix;o=s.cols;e=s.data;for(d=0;d<o;d++){for(c=0;c<l;c++){h=(c==0)?e[c][d].code:h+"_"+e[c][d].code}a.push({cindex:d,isdata:(d<q?false:true),name:h})}}return a}};if($s.window){IG$.rp$Rr=$s.extend($s.window,{name:"rscript",title:"Script",layout:"fit",height:400,width:500,modal:true,draggable:true,bodyStyle:"padding: 0px",resizable:true,focusOnToFront:true,_1:function(){var c=this,d=c.down("[name=rscript]"),a=c.down("[name=rprompt]"),g=c.down("[name=minwidth]"),e=c.down("[name=minheight]"),b=c._ILb;d.setValue(b.rro.s3);a.setValue(b.rro.s4);g.setValue(b.rro.smw);e.setValue(b.rro.smh)},_2:function(){var b=this,c=b.down("[name=rscript]"),a=b.down("[name=rprompt]"),e=b.down("[name=minwidth]"),d=b.down("[name=minheight]");c.setValue(_ILb.rro.s3);a.setValue(_ILb.rro.s4);e.setValue(_ILb.rro.smw);d.setValue(_ILb.rro.smh)},initComponent:function(){var a=this;$s.apply(a,{items:[{xtype:"tabpanel",name:"meT",activeTab:0,flex:1,headerPosition:"right",tabPosition:"top",preventHeader:true,plain:true,layout:"fit",defaults:{bodyPadding:10},items:[{xtype:"panel",title:"Script",layout:"fit",border:0,items:[{xtype:"textarea",grow:false,name:"rscript",fieldLabel:"R Script",hideLabel:true,anchor:"100%"}],dockedItems:[{xtype:"form",dock:"bottom",layout:"anchor",defaults:{anchor:"100%",bodyStyle:"padding: 2px"},items:[{xtype:"fieldset",title:IRm$.r1("L_VIEW_OPTION"),defaultType:"textfield",items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},bodyPadding:0,items:[{name:"minwidth",fieldLabel:IRm$.r1("L_MIN_WIDTH"),xtype:"numberfield",labelAlign:"right",value:0,minValue:0,maxValue:5000,flex:1},{name:"minheight",fieldLabel:IRm$.r1("L_MIN_HEIGHT"),xtype:"numberfield",labelAlign:"right",value:0,minValue:0,maxValue:5000,flex:1}]}]}]}]},{xtype:"panel",title:"Prompt",layout:"fit",border:0,items:[{xtype:"textarea",grow:false,name:"rprompt",fieldLabel:"R Prompt",hideLabel:true,anchor:"100%"}]}]}],listeners:{beforeclose:function(b,c){var d=this;if(d._ILb){d._ILb.rro.s2=false}},afterrender:function(){this._1()},scope:this},buttons:["->",{xtype:"button",text:"Request",handler:function(){var e=this,g=e.down("[name=rscript]"),d=e.down("[name=rprompt]"),j=e.down("[name=minwidth]"),h=e.down("[name=minheight]"),c=e._ILb,b=c.rro;b.s3=g.getValue();b.s4=d.getValue();b.smw=j.getValue();b.smh=h.getValue();e.callback&&e.callback.execute()},scope:this},{xtype:"button",text:"Close",handler:function(){var b=this;b.close()},scope:this}]});IG$.rp$Rr.superclass.initComponent.call(this)}})}IG$.rp$RR=IG$.x_c(IG$.pb,{sheetobj:null,pg:0,pgm:-1,pgs:2000,rt:-1,df:6,sized:true,aftsized:false,layout:"fit",_k1:false,_IFd:function(){var b=this,a=b.getWidth(),g=b.getHeight(),e=b.body.dom,c=null,d;b._k1=true;b.FmP();if(b._IK2){b._IKc(null,null,null,null,true)}},_IL0:function(){},_IKc:function(m,l,e,c,o){var a=this,q,g,j=a.rstat,b=a.rstatcontent,d;if(!o){a._IK2=m;a._IK9=l;a._ILa=e;a._ILb=c}if(!a._k1){return}q=a.getWidth();g=a.getHeight();if(a._ILb.rro.s1){j.show()}else{j.hide()}a.pgs=a._ILb.rro.pgs||2000;setTimeout(function(){if(m.r_stat){a.rs_F3.call(a,m.r_stat)}else{if(a.sized==true){a.F3.call(a)}else{a.aftsized=true}}},20)},F2a:function(){var a=this,b=a._ILb},_IJ8:function(d){var b=this,c=b.rstat,a,e;switch(d){case"cmd_r_summary":a="s1";c.show();break;case"cmd_r_script":a="s2";e=new IG$.rp$Rr({_ILb:b._ILb,callback:new IG$._I3d(b,function(){var g=this;g.FmP.call(g);g.F3()})});IG$._I_5(this,e);break}if(b._ILb&&a){b._ILb.rro[a]=true}},_IFd:function(){var b=this,a=b.getWidth(),g=b.getHeight(),e=b.body.dom,c=null,d;b._k1=true;b.FmP();if(b._IK2){b._IKc(null,null,null,null,true)}},_IL0:function(){},_ic:function(){var a=this;IG$.apply(a,{items:[{xtype:"panel",name:"rmain",layout:"fit",items:[{name:"rgraph",xtype:"panel",layout:"fit",items:[{name:"rg",html:"",xtype:"container",bodyStyle:"padding: 0px"}]}]}]});a.on("resize",function(d,b,c){a.CLS.resize.call(a,b,c)});a.on("afterrender",function(){a.CLS.afterrender.call(a,a)});IG$.rp$RR.superclass._ic.call(a)},CLS:{resize:function(a,d){var g=this,c=g.down("[name=rgraph]"),b=g.down("[name=rg]"),e=g.gz;if(a>0&&d>0){b.setSize(a,d);if(e){IG$.x_10._w(e,a);IG$.x_10._h(e,d)}g.setPanelSize(a,d);g.sized=true;if(g.aftsized==true){g.aftsized=false;g.F3.call(g)}}},afterrender:function(b){var a,d=b.down("[name=rg]"),c=$(d.body.dom);c.empty();b.R1.call(b,c);this._IFd()}},F3:IG$._Ib9.F3,rs_F3:IG$._Ib9.rs_F3,a:IG$._Ib9.a,F4c:IG$._Ib9.F4c,F4s:IG$._Ib9.F4s,F4:IG$._Ib9.F4,FmP:IG$._Ib9.FmP,fm:IG$._Ib9.fm,fm1:IG$._Ib9.fm1,f5u:IG$._Ib9.f5u,R1:IG$._Ib9.R1,setPanelSize:function(a,b){var c=this;if(c.rt>-1){clearTimeout(c.rt)}c.rt=setTimeout(function(){var d=c.gz;d.empty();if(c.p&&c.p.length>0){c.width=a;c.height=b;c.F4(d,c.p[c.pg],true,true)}},200)},_IL7:function(){var a="";return a},_IB4:function(q,c,b,B,x,j,m){var C=this,s=[],y,e=c,d=b,h,A,z,u,l,g,o,w=C.p,a=C.gz;if(w&&w.length>C.pg){z=w[C.pg];e=c;d=b;g=IG$.x_10._w(a);o=IG$.x_10._h(a);s.push("<item type='chart' x='"+e+"' y='"+d+"' d_width='"+j+"' d_height='"+m+"' width='"+g+"' height='"+o+"' docid='"+x+"'>");if(B!=="SVG"&&C.crv&&C.crv[0]&&C.crv[0].toDataURL){s.push("<ImageData type='png'><![CDATA["+C.crv[0].toDataURL("image/png")+"]]></ImageData>")}else{s.push("<ImageData type='svg'><![CDATA["+Base64.encode(C.F4(a,z,false).join(""))+"]]></ImageData>")}s.push("</item>")}return s.join("")},_IN0:function(b,a){var c=this;if(b&&a){c._ILa=b;c._ILb=a}}});IG$.rp$RPa=IG$.x_c(IG$.pb,{sheetobj:null,pg:0,pgm:-1,pgs:2000,rt:-1,df:6,sized:true,aftsized:false,layout:"fit",_k1:false,_IL0:function(){},_IKc:function(j,g,d,b,l){var a=this,m,e,c;if(!l){a._IK2=j;a._IK9=g;a._ILa=d;a._ILb=b}if(!a._k1){return}m=a.getWidth();e=a.getHeight();setTimeout(function(){if(j.r_python){a.rs_F3.call(a,j.r_python)}else{if(a.sized==true){a.F3.call(a)}}},10)},F3:function(){var a=this,b=a._IK9,c=a._ILa,g=a.sheetobj,e;if(b&&b._IL8){g._ILb.panelwidth=IG$.x_10._w(a.gp);g._ILb.panelheight=IG$.x_10._h(a.gp);e=c._IJ1();a.setLoading(true);var d=new IG$._I3e();d.init(a,{ack:"18",payload:'<smsg><item uid="'+c.uid+'" jobid="'+b._IL8+'" option="pivot" active="'+g.sheetindex+'" pivotresult="F" pythonresult="T"/></smsg>',mbody:e},a,a.rs_F3);d._l()}},rs_F3:function(a){var d=this,g,b,c=d.down("[name=rg]"),e=$(".notebook",c.body.dom);g=IG$._I18(a,"/smsg/result/output");e.empty();if(g){b=IG$._I24(g);b=Base64.decode(b);$(b).appendTo(e)}},_IJ8:function(b){var a=this},_IFd:function(){var b=this,a=b.getWidth(),g=b.getHeight(),e=b.body.dom,c=null,d;b._k1=true;if(b._IK2){b._IKc(null,null,null,null,true)}},_IL0:function(){},_ic:function(){var a=this;IG$.apply(a,{items:[{xtype:"panel",name:"rmain",layout:"fit",items:[{name:"rgraph",xtype:"panel",layout:"fit",items:[{name:"rg",xtype:"container",autoScroll:true,bodyStyle:"padding: 0px"}]},{xtype:"panel",name:"redit",layout:"fit",hidden:true,html:"<div class='r_python'><textarea name='tarea'></textarea></div>"}]}]});a.on("resize",function(d,b,c){a.CLS.resize.call(a,b,c)});a.on("afterrender",function(){a.CLS.afterrender.call(a,a)});IG$.rp$RPa.superclass._ic.call(a)},CLS:{resize:function(a,b){var c=this;if(a>0&&b>0){c.setPanelSize(a,b);c.sized=true;if(c.aftsized==true){c.aftsized=false}}},afterrender:function(b){var a,d=b.down("[name=rg]"),c=$(d.body.dom);$("<div class='notebook notebook-container'></div>").appendTo(c);this._IFd()}},setPanelSize:function(a,b){var c=this;if(c.rt>-1){clearTimeout(c.rt)}c.rt=setTimeout(function(){},20)},_IL7:function(){var a="";return a},_IB4:function(q,c,b,B,x,j,m){var C=this,s=[],y,e=c,d=b,h,A,z,u,l,g,o,w=C.p,a=C.gz;if(w&&w.length>C.pg){z=w[C.pg];e=c;d=b;g=IG$.x_10._w(a);o=IG$.x_10._h(a);s.push("<item type='chart' x='"+e+"' y='"+d+"' d_width='"+j+"' d_height='"+m+"' width='"+g+"' height='"+o+"' docid='"+x+"'>");if(B!=="SVG"&&C.crv&&C.crv[0]&&C.crv[0].toDataURL){s.push("<ImageData type='png'><![CDATA["+C.crv[0].toDataURL("image/png")+"]]></ImageData>")}else{s.push("<ImageData type='svg'><![CDATA["+Base64.encode(C.F4(a,z,false).join(""))+"]]></ImageData>")}s.push("</item>")}return s.join("")},_IN0:function(b,a){var c=this;if(b&&a){c._ILa=b;c._ILb=a}},_do_edit:function(h){var d=this,c=d.down("[name=rgraph]"),e=d.down("[name=redit]"),b,a=d._ILb,g;c.setVisible(!h);e.setVisible(h);if(h){g=a.pro;b=$("[name=tarea]",e.body.dom);b.val(g?g.s3:"")}else{if(d.editmode){g=a.pro;b=$("[name=tarea]",e.body.dom);g.s3=b.val()}}d.editmode=h}});IG$._IPc=IG$.x_c(IG$.pb,{uid:null,name:"sheet",layout:"card",autoScroll:false,bodyBorder:false,scroll:false,_IK2:null,_ILa:null,_ILb:null,activeView:-1,_IL5:false,layoutcomplete:false,border:0,m1:null,_IFf:function(c){var d=this,a=d._ILb,b,e=d,g=true;b=a.needPrompt.call(a);if(b&&b.length>0){e._IKd&&e._IKd.setVisible(true);e.showPrompt.call(e,b)}else{if(g==true){e._IKd&&e._IKd.setVisible(false)}}!c&&d._IK2&&d._IJ2()},_l1:function(b){var a=this;clearTimeout(a.__s1);a.__s1=setTimeout(function(){var c=b<20?0:b-20;a._IP7.call(a,c,c+200,true)},100)},Uc:function(b){var d=this,a=d._ILb,c;c=a?a.Uc.call(a,b):true;if(c){a.cubeuid=b}},__r1:function(l,q,o){var C=this,E,b,y,e,a=C._ILb,z,c=o?o.cell:null,d=o?o.row:null,x,u,s,m,g=C._IK2&&C._IK2.results.length?C._IK2.results[0]:null,D=g?g.data:null,B,w,A;C._IIf(true,true);C._IJf=true;C._IK1=true;C._IK1a=true;if(C._IK9&&C._IK9._IL8){y=C._IK9._IL8;e="<smsg><item uid='"+(C.uid||"")+"' option='pivot' active='"+C.sheetindex+"' pivotresult='T' jobid='"+(y||"")+"'>";e+="<option source='"+(o.source||"map")+"' zoom='"+o.zoom+"'>";if(o.bound){e+="<bound x1='"+o.bound.x1+"' y1='"+o.bound.y1+"' x2='"+o.bound.x2+"' y2='"+o.bound.y2+"'/>"}else{if(o.source=="hierarchy"){if(c.position==1){z=a.rows[c.index]}e+="<hierarchy uid='"+z.uid+"' depth='"+c.celltree.depth+"'>";if(g){e+="<headers n='"+g.rowfix+"' c='"+(g.cols-g.colfix)+"'>";for(x=g.colfix;x<g.cols;x++){e+="<col n='"+(x-g.colfix)+"'>";w="";for(u=0;u<g.rowfix;u++){B=g.data[u][x];A=(B.code||"")+"_"+(B.index)+"_"+B.position;w=(u==0)?A:w+":"+A}e+="<![CDATA["+w+"]]>";e+="</col>"}e+="</headers>"}e+="<values>";e+="<value type='D' depth='"+c.celltree.depth+"'>";e+="<code><![CDATA["+c.code+"]]></code>";e+="<text><![CDATA["+c.text+"]]></text>";e+="</value>";m=c.celltree.parent;while(m){e+="<value type='D' depth='"+m.celltree.depth+"'>";e+="<code><![CDATA["+m.code+"]]></code>";e+="<text><![CDATA["+m.text+"]]></text>";e+="</value>";m=m.celltree.parent}if(c.index>0){for(x=0;x<c.index;x++){for(u=0;u<d.length;u++){if(d[u].position==1&&d[u].index==x){s=d[u];e+="<value type='C' uid='"+a.rows[x].uid+"'>";e+="<code><![CDATA["+s.code+"]]></code>";e+="<text><![CDATA["+s.text+"]]></text>";e+="</value>"}}}}e+="</values>";e+="</hierarchy>"}}e+="</option>";e+="</item></smsg>";E="<smsg></smsg>";b=new IG$._I3e();b.init(C,{ack:"18",payload:e,mbody:E},C,function(h){C._IK9.r_IKb.call(C._IK9,h,[null,C.sheetindex,null,null,null,null,null,c])});b._l()}},CLS:{afterrender:function(){var a=this;a.layoutcomplete=true;a._IFd()},resize:function(b,l,j,c){var g=this,a=b.getWidth(),e=b.getHeight();if(a==0||e==0){var d=$(b.body.dom);a=b.width;e=b.height;if(d){IG$.x_10._w(d,a);IG$.x_10._h(d,e)}}if(a>0&&e>0){if(g.loadMask&&g.rendermask){g._IIf(true)}else{if(g.loadMask){g.setLoading(true)}}}}},_IFd:function(){var b=this,a;if(b.rst){a=b._ILb.viewmode;b._d(a,b.rst);if(IG$.__ep){if(a=="grid"){}}}else{if(b._IL5==true){b._IJ2()}}},_d:function(b,a){this._IJe(a)},_IOf:function(){var d=this,c=false,b,a;if(d.m1&&d.m1.length>0){b=d.m1.pop();switch(b.type){case"remove":b.target.splice(b.index,0,b.item);break;case"add":if(b.item){d._IP1(b.item)}break;case"measurelocation":d._ILb.measureposition=b.measureposition;d._ILb.measurelocation=b.measurelocation;break;case"move":if(b.item&&b.plocation&&b.pindex>-1){a=d._IP1(b.item);if(a){b.plocation.splice(b.pindex,0,a)}}break;case"property":b.item[b.name]=b.value;break}c=true}return c},_II9:function(b){var a=this,c;switch(b){case"chart":c=1;break;case"r":c=2;break;case"d":c=3;break;case"python":c=4;break;default:c=0;break}if(c==3){a.setActiveItem(0)}a._ILb.viewmode=(c==3?a._ILb.viewmode:b);a._cv(c)},_IP0:function(){var a="";return a},_IP1:function(g){var e=this,c,b=e._ILb,d=false,a=null;for(c=0;c<b.rows.length;c++){if(b.rows[c].uid==g.uid){d=true;a=b.rows[c];b.rows.splice(c,1);break}}if(d==false){for(c=0;c<b.cols.length;c++){if(b.cols[c].uid==g.uid){d=true;a=b.cols[c];b.cols.splice(c,1);break}}}if(d==false){for(c=0;c<b.measures.length;c++){if(b.measures[c].uid==g.uid){d=true;a=b.measures[c];b.measures.splice(c,1);break}}}return a},_IP2:function(a){var b=this;b.m1=(b.m1==null)?[]:b.m1;b.m1.push(a)},_IL7:function(a){var c=this,b="";if(c.activeView==0){b=c._IH6._IL7.call(c._IH6,a)}else{if(c.activeView==1){b=c._IH7._IL7.call(c._IH7,a)}else{if(c.activeView==2){b=c._IH8._IL7.call(c._IH8,a)}else{if(c.activeView==3){b=c._IH8a._IL7.call(c._IH8a,a)}}}}return b},_IP3:function(){var b=this,a=null;if(b.activeView==0){a=b._IH6._IP3.call(b._IH6)}return a},_IP4:function(c,a,e){var b=this,d;if(b.activeView==3){return}b._IIf(true,true);b._IJf=true;b._IK1=true;b._IK1a=true;if(b._job&&b._job.sid&&b._job.jid){if(!b._IK9){b._IK9=new IG$._IKa();b._IK9.ctrlsource="report";b._IK9.panel=b;b._IK9.uid=b.uid;b._IK9.sheet=null;b._IK9.chart=null}b._IK9._ILa=b._ILa}if(b._IK9&&(b._IK9._IL8||b._job)){d=b._ILa._IJ1();b._IK9._IKb.call(b._IK9,d,null,b.sheetindex,null,c,a,null,b._job,e)}else{b._IJ2()}},_IIf:function(h){if(h==true){var d=this,a,g,e,c,b=d._ILa;if(b&&b.ploader){d.fireEvent("_ld_",d)}else{e={msg:IRm$.r1("B_PROC")+" <button id='m-mec-loader'>"+IRm$.r1("B_PROC_CANCEL")+"</button>"};c=d.setLoading(e);g=$(d.rendermask);a=$("#m-mec-loader",g).bind("click",function(){d._IP5.call(d)})}}},_IP5:function(){var a=this,b=new IG$._I3e();if(a.jobid){b.init(a,{ack:"18",payload:"<smsg><item jobid='"+a.jobid+"' option='cancel'/></smsg>",mbody:"<smsg></smsg>"},a,a.r_IP5,null);b.showerror=false;b._l()}},r_IP5:function(a){var b=this,c=IG$._I18(a,"/smsg"),d=c?IG$._I1b(c,"status"):null;if(d=="S"){b.setLoading(false)}},getResultSet:function(){return this._IK2&&this._IK2.results?this._IK2.results:null},_IJe:function(d){var c=this,a=c._ILb,b=a?a.viewmode:"grid";c._job=d._job;if(c._ILa&&c._ILa.iscomposite==true){viewmode="grid";c._ILa._IK2=d}else{viewmode=c._ILb.viewmode;a._IK2=d}c._IK2=d;var e=c.activeView;c._IJf=true;c._IK0=true;c._IK1=true;c._IK1a=true;if(viewmode=="grid"){if(e!=0&&e!=3&&c._cv){if(c._IK3&&c._IK3._IK4){c._IK3._IK4.call(c._IK3)}c._cv.call(c,0)}else{c._IK5(c,c.sheetindex)}}else{if(viewmode=="chart"){if(e!=1&&e!=3&&c._cv){if(c._IK3&&c._IK3._IK6){c._IK3._IK6.call(c._IK3)}c._cv(1)}else{c._IP8(c,c.sheetindex)}}else{if(viewmode=="r"){if(e!=2&&e!=3&&c._cv){if(c._IK3){c._IK3._IK4.call(c._IK3);c._IK3._IK7.call(c._IK3,true)}c._cv(2)}else{c._IK8(c,c.sheetindex)}}else{if(viewmode=="python"){if(e!=3&&c._cv){if(c._IK3){c._IK3._IK4.call(c._IK3)}c._cv(4)}else{c._IK8a(c,c.sheetindex)}}}}}c.fireEvent("result_loaded",c);c._refresh_timer&&clearTimeout(c._refresh_timer);if(c._ILb&&c._ILb.autorefresh&&c._ILb.refresh_timer>1){c._refresh_timer=setTimeout(function(){c._IJ2(null,null,1)},c._ILb.refresh_timer*1000)}},_b1:function(){var a=this;if(a._ILb&&a._ILb.viewmode=="python"){if(a._IH8a){a._IH8a._do_edit(0)}}},_IJ2:function(b,j,q){var g=this,a,o,s,d,e,m,c,l=0;delete g.btabrun;clearTimeout(g._refresh_timer);g.__el=1;if(!q||(q&&g._ILa&&!g._ILa.phideloader)){l=1;g._IIf(true,true)}m=g.getWidth();c=g.getHeight();g._IJf=true;g._IK1=true;g._IK1a=true;if(!g._IK9){g._IK9=new IG$._IKa();g._IK9.ctrlsource="report";g._IK9.panel=g;g._IK9.uid=g.uid;g._IK9.sheet=null;g._IK9.chart=null}g._IK9._IL8=(b)?b:null;if(g._ILa){g._ILa._dfilter=g._dfilter;g._IK9._ILa=g._ILa;if(g._ILa.iscomposite==false){d=g._ILa.sheets[g.sheetindex];e=d.needPrompt.call(d)}if(j!==true&&e&&e.length>0){g.setLoading(false);g.showPrompt(e)}else{o=g._ILa._IJ1();s=g._ILb.viewmode;if(g._IK9&&g._IK9._IL8){g._IK9._IKb.call(g._IK9,o,null,g.sheetindex)}else{if(g._IK9){g._IK9._IJ0.call(g._IK9,o,s,g.sheetindex,g,null,!l)}}}}else{g.setLoading(false)}},showPrompt:function(a){var b=this;b._IKd.sheetindex=""+b.sheetindex;b._IKd._ILa=b._ILa;b._IKd.prompts=a;b._IKd._IFd.call(b._IKd);b._IKd.setVisible(true)},rs_showPrompt:function(){this._IJ2(null,true)},_IK5:function(b,e){var j=this,h,d,g,a,l,c;j.a1();if(j._IH6&&j._IK0==true&&j._IK2){c=j._IKe();j._IK0=false;j._IH6._IL0.call(j._IH6);j._IH6._IKc.call(j._IH6,b._IK2,b._IK9,b._ILa,b._ILb,c);if(IG$.__ep){l=j._IH6.G1._0x030;h=l.twidth+l.fixedColWidth;d=l.theight+l.fixedRowHeight;g=l.cwidth;a=l.cheight;if(h>0&&d>0&&(h>g||d>a)){j.fireEvent("cresized",j,{tw:h,th:d,cw:g,ch:a})}}}},_IKe:function(){var e=this,b=false,a=e._ILb,c=e.down("[name=pagepanel]"),d;if(a.usepaging=="T"&&e._IK2&&e._IK2.results&&e._IK2.results.length==1){d=e._IK2.results[0];if(d.pagestart>0||d.pageend<d.rows){b=true}}if(b==true){e._IKf()}else{c.setVisible(false)}return b},exportSheet:function(a){var b=this;b.fireEvent("export_sheet",b,{filetype:a})},_IP6:function(){var c=this,b=new IG$._I3e(),e=c._ILa.name+" "+(c._ILb.title||"sheet"),a="csv",d=c._IK9?c._IK9._IL8:"";e=e.replace(/\./g,"_");e=e.replace(/ /g,"");e=e+".csv";if(d){c.setLoading(true);b.init(c,{ack:"20",payload:"<smsg><item uid='"+c.uid+"' jobid='"+d+"' type='"+a+"' filename='"+e+"' option='instanceload'/></smsg>",mbody:"<smsg></smsg>"},c,c.r_IB3,null,e);b._l()}},_Ip7:function(){var b=this,c=b._IK9?b._IK9._IL8:"",a;if(c){if(IG$.bA_2){b._Ip7A.call(b,c)}else{a=ig$.scmap.igc9;IG$.x03(a,new IG$._I3d(this,function(){if(IG$.bA_2){b._Ip7A.call(b,c)}else{IG$._I52(IRm$.r1("L_ERR_L_MOD"))}}))}}},_Ip7A:function(d){var b=this,a=new IG$._I3e(),c;c=new IG$.bA_2({jobid:d,fname:b._ILa.name+" "+(b._ILb.title||"sheet")});c.show()},r_IB3:function(a,e){var c=this,d=IG$._I18(a,"/smsg/info"),b,e;c.setLoading(false);if(IG$._I1b(d,"status")=="complete"){b=IG$._I1b(d,"downloadurl");e=IG$._I1b(d,"filename")||e;$.download(ig$.servlet,[{name:"ack",value:"35"},{name:"_mts_",value:IG$._g$a||""},{name:"payload",value:b},{name:"mbody",value:e}],"POST")}},_IKf:function(){var C=this,h=C.down("[name=pagepanel]"),y=$("#idv-pgview",h.body.dom),g=C._IK2.results[0],w,u,j,b=C._ILb,q=b.rowperpage,x=b.pagestyle||"p10",z,l,o,D,e=g.pagestart,A,B=10,s=[],a,m;y.empty();if(x=="p10"){B=10}else{if(x=="p5"){B=5}}a=$("<div class='idv-pglist'></div>").appendTo(y);A=$("<ul></ul>").appendTo(a);j=g.rows-g.rowfix;u=Math.ceil(j/q);if(u>1&&b.usepaging=="T"){h.setVisible(true);l=Math.floor(e/q);m=$("<div class='idv-pg-dwn-csv' title='Download data in CSV'></div>").appendTo(y);m.bind("click",function(){C._IP6.call(C)});if(x=="button2"){if(l>0){var c=$("<li><span>&lt;&lt;</span></li>").appendTo(A);c.bind("click",function(){var E=(l-1)*q;C._IP7.call(C,E)})}$("<li><span>"+(l+1)+" / "+u+" pages</span></li>").appendTo(A);if(l+1<u){var d=$("<li><span>&gt;&gt;</span></li>").appendTo(A);d.bind("click",function(){var E=(l+1)*q;C._IP7.call(C,E)})}}else{D=Math.floor(l/B)*B;o=D+B;o=Math.min(u,o);if(D>0){var c=$("<li><span>&lt;&lt;</span></li>").appendTo(A);c.bind("click",function(){var E=(D-1)*q;C._IP7.call(C,E)})}for(w=D;w<o;w++){s.push(w)}$.each(s,function(G,H){var E=(H+1);var F=$("<li"+(H==l?" class='active'":"")+"><span>"+E+"</span></li>").appendTo(A);if(H!=l){F.bind("click",function(){var I=H*q;C._IP7.call(C,I)})}});if(o<u){var d=$("<li><span>&gt;&gt;</span></li>").appendTo(A);d.bind("click",function(){var E=o*q;C._IP7.call(C,E)})}}}else{h.setVisible(false)}},_IP7:function(b,a,e){var d=this,c;d._IP4(b,a,e)},r_ILd:function(a,b){},_IP8:function(b,j){var g=this,d,a,e,c=[],l;g.a1();if(g._IJf==true){l=g._IKe();g._IJf=false;if(g._IH7){g._IH7._IL0.call(g._IH7);g._IH7._IKc.call(g._IH7,b._IK2,b._IK9,b._ILa,b._ILb,l)}}},_IK8:function(a,c){var b=this;if(b._IK1==true){b._IKe();b._IK1=false;b.a1(true);b._IH8._IKc.call(b._IH8,a._IK2,a._IK9,a._ILa,a._ILb)}else{b.a1()}},_IK8a:function(a,c){var b=this;if(b._IK1a){b._IKe();b._IK1a=false;b.a1(true);b._IH8a._IKc.call(b._IH8a,a._IK2,a._IK9,a._ILa,a._ILb)}else{b.a1()}},a1:function(b){var e=this,a=b?true:false,d=e._ILb,g;if(!a&&e._IK2&&e._IK2.results.length>0&&((e._IK2.results.length==1&&e._IK2.results[0].m1==false)||e._IK2.results.length>1)){a=true}else{if(d&&d.mdf&&e._IK2&&e._IK2.results.length>0){for(var c in d.mdf){g=d.mdf[c];if(g&&g.op){a=true;break}}}}e.setActiveItem(a||e.activeView==3?0:1)},_cv:function(b){var e=this,d=e.a2_,a=d.getWidth(),c=d.getHeight();e.activeView=b;e.a1();switch(b){case 0:if(!e._IH6){e._IH6=new IG$.rp$R({layout:"fit",sheetobj:this,width:a,height:c,flex:1,html:"",_ILa:e._ILa,_ILb:e._ILb,listeners:{drillreport:function(g){var h=this;h.fireEvent("drillreport",h)},itemclick:function(g,j){var h=this;h.fireEvent("itemclick",h,j)},itemdblclick:function(g,j){var h=this;h.fireEvent("itemdblclick",h,j)},menu:function(g,h){var j=this;j.fireEvent("menu",j,h)},pivotchanged:function(g){var h=this;h.fireEvent("pivotchanged",h)},scroll_request:function(g,l){var j=this,h=l;h=(h-50)>0?h-50:h;j._l1.call(j,h)},request_data:function(h,g,j){var l=this;l.__r1.call(l,h,g,j)},hierarchy:function(g,h){var l=this,j={source:"hierarchy",cell:h.cell,row:h.row};l.__r1.call(l,g,null,j)},scope:this}});d.add(e._IH6)}break;case 1:if(!e._IH7){e._IH7=new IG$.rp$C({layout:"fit",flex:1,html:"",width:a,height:c,frame:false,margins:"0 0 0 0",cmargins:"0 0 0 0",_IPb:this,showtoolbar:true,listeners:{drillreport:function(g){var h=this;h.fireEvent("drillreport",h)},itemclick:function(g,j){var h=this;h.fireEvent("itemclick",h,j)},itemdblclick:function(g,j){var h=this;h.fireEvent("itemdblclick",h,j)},menu:function(g,h){var j=this;j.fireEvent("menu",j,h)},pivotchanged:function(g){var h=this;h.fireEvent("pivotchanged",h)},scroll_request:function(g,j){var h=this;h._l1.call(h,j)},request_data:function(h,g,j){var l=this;l.__r1.call(l,h,g,j)},hierarchy:function(h,g){var j=this;j.__r1.call(j,h,cview,option)},scope:this}});d.add(e._IH7)}break;case 2:if(!e._IH8){e._IH8=new IG$.rp$RR({layout:"fit",flex:1,width:a,height:c,sheetobj:this,_ILa:e._ILa,_ILb:e._ILb});d.add(e._IH8)}break;case 3:if(!e._IH9){e._IH9a=new IG$.pb({bodycls:"igc-peditor"});d.add(e._IH9a)}break;case 4:if(!e._IH8a){e._IH8a=new IG$.rp$RPa({layout:"fit",flex:1,width:a,height:c,sheetobj:this,_ILa:e._ILa,_ILb:e._ILb});d.add(e._IH8a)}break}e._IH6&&e._IH6.setVisible(b==0?true:false);e._IH7&&e._IH7.setVisible(b==1?true:false);e._IH8&&e._IH8.setVisible(b==2?true:false);e._IH9a&&e._IH9a.setVisible(b==3?true:false);e._IH8a&&e._IH8a.setVisible(b==4?true:false);if(e.activeView==0){e._IK0==true&&e._IK5(e)}else{if(e.activeView==1){e._IJf==true&&e._IP8(e)}else{if(e.activeView==2){e._IK1==true&&e._IK8(e)}else{if(e.activeView==4){e._IK1a==true&&e._IK8a(e)}}}}},_IP9:function(b,a){var c=this;c._ILa=b;c._ILb=a;c._IH6._IP9(b,a);c._IH7._IP9(b,a)},_IN0:function(){var b=this,d=b._IH6,c=b._IH8,a=b._IH8a;d&&d._IN0.call(d,b._ILa,b._ILb);c&&c._IN0.call(c,b._ILa,b._ILb);a&&a._IN0.call(a,b._ILa,b._ILb)},_ILd:function(a){},_ILc:function(g){var s=this,d,e,a,l,q,u,w,m,h,o,a,c,b=(s._ILb)?s._ILb._IL9:null;filter=(s._ILb)?s._ILb.filter:null;if(b){for(e in b){a=b[e];d=IG$._I13(a);l=IG$._I18(d,"/FilterData");if(l){u=IG$._I26(l);for(m=0;m<u.length;m++){w=IG$._I26(u[m]);for(h=0;h<w.length;h++){c=IG$._I1c(w[h]);o=g[c.name]=g[c.name]||{data:[],p:{}};a=IG$._I1a(w[h],"value")||IG$._I1a(w[h],"code")||"";if(a!=""&&!o.p[a]){o.data.push(a);o.p[a]=1}}}}}}if(filter){s._IPa(filter,g)}},_IPa:function(b,e){var o=this,l,h,g,d,c,m,a;if(b&&b.subConditions&&b.subConditions.length>0){for(l=0;l<b.subConditions.length;l++){d=b.subConditions[l];if(d&&d._d6&&d._d6.length>0){c=d._d6[0].name;m=e[c]=e[c]||{data:[],p:{}};if(d.values){for(h=0;h<d.values.length;h++){a=d.values[h].text||d.values[h].code||"";if(a!=""&&!m.p[a]){m.data.push(a);m.p[a]=1}}}}}}if(b&&b.subGroups&&b.subGroups.length>0){for(l=0;l<b.subGroups.length;l++){g=b.subGroups[l];o._IPa(g,e)}}},_IIe:function(){var a=this;a._IK0=true;a._IJf=true;a._IK1=true;a._IK1a=true;a.activeView=-1;a._IH6&&a._IH6.setVisible(false);a._IH7&&a._IH7.setVisible(false);a._IH8&&a._IH8.setVisible(false);a._IH9a&&a._IH9a.setVisible(false);a._IH8a&&a._IH8a.setVisible(false)},_ic:function(){var a=this;a.on("afterrender",function(){a.CLS.afterrender.call(a);var b=a.getWidth(),c=a.getHeight();a.rzone=a.down("[name=rzone]");a.a2_=a.down("[name=a2_]");a.a3=a.down("[name=noresultpanel]");a.setActiveItem(1)});IG$.apply(this,{items:[{xtype:"container",name:"rzone",deferredRender:false,layout:"fit",items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",flex:1,name:"a2_",layout:"fit",border:0},{xtype:"container",name:"pagepanel",html:"<div id='idv-pgview' class='idv-pgview'>Page view</div>",hidden:true,height:25}],region:"center",flex:1}]},{xtype:"container",name:"noresultpanel",deferredRender:false,html:"<div class='igc-no-results'><div class='no-result-msg'>"+(IRm$.r1("B_NO_DATA")||"No Results")+"</div></div>"}]});IG$._IPc.superclass._ic.call(this)}});IG$._Ibb=IG$._Ibb||{};$s.apply(IG$._Ibb,{_INf:function(a){var e=this,d=a,c=d.sheetindex,b;e._IO0(d);if(d._ILb.isdrillreport==true){return false}e._ine_t&&clearTimeout(e._ine_t);e._ine_t=setTimeout(function(){e._IL6.call(e,c,d)},500);return b},F:function(view,m,cl){var me=this;me._ine_t&&clearTimeout(me._ine_t);me._ine_t=setTimeout(function(){var drillfilter,dobj={titem:{enabled:false,item_map:{},items:[]},tparams:{enabled:false,item_map:{},items:[]},_dall:true},paux,auxfilter={},req,exportdata;drillfilter=view._IL7.call(view,dobj);if(drillfilter){paux=view._ILb._IL9;if(paux){for(var k in paux){auxfilter[k]=paux[k]}}auxfilter["report_"+view.sheetindex]=drillfilter;exportdata=["<smsg><item><auxfilter>"];for(var key in auxfilter){exportdata.push(auxfilter[key])}exportdata.push("</auxfilter></item></smsg>");view.setLoading.call(view,true,false);req=new IG$._I3e();req.init(me,{ack:"20",payload:"<smsg><item "+IG$._I20(m,"uid;type","s")+" option='LINK_FIELD'/></smsg>",mbody:exportdata.join("")},me,function(xdoc){view.setLoading.call(view,false);var tnode=IG$._I18(xdoc,"/smsg/item"),act=(tnode?IG$._I1b(tnode,"action"):null),dnode,fileuid,fileext,fname,dview,durl;if(act=="DOC"){dnode=IG$._I18(tnode,"info");if(dnode){fileuid=IG$._I1b(dnode,"downloadurl");fileext=IG$._I1b(dnode,"fileext");fname=IG$._I1b(dnode,"filename");fname=(fname?fname:m.name)+"."+fileext;$.download(ig$.servlet,[{name:"ack",value:"35"},{name:"payload",value:fileuid},{name:"_mts_",value:IG$._g$a||""},{name:"mbody",value:fname}],"POST")}}else{if(act=="DRILL"){dnode=IG$._I18(tnode,"target");if(dnode){dview=IG$._I1c(dnode);me._INd(view,dview,drillfilter)}}else{if(act=="EXTERNAL"){dnode=IG$._I18(tnode,"url");if(dnode){dview=IG$._I1b(dnode,"target");durl=IG$._I24(dnode);if(durl){if(durl.substring(0,"javascript:".length)=="javascript:"){try{durl=durl.substring("javascript:".length);eval(durl)}catch(e){IG$._I52("ERROR on External Call."+durl+e,me)}}else{var ownd=null,MSG_POPUPS_BLOCKED=window.popups_blocked||"A window was blocked by pop-up blocker.\nTo run Administrator, pop-up windows must be allowed.\nPlease configure your blocker software to allow pop-ups for this site.";ownd=window.open(durl);if(ownd==null||typeof(ownd)=="undefined"){alert(MSG_POPUPS_BLOCKED)}}}}}}}},function(xdoc){view.setLoading.call(view,false)});req._l()}},500)},J3:function(l,q){var h=this,a=1,e,s=h.dzone,o,u=l?l._ILb.docid:null,b,c,j,d,g=[];for(e=0;e<s.items.length;e++){d=s.items[e];o=s.items[e].view;if((q||d.visible!==false)&&o&&o._ILb){c=o._ILb;j=c.pff1a;if(c.objtype=="FILTER"&&d.docid!=u&&!j.showbutton&&j.f_b_evt=="T"){b=o.l5m.call(o,1,g);if(!b){a=0}else{if(a){h._IO1(o,1);$.each(g,function(m,w){o.cc1.call(o,w,undefined)})}}}else{if(c.objtype=="RPT_VIEW"){if(o.irpt&&o.irpt.dzone){b=o.irpt.J3.call(o.irpt,null,q);if(!b){a=0}}}}}}return a},_IL6:function(b,e){var L=this,F,j,G=(L.sheets[b]._IK9)?L.sheets[b]._IK9._IL8:null,l,c=false,J,H=e._ILb,A=H?H.edrill:false,a=(H&&H.drilltarget?H.drilltarget:null),w=new IG$._dpca(a),s,B,z=L.dzone,o,E,C,u,q,I,m,d=false,K=L.dzone.docitems||{},y,h,g=false,x;c=false;for(F=0;F<L.sheets.length;F++){j=L.sheets[F];s=w._2("sheet_"+F);x=j._ILb;if((x.drillreport==true||A||(s&&s.isdrill))&&j.sheetindex!=b){if(!A&&w._e&&(!s||(s&&!s.isdrill))){continue}l=x._IL9;if(c==true){for(J in l){if(J.indexOf("report_")>-1){delete l[J]}}}B=x._IL9;if(B){for(var D in B){l[D]=B[D]}}m=e._IL7.call(e,s);if(m&&m.length>0){g=true;l["report_"+b]=m;o=z._IIb.call(z,j.renderBox);d=true;if(o&&o.parent&&o.parent.objtype=="TAB"){E=o.parent.view;d=E.active==j.renderBox}if(d==true){j._IJ2.call(j,null)}else{j.btabrun=true}}}}for(D in K){y=K[D].lt.ubody;h=y.view;if(y.objtype=="RPT_VIEW"){if(h){if(h.irpt){for(F=0;F<h.irpt.sheets.length;F++){j=h.irpt.sheets[F];rop=j._ILa;sop=j._ILb;s=rop?w._2(rop.uid+"_sheet_"+F):null;if((sop.drillreport==true||A||(s&&s.isdrill))){if(!A&&w._e&&(!s||(s&&!s.isdrill))){continue}l=sop._IL9;if(c==true){for(J in l){if(J.indexOf("report_")>-1){delete l[J]}}}B=H._IL9;if(B){for(var D in B){l[D]=B[D]}}m=e._IL7.call(e,s);if(m&&m.length>0){g=true;l["report_"+b]=m;o=z._IIb.call(z,j.renderBox);d=true;if(o&&o.parent&&o.parent.objtype=="TAB"){E=o.parent.view;d=E.active==j.renderBox}if(d==true){j._IJ2.call(j,null)}else{j.btabrun=true}if(y.visible&&!L._i0){h._vf=false}}}}}else{}}}}L._IJ4();return g},_IIa2:function(a){var c=this,b;for(b=0;b<c.sheets.length;b++){c.sheets[b]._dfilter=a}},_IIa:function(c){var m=this,a,d,l,s,q,h,e,o;if(c&&c.length>0){a=new IG$._IEb(null);a.name="____systemfilter____";d=new IG$._IEb(null);a.subGroups.push(d);for(h=0;h<c.length;h++){s=c[h];l=new IG$._IE9(null);l.operator=IG$._IE1._d3(s.operator);q=new IG$._IE8();q.uid=s.uid;q.type=s.type;q.nodepath=s.nodepath;q.name=s.name;l._d6.push(q);l.delimiter="$%^";for(e=0;e<s.value.length;e++){o={code:s.value[e].code||s.value[e],text:s.value[e].text||s.value[e].code||s.value[e]};l.values.push(o)}d.subConditions.push(l)}}if(a){for(h=0;h<m.sheets.length;h++){var b=false,g=m.sheets[h]._ILb.filter,u;while(g&&g.subGroups.length>0){g=g.subGroups[0]}if(g){g.subGroups.push(a)}}}},_IB3:function(l,j,g){var m=this,q=new IG$._I3e(),c=m._ILa.name,w,h=m._ILa.exportOption,u=m.dzone,b,d,e,a=m._cld,o=m._cld_p,s;if(g&&g._ILb&&g._ILb.name){d=u.docitems[g.renderBox];e=d.lt.ubody.getTitle();if(e){c=c+"_"+e}}c=c.replace(/\./g,"_");c=c.replace(/ /g,"");if(l.substring(0,"JASPER_".length)=="JASPER_"){l=l.substring("JASPER_".length).toLowerCase();m._t$.call(m,"cmd_export_jasper",l);return}else{if(l.substring(0,"OFFICE_".length)=="OFFICE_"){b=Number(l.substring("OFFICE_".length));if(isNaN(b)==false&&b>-1&&h&&h.otmpl[b]){m._t$.call(m,"cmd_export_office",h.otmpl[b])}return}}switch(l){case"EXCEL":c+=".xls";break;case"PNG":c+=".png";break;case"PDF":c+=".pdf";break;case"SVG":c+=".svg";break;case"HTML":c+=".html";break;case"ODT":case"ODS":case"ODP":c+="."+l.toLowerCase();break;case"TMPL":c+="."+l.toLowerCase();break}m.setLoading(true);w=m._IB4(h,l,j,false,null,g);s=["<smsg><item uid='"+m.uid+"' type='"+l+"' filename='"+c+"' ","fonttype='"+(h&&h.fonttype?h.fonttype:"")+"' ",(a&&!j?("sc_jid='"+o.jid+"' sc_sid='"+o.sid+"' "):""),"isinstance='"+(j?"T":"F")+"'/></smsg>"];q.init(m,{ack:"20",payload:s.join(""),mbody:w},m,function(x){m.r_IB3.call(m,x,c,l)},null);q._l()},r_IB3:function(g,d,j){var l=this,c=IG$._I18(g,"/smsg/info"),e,h,d;l.setLoading(false);if(IG$._I1b(c,"status")=="complete"){e=IG$._I1b(c,"downloadurl");h=IG$._I1b(c,"isinstance")=="T";d=IG$._I1b(c,"filename")||d;if(!h){if(j=="HTML"){var b=IG$._I83.jS1.mts_name,a="./htmlview.jsp?mts="+(b||"")+"&p1=export&p2="+e,m=window.open(a,"name","height=500,width=800");if(window.focus){m.focus()}}else{$.download(ig$.servlet,[{name:"ack",value:"35"},{name:"payload",value:e},{name:"_mts_",value:IG$._g$a||""},{name:"mbody",value:d}],"POST")}}else{var b=IG$._I83.jS1.mts_name,a="./print.jsp?mts="+(b||"")+"#p1=export&p2="+e,m=window.open(a,"name","height=500,width=800");if(window.focus){m.focus()}}}},_IB4:function(u,O,a,h,M,b){var P=this,A=[],J,I,z=P.dzone,g,C,L,c=P.sheets,K,E,B=0,y=0,N=0,d,l,m,F,D={},H,G,x,w;x=function(j){A.push(j)};if(a){x("<smsg><item>");x("<export filetype='"+O+"'>");x(u.TX.call(u));x("<sheets>");for(J=0;J<z.items.length;J++){g=z.items[J];if(g.objtype=="SHEET"){K=g.view;C=K.renderBox;if(K.jobid){x("<sheet docid='"+C+"' jobid='"+K.jobid+"'>");x("</sheet>")}}}x("</sheets>");x("</export>");x("</item>");x("</smsg>")}else{if(h){x("<report uid='"+P.uid+"' name='"+M+"'><options>")}else{x("<smsg><Export layout='"+(u.layout||"portrait")+"'>");x("<options>");x(u.TX.call(u))}x("<sheets>");if(b){C=b.renderBox;if(b.jobid){x("<sheet docid='"+C+"' jobid='"+b.jobid+"'>");x("</sheet>")}}else{for(J=0;J<z.items.length;J++){g=z.items[J];if(g.objtype=="SHEET"){K=g.view;C=K.renderBox;x("<sheet docid='"+C+"' jobid='"+(K.jobid||"")+"'>");x("<title><![CDATA["+(g.title||"")+"]]></title>");x("</sheet>");D["SHEET_"+J]=g.title||""}else{if(g.objtype=="FILTER"&&g.view){m=g.view;m._uu1.call(m,D)}}}}x("</sheets>");x("<LayoutInfo type='bubble'><![CDATA["+(z.l10a.call(z)||"")+"]]></LayoutInfo>");x("<params>");x("<param name='REPORT_NAME'><![CDATA["+(P._ILa.name||"")+"]]></param>");for(F in D){x("<param name='"+F+"'><![CDATA["+(D[F]||"")+"]]></param>")}x("</params>");x("</options>");if(P._ILa.name){x("<item type='label' x='"+B+"' y='"+y+"' sheet_title='T'>");x("<text><![CDATA["+P._ILa.name+"]]></text>");x("</item>");N=30;y+=N}for(J=0;J<z.items.length;J++){g=z.items[J];d="0";l="0";K=null;if(g){if(!b){B=g.lt.x;y=g.lt.y+N}d=g.lt.w;l=g.lt.h;if(g.visible==false){continue}}if(g.objtype=="SHEET"){K=g.view;if(b&&b!=K){continue}if(K&&K._ILb){C=K.renderBox;if(!b&&K._ILb.name){x("<item type='label' x='"+B+"' y='"+y+"' d_width='"+d+"' d_height='"+l+"' docid='"+g.docid+"' doc_title='T'>");x("<text><![CDATA["+K._ILb.name+"]]></text>");x("</item>");y+=20}if(u.filterdesc&&K._IK2&&K._IK2.results){H=K._IK2.results;G=H&&H.length?H[0].f_:null;if(G){x("<item type='label' x='"+B+"' y='"+y+"' sheet_title='T'>");x("<text><![CDATA["+G+"]]></text>");x("</item>");N=30;y+=N;l=l>30?l-30:l}}if(K.activeView==0){E=K._IH6&&K._IH6._IB4.call(K._IH6,u);if(E){x("<item type='datagrid' x='"+B+"' y='"+(y+20)+"' d_width='"+d+"' d_height='"+l+"' docid='"+g.docid+"' sheetindex='"+K.sheetindex+"'>");x(E);x("</item>")}}else{if(K.activeView==1){E=K._IH7&&K._IH7._IB4.call(K._IH7,u,B,y+20,g.docid,d,l);if(E){x(E)}if(O=="EXCEL"&&K._ILb&&K._ILb.tb_prt_grd){y+=(K.__h||300)+20;var s=K._IK2,q=s.results[0],o=(q?q.delim:null),e="<instance jobid='"+(s._IL8||"")+"' cols='"+q.cols+"' rows='"+q.rows+"' delimiter='"+o+"' fixedrow='"+q.rowfix+"'></instance>";x("<item type='datagrid' x='"+B+"' y='"+(y+20)+"' d_width='"+d+"' d_height='"+l+"' docid='"+g.docid+"' sheetindex='"+K.sheetindex+"'>");x(e);x("</item>")}}else{if(K.activeView==2){E=K._IH8&&K._IH8._IB4.call(K._IH8,u,B,y+20,O,g.docid,d,l);if(E){x(E)}}else{E=K._IH6&&K._IH6._IB4.call(K._IH6,u);if(E){x("<item type='datagrid' x='"+B+"' y='"+(y+20)+"' d_width='"+d+"' d_height='"+l+"'  docid='"+g.docid+"'>");x(E);x("</item>")}E=K._IH7&&K._IH7._IB4.call(K._IH7);if(E){x("<item type='chart' x='"+B+"' y='"+(y+20)+"' d_width='"+d+"' d_height='"+l+"' width='"+K._IH7.body.getWidth()+"' height='"+K._IH7.body.getHeight()+"' docid='"+g.docid+"'>");x(E);x("</item>")}}}}}}else{if(g.objtype=="FILTER"&&!b){K=g.view;E=K._IB4&&K._IB4.call(K,B,y,g.docid,d,l);if(E){x(E)}}}}if(h){x("</report>")}else{x("</Export></smsg>")}}L=A.join("");return L},_IJ4:function(){var b,e=this,h=e.sheets,g=e.dzone,a,c={},d=g.items;for(b=0;b<d.length;b++){a=d[b].view;if(a&&a._ILc){a._ILc.call(a,c)}}for(b=0;b<d.length;b++){a=d[b].view;if(a&&a._ILd){a._ILd.call(a,c)}}},_INe:function(h,d){var e=this,a=h.sheetindex,c=h._ILb,j,g,l=d?d.cl:null,b,o;if(l){o=l.title;if(c&&o==9){j=l.index;g=l.position;b=c.g1(j,g);if(b){e.F.call(e,h,b,l)}}else{if(o>2){e._INf.call(e,h)}}}},_INc:function(s,c){var E=this,a=s._ILb,b=c.menu.cell,B,z,C,u,A=false,y,G,F,d,l=(a)?a.sortoption:null,e,w,x;if(a){e=a.mdf=a.mdf||{}}if(b){x=b.position;if(x==1){C=a.rows}else{if(x==2){C=a.cols}else{if(x==3){C=a.measures}}}u=(C&&C.length>b.index)?C[b.index]:null}switch(c.cmd){case"CMD_REMOVE":if(b.position==4){y=a.Xsf;if(y){for(B=0;B<y.length;B++){if(y[B].fid=="formula_"+b.index){z=y.splice(B,1);w={type:"remove",item:z[0],index:B,target:y};s._IP2(w);A=true;break}}}}else{if(C&&a.rows.length+a.cols.length+a.measures.length>1){z=C.splice(b.index,1);w={type:"remove",item:z[0],index:b.index,target:C};s._IP2(w);A=true}}break;case"CMD_FILTER":E._t$("cmd_filter",u);break;case"CMD_ASC":if(u.sortorder!="asc"){z=u.sortorder;u.sortorder="asc";A=true;w={type:"property",item:u,name:"sortorder",value:z};s._IP2(w)}break;case"CMD_DESC":if(u.sortorder!="desc"){z=u.sortorder;u.sortorder="desc";A=true;w={type:"property",item:u,name:"sortorder",value:z};s._IP2(w)}break;case"CMD_TOP5":G="top";F=5;d=u.uid;break;case"CMD_TOP10":G="top";F=10;d=u.uid;break;case"CMD_BTM5":G="bottom";F=5;d=u.uid;break;case"CMD_BTM10":G="bottom";F=10;d=u.uid;break;case"CMD_SHOWALL":G="normal";F=0;d=null;break;case"CMD_UNDO":A=s._IOf.call(s);break;case"CMD_CLIPBOARD":var D=s._IP0();IG$._I49(D);break;case"CMD_RUN_FILTER":if(e){A=true;if(c.menu.mdf){e[b.c]=c.menu.mdf}else{delete e[b.c]}}break;case"T_SUM":case"T_AVG":case"T_MIN":case"T_MAX":case"T_RANK":case"T_POT":case"T_CUMUL":case"T_INCR":case"T_DIFF":case"CL_FM":case"R_FMT":if(e){E._IN2(s,u,c.cmd)}break;default:if(c.cmd.substring(0,7)=="detail:"){var h=c.cmd.substring(7),g,o,q,m;for(B=0;B<a.dff1.length;B++){if(a.dff1[B].uid==h){g=a.dff1[B];break}}if(g){o={titem:{enabled:false,items:[],item_map:{}},tparams:{enabled:false,items:[],item_map:{}}};q=o.titem;m=o.tparams;if(g.titem){q.items=g.titem.split("_");for(B=0;B<q.items.length;B++){if(q.items[B]){q.item_map[q.items[B]]=1}}if(q.items.length){q.enabled=true}}if(g.tparams){m.items=g.tparams.split("_");for(B=0;B<m.items.length;B++){if(m.items[B]){m.item_map[m.items[B]]=1}}if(m.items.length){m.enabled=true}}var j=s._IL7.call(s,o);if(j&&j.length>0){E._INd(s,g,j)}}}break}if(G!=l.sortmethod||F!=l.sortcount||d!=l.sortmeasure){A=true;l.sortmethod=G;l.sortcount=F;l.sortmeasure=d}if(A==true){E._ILb_=true;s._IP4.call(s)}},_ILf:function(b){var d,c="<smsg><item "+IG$._I20(b,"type","s")+">";c+="<objinfo/>";if(b&&b.cubeobj){d=b.cubeobj;c+="<sel_cube default='"+d.uid+"'>";c+="<item "+IG$._I20(d,"uid;name;type;nodepath;requirepwd","s")+"/>";c+="</sel_cube>"}c+="</item></smsg>";var a=IG$._I13(c);return a},_IG7:function(z,m){var A=this,w,j=z.cubeobj,h=j?j.uid:null,x=z.reporttype,u,a=m,e,g=A._ILa,q,b,l=A.dzone,d=A.sheets,s,B,c=0,o,y;if(!A._ILa){c=1;u=A.itemtype||"Report";xdoc=A._ILf({type:u,cubeobj:j,cubeuid:h,reportmode:x});A._IM9(xdoc,false);g=A._ILa}if(A.reportlayout){A.reportlayout=null}B=g.__cs;if(h&&(!B.m[h]||c)){if(!B.m[h]){o={uid:h,name:j.name,nodepath:j.nodepath,type:j.type};B.m[h]=o;B.l.push(o)}if(g.sheets.length==0){e=new IG$._IEf(null,g.itemtype,false);e.cubeuid=B.d;g.sheets.push(e);if(!d.length){q=A.aB();l._IIc.call(l,q);b=A._IMd(0,e,q);e.layoutinfo.docid=q.docid;q.setTitle.call(q,e.name||"");q.view=b;q.objtype="SHEET";q.m1.call(q);q.setReportOption.call(q,e);A.sheets.push(b)}s=A.sheets[0];s._ILa=g;s._ILb=e;s._IN0.call(s);l._IM5.call(l)}if(a){a._IGd.call(a,A._ILa.sheets[A._IJa],A._ILa)}A._IGb();A._IN3()}},_II9:function(c){var a=this,b=a.sheets[a._IJa];a._i0&&a._aa(false);c=="chart"&&a._IK6();c!="chart"&&a._IK4();a._IK7(c=="r");a._IK7p(c=="python");a._IL3(c=="chart"?false:true);a._IL4(c=="r"?false:true);b._II9.call(b,c)},_t$:function(O,a,G,M,Q){var o=this,N=o.dzone,A,c,R=o.sheets[o._IJa],J=o.down("[name=tbsch]"),F,b;switch(O){case"cmd_sheetview":o._II9("grid");break;case"cmd_chartview":o._II9("chart");break;case"cmd_rview":if(IG$._I83.jS1.l3=="L1"){IG$._I52("R Viewer is not allowed for license limitation. Please contact ingecep.com for Enterprise license.",o)}else{o._II9("r")}break;case"cmd_pythonview":if(IG$._I83.jS1.l3=="L1"){IG$._I52("Python Viewer is not allowed for license limitation. Please contact ingecep.com for Enterprise license.",o)}else{o._II9("python")}break;case"cmd_run":if(o._cld){IG$._I55(ig$.appname,IRm$.r1("L_C_SCH"),function(S){if(S=="yes"){J&&J.hide();o._cld=0;o._t$.call(o,O,a,G,M,Q)}})}else{o._i0&&o._ab();if(G){o._IIa(G)}if(M){o._IIa2(M)}o._i0&&o._aa(false);o._IJa=0;R=o.sheets[o._IJa];if(R){A=N._IIb.call(N,R._ILb?R._ILb.layoutinfo.docid:null);N._IIc.call(N,A)}o._IId();o._params=null;o._K();var g=[],s,j,P=0,h={};s=function(ag,af){var Z,ad=this,ae,ab,S,W=false,ai=ad.dzone,V=ad.dzone.docitems||{},U,Y,X,ac,aa,T,ah=true,ab;for(Z=0;Z<ad.sheets.length;Z++){ae=ad.sheets[Z];ae.__el=0;ae._IIe&&ae._IIe.call(ae);ae._b1.call(ae);S=ae._ILb;if(S&&(!Q||S.openload==true)){W=ag==1?true:((af&&af[Z]==1)?true:false);if(W){ae._IIf.call(ae,true,true);if(ae._IK9){ae._IK9._ILa._dfilter=ae._dfilter;ab=ae._IK9._ILa._IJ1.call(ae._IK9._ILa);ae._IK9._IJ0(ab,"mode",ae.sheetindex,ae)}else{ae._IJ2.call(ae)}}}}for(Y in V){X=V[Y];U=X.lt.ubody;if(U.objtype=="RPT_VIEW"){if(X.parent&&X.parent.loc=="inner"&&X.parent.node&&X.parent.node.objtype=="TAB"){if(X.parent.node.active!=U.docid){U.visible=false}else{U.visible=true}}else{U.visible=true}if(U.visible==true&&U.view&&!U.view._v1d){U.view._df1=U.view._df1||{};U.view._v2=true;if(ah){T=U.view._df1;for(q in T){if(q.indexOf("report_")>-1||q.indexOf("filter_")>-1){delete T[q]}}}U.view.l3.call(U.view,ag==1);continue}if(U.view){if(U.view.irpt){for(Z=0;Z<U.view.irpt.sheets.length;Z++){ac=U.view.irpt.sheets[Z];aa=ac._ILb;if(ah){T=aa._IL9;for(q in T){if(q.indexOf("report_")>-1||q.indexOf("filter_")>-1){delete T[q]}}}if(U.visible==true&&ag==1){ac._b1.call(ac);if(ac._IK9){ab=ac._IK9._ILa._IJ1.call(ac._IK9._ILa);ac._IK9._IJ0(ab,"mode",Z,ac)}else{if(aa){ac._IJ2.call(ac)}}}else{U.view._v2=true}}}else{U.view._df1=U.view._df1||{};U.view._v2=true;if(ah){T=U.view._df1;for(q in T){if(q.indexOf("report_")>-1||q.indexOf("filter_")>-1){delete T[q]}}}}}}}};for(i=0;i<N.items.length;i++){c=N.items[i].view;if(c&&c._IJ3){c._i10=null;g.push(c)}}if(g.length>0){j=function(ae,ag){P++;var ac=this,Y=ae.l7.call(ae),Z,aa=ac.sheets,W=ae._ILb.pff1a.showbutton,U=ae._ILb.pff1a.edrill,af=ae._ILb.pff1a.drilltarget,ad=new IG$._dpca(af),V=ac.dzone.docitems||{},T="filter_"+ac.dzone._dzid+"_"+ae._ILb.docid,S,X,ab=[];S=ae.l5m.call(ae,1,ab);if(!W){for(Z=0;Z<aa.length;Z++){sheet=aa[Z];l=sheet._ILb;docid=(l.layoutinfo?l.layoutinfo.docid:null);ditem=V[docid];X=ad._2("sheet_"+Z);if(!U&&ad._e&&!X){continue}l._IL9[T]=Y;if(ditem&&ditem.visible==false){continue}h[Z]=typeof(h[Z])=="undefined"?1:h[Z];h[Z]=(S&&h[Z]==1)?1:0}}ae._i10=null;if(P==g.length){s.call(ac,2,h)}};$.each(g,function(T,S){S._i10={p:o,f:j};S._IJ3.call(S,null,1)})}else{s.call(o,1)}o._IJ4()}break;case"cmd_save":o._i0&&o._ab();if(o._ILa){o._i0&&o._aa(false);var K=IG$._Ibb._IJ7.call(o),d=K.uid;if(!d){o._IJ5(false)}else{var E=o._ILa._IJ1.call(o._ILa);o._IJ6(d,E,a)}}break;case"cmd_saveas":o._i0&&o._ab();IG$._Ibb._IJ7.call(o);o._IJ5(false);break;case"cmd_showpivot":o._i0=o._i0||false;o._aa(!o._i0);break;case"cmd_chartwizard":F=new IG$._Ia3({_ILa:o._ILa,_ILb:o._ILa.sheets[o._IJa],callback:new IG$._I3d(o,o._IJ9)});IG$._I_5(this,F);break;case"cmd_r_summary":case"cmd_r_script":R._IH8._IJ8.call(R._IH8,O);break;case"cmd_r_simage_png":o._IB3("PNG");break;case"cmd_r_simage_svg":o._IB3("SVG");break;case"cmd_r_wizard":F=new IG$._If3({dc:R._IH8.f5u.call(R._IH8),callback:new IG$._I3d(o,o._INa)});F.show(o);break;case"cmd_py_edit":var x=R._IH8a;x&&x._do_edit.call(x,true);break;case"cmd_export_excel":o._IB3("EXCEL");break;case"cmd_export_html":o._IB3("HTML");break;case"cmd_export_pdf":o._IB3("PDF");break;case"cmd_export_csv":R._IP6.call(R);break;case"cmd_export_tmpl":o._IB3("TMPL");break;case"cmd_export_prt":o._IB3("PDF",true);break;case"cmd_clipboard":o._IB2();break;case"cmd_export_office":var w=o._ILa,y=w.exportOption,q=w.name,H=new IG$._I3e(),e,C=a.name,D,L,B="TMPL_OC",m="TMPL",I;q=q.replace(/\./g,"_");q=q.replace(/ /g,"");L=C.lastIndexOf(".");if(L>0){D=C.substring(L+1);if(D=="docx"||D=="doc"){B="TMPL_T";if(a.export_type){I=a.export_type;q+="."+(I=="field"?"fields.xml":I)}else{q+="."+D}}}e=o._IB4(y,"office");o.setLoading(true);H.init(o,{ack:"20",payload:IG$._I2d({uid:o.uid,type:B,filename:q,utemplate:"T",tmpluid:a.uid,tmplname:a.name,tmpltype:a.type,outputformat:I},"uid;type;filename;fonttype;utemplate;tmpluid;tmplname;tmpltype;outputformat"),mbody:e},o,o.r_IB3,null,q);H._l();break;case"cmd_export_jasper":var w=o._ILa,y=w.exportOption,q=w.name,H=new IG$._I3e(),e,m="TMPL";q=q.replace(/\./g,"_");q=q.replace(/ /g,"");q+="."+(a.toLowerCase()=="excel"?"xls":a);e=o._IB4(y,"jasper");o.setLoading(true);H.init(o,{ack:"20",payload:IG$._I2d({uid:o.uid,type:m,filename:q,fonttype:(y&&y.fonttype?y.fonttype:""),utemplate:"T",tmplpage:y.jasper&&y.jasper.jasper_template,tmpluid:y.jasper&&y.jasper.jasper_tmpl_uid,jasper_filetype:a},"uid;type;filename;fonttype;utemplate;tmplpage;tmpluid;jasper_filetype"),mbody:e},o,o.r_IB3,null,q);H._l();break;case"cmd_export_option":F=new IG$._Ia2({_ILa:o._ILa,_ILb:R?R._ILb:null,dzone:o.dzone,callback:new IG$._I3d(o,o._IJb)});IG$._I_5(this,F);break;case"cmd_filter":F=new IG$._Ia1({_ILa:o._ILa,_ILb:R._ILb,targetitem:a,callback:new IG$._I3d(o,o._IJd)});IG$._I_5(this,F);break;case"cmd_edit_data":F=new IG$._If7({_ILa:o._ILa,_ILb:R._ILb,callback:new IG$._I3d(o,o._IJc)});IG$._I_5(this,F);break;case"cmd_prompt":var l=R._ILb,z=l.needPrompt.call(l);R.showPrompt.call(R,z);break;case"cmd_view_sql":if(R){F=new IG$.mA$_b({_ILa:o._ILa,_ILb:R._ILb,uid:o.uid,_IJa:o._IJa});IG$._I_5(this,F)}break;case"cmd_change_type":o._IB5();break;case"cmd_add_sheet":F=new IG$._If1({dzone:o.dzone,sheets:o.sheets,_ILa:o._ILa,_l1:true,objtype:a||"SHEET",callback:new IG$._I3d(o,o.addSheet)});IG$._I_5(this,F);break;case"cmd_dock_panel":o.dzone.editmode=o.dzone.editmode?false:true;o.dzone._IM5.call(o.dzone);break;case"cmd_edit_sql":F=new IG$._Ib1({_ILa:o._ILa,_ILb:R._ILb,uid:o.uid,_IJa:o._IJa,callback:new IG$._I3d(o,o._IN7)});IG$._I_5(this,F);break;case"cmd_sort_option":F=new IG$._If0({_ILa:o._ILa,_ILb:R._ILb,callback:new IG$._I3d(o,o._IO3)});IG$._I_5(this,F);break;case"cmd_statistics":F=new IG$._Ief({_IK2:R._IK2});F.show(o);break;case"cmd_layout":F=new IG$._Ibd({callback:new IG$._I3d(o,o._IN8,false)});F.show(o);break;case"cmd_loption":o._IM7();break;case"cmd_schedule":if(o.uid){var u=o._IN6();IG$._I50(o,o.uid,o.itemtype,u,o._ILa)}break;case"cmd_favorites":if(o.uid){var H=new IG$._I3e();H.init(o,{ack:"11",payload:IG$._I2d({uid:o.uid}),mbody:IG$._I2e({option:"addfavorites"})},o,o.rs_i1_2,null,null);H._l()}break;case"cmd_share":if(o.uid){o._s1()}break}},_s1:function(){var h=this,j=$("#igc_msr"),a=$("#igc_msr_s",j),g=$("#m_done",a),c=$("#m_close",a),d=$("#m_lnk",a),o=$("#m_msg",a),q=function(){a.hide();j.fadeOut()},l=ig$.applink||"",m="{objid}",b,e=$("#m_em",a);if(j&&j.length){a.show();j.show();b=l.indexOf(m);if(b>-1){l=l.substr(0,b)+h.uid+l.substr(b+m.length)}d.val(l);o.val("");g.unbind("click");g.bind("click",function(){var s=e.val(),w=o.val();if(s){var u=new IG$._I3e(),x="<smsg><item><recipient><![CDATA["+s+"]]></recipient><params><param name='message'><![CDATA["+w+"]]></param><param name='uid'><![CDATA["+(h.uid||"")+"]]></param><param name='linkurl'><![CDATA["+l+"]]></param></params></item></smsg>";u.init(h,{ack:"76",payload:IG$._I2d({uid:h.uid,mtype:"share_item"},"uid;mtype"),mbody:x},h,function(y){q()});u._l()}else{q()}});c.unbind("click");c.bind("click",function(){q()})}},_IJ7:function(){var e=this,c,b,a,g=e.dzone,d;if(e.sheets.length>1){for(b=0;b<e.sheets.length;b++){a=e.sheets[b];a._ILb.layoutinfo={docid:a.renderBox,collapsed:a.collapsed,headerposition:a.headerPosition,region:a.region,width:a.getWidth(),height:a.getHeight()}}}c=e._ILa.uid;e._ILa.savelayoutinfo=g.l10a.call(g);d={uid:c};return d},_INd:function(o,a,e){var m=this;var d={},c=o._ILb._IL9,q,b,h;for(q in c){b=q.replace(/report/,"pageRPT");b=b.replace(/filter/,"pageFLT");h=a.uid+"_"+b;if(q=="report_"+o.sheetindex){d[h]=e}else{d[h]=c[q]}}d[a.uid+"_pageRPT_"+o.sheetindex]=e;if(a.showintab&&IG$._I7d){var g=IG$._I7d,j={auxfilter:d};g.m1$7.call(g,a.uid,a.type||"report",a.name,a.nodepath,true,null,null,j)}else{var l=new IG$._Ibc({viewinfo:a,auxfilter:d});IG$._I_5(this,l)}},_IJ5:function(a){var b=this,c=new IG$._I96({mode:"newitem",initpath:b.nodepath});c.callback=new IG$._I3d(b,b._IO4,a);IG$._I_5(this,c)},_IO4:function(e,b){var d=this,a=d._ILa,g=a._IJ1.call(a),c=new IG$._I3e();c.init(d,{ack:"31",payload:"<smsg><item address='"+e.nodepath+"/"+e.name+"' name='"+e.name+"' type='"+(d.itemtype?d.itemtype:"Report")+"' pid='"+e.uid+"' description=''/></smsg>",mbody:g},d,d._IO5,d._IO6,[e.name,b,e.nodepath,e.uid,g]);c.showerror=false;c._l()},_IO6:function(e,b){var h=this,g=b[0],l=b[1],c=b[2],j=b[3],d=b[4],a=IG$._I27(e);if(a=="0x12e0"){IG$._I55(ig$.appname,g+" already exist on the server. Would you overwrite existing item with this copy?",function(o){if(o=="yes"){var m=new IG$._I3e();m.init(h,{ack:"31",payload:"<smsg><item address='"+c+"/"+g+"' name='"+g+"' type='"+(h.itemtype?h.itemtype:"Report")+"' pid='"+j+"' description='' overwrite='T'/></smsg>",mbody:d},h,h._IO5,null,[g,l,c]);m._l()}},h,h)}else{IG$._I51(e,h)}},_IO5:function(g,b){var j=this,d,h=b[0],l=b[1],e=j._ILa,c=IG$._I18(g,"/smsg/item"),a=IG$._I1b(c,"name");if(l==true){j.ignoreclose=true;j.close();return}j._ILb_=false;j.uid=IG$._I1b(c,"uid");for(d=0;d<j.sheets.length;d++){if(j.sheets[d]._IK9){j.sheets[d]._IK9.uid=j.uid}}e.uid=j.uid;e.name=a;j.setTitle(a)},_IO3:function(){this._t$("cmd_run")},_IId:function(){var c=this,b,a,d=c.sheets;if(d&&d.length>0){for(b=0;b<d.length;b++){a=d[b];auxfilter=a._ILb._IL9;for(fname in auxfilter){if(fname.indexOf("report_")>-1||fname.indexOf("filter_")>-1){delete auxfilter[fname]}}}}},_IGa:function(l){var o=this,d=o._IJa,e=d>-1?o.sheets[d]:null,c=o.down("[name=tbrescount]"),a=o.down("[name=tbcache]"),q="",b=0,m="",g=false,j=o.sheets,h;if(e){if(e._IK2&&e._IK2.results&&e._IK2.results.length>0){q="(Row: "+e._IK2.results[0].rows+", Cols: "+e._IK2.results[0].cols+")";b=e._IK2.results[0].cache;m=e._IK2.results[0].u_cache_time}}if(l){for(h=0;h<j.length;h++){if(j[h].__el==1){g=true;break}}if(!g){o._d1.call(o)}}c&&c.setText(q);if(a){a.setVisible(b);a.setTooltip("DATA ON : "+m+"\nClick to refresh data!")}},_IGb:function(){var h=this,b=h.down("[name=tbcubepath]"),j=h.sheets[h._IJa],a=h._ILa.__cs,c=j?j._ILb.cubeuid:null,g=new IG$._I3e(),e,d;b.setText("");b.hide();a.m[c]&&h._IMf(a.m[c])},aB:function(a){var c=this,e,d=c.dzone,g=d._root,b={objtype:"SHEET",docid:null,_direction:0,parent:g,width:100,height:100};g.children.push(b);e=d._IMc.call(d,null,{width:(b.width?parseInt(b.width):null),height:(b.height?parseInt(b.height):null),draggable:d.draggable},a||"SHEET");b.docid=e.docid;e.objtype=b.objtype;b.lt={pos:{x:0,y:0,w:0,h:0},ubody:e};e._pc=b;e.m1.call(e);return e},_ILf_:function(b){var o=this,g,e,m,l,j=o.sheets,c=o._3,s=$(c.body),u=o.dzone,h=u._root,q=o._IM4,d,a;if(!b){for(g=0;g<o._ILa.sheets.length;g++){l=o._ILa.sheets[g];if(j.length>g){m=j[g];d=u._IIb.call(u,l.layoutinfo.docid)}else{d=o.aB();l.layoutinfo.docid=d.docid;m=o._IMd(g,o._ILb,d);m._ILa=o._ILa;d.view=m;d.objtype="SHEET";d.m1.call(d);d.setReportOption.call(d,l);o.sheets.push(m);if(o._i0&&q){setTimeout(function(){m._II9.call(m,"d");m.Uc.call(m,q.cubeuid)},100)}}if(d){d.setTitle.call(d,l.name||"");d.showTitle.call(d,!l.hidetitle)}j[g]._ILb=l;j[g]._IN0.call(j[g])}}else{for(g=0;g<o.sheets.length;g++){l=o._ILa.sheets[g];j[g]._ILb=l;j[g]._IN0.call(j[g])}}},_IJb:function(){var m=this,c=m._ILa,h=c.exportOption||{},j=h?h.jasper:null,q=m.down("[name=jasper]"),d=m.down("[name=office]"),a=false,b=0;if(!m._2){return}$.each(["xls","pdf","html","csv"],function(s,w){var u=m.down("[name=ig_r_"+w+"]");u&&u.setVisible(h["u_"+(w=="xls"?"excel":w)]&&!ig$.fm["ig_r_"+w])});if(h.u_office&&h.otmpl&&h.otmpl.length){d.show();d.menu.removeAll();$.each(h.otmpl,function(s,u){d.menu.add({xtype:"menuitem",text:u.description||u.name,handler:function(){m._t$.call(m,"cmd_export_office",u)}})})}else{d.hide()}if(j&&j.jasper_template&&h.u_jasper){a=true;q.menu.removeAll();m.dft_jasp_exp=null;$.each(["pdf","rtf","ppt","csv","excel","xlsx","docx","html","xml"],function(u,s){if(j[s+"_output"]=="T"){if(b==0){m.dft_jasp_exp=s}q.menu.add({xtype:"menuitem",text:j[s+"_label"]||s,handler:function(){m._t$.call(m,"cmd_export_jasper",s)}});b++}})}m.down("[name=jasper]").setVisible(a&&h.u_jasper&&!ig$.fm.ig_r_jasper);if(window.IExport){var m=this,e,l,o=false,g=m._2;for(e in window.IExport){if(window.IExport[e].toolbar){l=g.down("[name="+window.IExport[e].name+"]");o=window.IExport[e].toolbarShow(m);l.setVisible(o)}}}},_IN2:function(q,s,j){var o=this,d,h,e,a,w,g=q._ILb,m=g.Xsf,x,u,b,c=0,l;if(s){a=[];if(j.toLowerCase()=="cl_fm"){for(d=m.length-1;d>=0;d--){if(m[d].baseuid==s.uid){m.splice(d,1);c=1}}}else{if(j.toLowerCase()=="r_fmt"){l=new IG$._IEF({pR:o,pS:q,pF:m,pI:s,callback:new IG$._I3d(o,function(A){var y,z=m;for(y=z.length-1;y>=0;y--){if(z[y].baseuid==s.uid){z.splice(y,1)}}for(y=0;y<A.length;y++){z.push(A[y])}o._ILb_=true;o._IO2.call(o,o._IJa)})});l.show()}else{for(d=0;d<m.length;d++){if(m[d].baseuid==s.uid){if(m[d].expression==j.toUpperCase()){return}a.push(m[d])}}if(a.length>0){w=a[0]}else{w=new IG$._IF0(null);m.push(w)}c=1;w.baseuid=s.uid;w.direction="vertical";w.formatstring="";w.stylename=null;w.type=null;w.separatecolumn=true;w.subtotalbase=null;w.usecolumnformat=true;w.showtoprow="F";w.groupresults="F";w.fid="formula_"+g.si;g.si++;b=IG$._IEFc[j.toLowerCase()];if(b){x=b.title;u=b.expr;if(typeof(b.usecolumnformat)!="undefined"){w.usecolumnformat=b.usecolumnformat}if(typeof(b.formatstring)!="undefined"){w.formatstring=b.formatstring}w.title=x;w.expression=u}}}if(c){o._ILb_=true;o._IO2(o._IJa)}}},_IN6:function(){var l=this,a=[],g,o=l.dzone,m;var b,e,c,j,d,h;for(g=0;g<o.items.length;g++){m=o.items[g].view;if(m&&m._IIe){d=m._ILa;if(d&&d.poolname&&IG$.dbp[d.poolname]){j=IG$.dbp[d.poolname]}c="18";h=d.reportmode=="rolap"?"run":d.reportmode=="sql"?"sqlrun":"run",e="<smsg><item "+IG$._I21({uid:this.uid,option:h,active:""+m.sheetindex,pivotresult:"T",pwd:(j?j:null)})+"/></smsg>";b=a.length==0?m._ILa._IJ1():"";a.push({ack:c,payload:e,mbody:b,jobkey:""+m.sheetindex})}}return a},_INb:function(a,g){var d=this,e=d.dzone,c,h=e._root,b;h.children=h.children||[];if(!g){b={objtype:a.objtype,docid:null,_direction:0,parent:h,width:100,height:100};h.children.push(b);g=e._IMc.call(e,null,{width:(b.width?parseInt(b.width):null),height:(b.height?parseInt(b.height):null),draggable:e.draggable},a.objtype);b.docid=g.docid;g.objtype=b.objtype;b.lt={pos:{x:0,y:0,w:0,h:0},ubody:g};g._pc=b;g.m1.call(g)}a.docid=g.docid;switch(a.objtype){case"NAVI":c=new IG$._IA3(g.b3,a,d._ILa,d);break;case"FILTER":c=new IG$._Ied(g.b3,a,d);c.callback=new IG$._I3d(d,d._IO1);break;case"TEXT":c=new IG$._IA2(g.b3,a);break;case"PANEL":c=new IG$._IA4(g.b3,a);break;case"TAB":c=new IG$._IA5(g.b3,a,d.dzone);break;case"RPT_VIEW":c=new IG$._IA5r(g.b3,a,d);break}g.view=c;g.objtype=a.objtype;g.m1.call(g);g.setReportOption.call(g,a);if(a.objtype=="FILTER"&&c._IFd){setTimeout(function(){c._IFd.call(c)},100)}return g},__l1:function(h,l){var m=this,j=m.dzone.items,d,e=h._ILb,u=(e.layoutinfo?e.layoutinfo.docid:null),b,c,a,q,o,s,g;for(d=0;d<j.length;d++){if(j[d].docid==u){b=j[d];break}}if(b){q=b.b1.offset();o=b.b3.offset();s=o.left-q.left;g=o.top-q.top;c=IG$.x_10._w(b.b3);a=IG$.x_10._h(b.b3);c=Math.max(c,l.cw);a=Math.max(a,l.ch);b.fw=(l.tw>c);b.fh=(l.th>a);b.width=(b.fw)?l.tw+s:b.width;b.height=(b.fh)?l.th+g:b.height;m.dzone._IM5.call(m.dzone,true)}},_K:function(o){var l=this,m=o?o._IK2:null,h,q=l.dzone,e=l.dzone.docitems,c,b,j,g,d,a;h=l._params=l._params||{};if(m&&m.results){for(j=0;j<m.results.length;j++){b=m.results[j];c=b._params;if(c){for(g in c){h[g]=c[g]}}}}for(g in e){d=e[g].lt.ubody;a=d.view;d._param=h;d.applyFlt.call(d)}},_IMd:function(d,q,e,m){var a=this,j,c,h=$("<div class='igc-sheet-cntbox'></div>").appendTo(e.b3),b=$("<div></div>").appendTo(e.b3),o=e.b2,l=IG$.x_10._w(e.b3),g=IG$.x_10._h(e.b3);IG$.x_10._w(h,l);IG$.x_10._h(h,g);b.css({position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",overflow:"hidden"}).hide();j=new IG$._IPc({width:(q&&q.layoutinfo)?(q.layoutinfo.width||IG$.x_10._w(h)):null,height:(q&&q.layoutinfo)?(q.layoutinfo.height||IG$.x_10._h(h)):null,renderTo:h[0],rendermask:b,renderBox:e.docid,_ILa:a._ILa,_ILb:q,uid:a.uid,sheetindex:d,region:(d==0)?"center":((q)?q.region:null)||"east",collapsible:false,minSize:100,_IK3:a,floatable:false,bindheaderevent:false,rst:m,rX:function(){this.removeAll();o.unbind("click")},listeners:{drillreport:function(s){a._INf.call(a,s)},itemclick:function(s,u){a._ILc.call(a,e);if(s.activeView==0){a._INe.call(a,s,u)}else{if(s._ILb.isdrillreport!==true){a._INf.call(a,s)}}},itemdblclick:function(s,w){var u=a._INf.call(a,s);a._ILc.call(a,e);return},menu:function(s,u){a._INc.call(a,s,u)},pivotchanged:function(s){a._ILb_=true},cresized:function(s,u){a.__l1.call(a,s,u)},result_loaded:function(s){s.__el=0;a._K.call(a,s);a._IGa.call(a,true)},export_sheet:function(s,u){a._IB3.call(a,u.filetype.toUpperCase(),false,s)},destroy:function(s,u){s.__dx=true},afterrender:function(s){e.view=s;var u=$(s.body.dom);u.bind("click",function(){a._ILc.call(a,e)});setTimeout(function(){e.b3.trigger("i_ready")},10)},_ld_:function(s){a.dzone._IIf.call(a.dzone,true,s)},_ldx_:function(s){a.dzone._slx.call(a.dzone,s)},scope:this}});o.bind("click",function(){a._ILc.call(a,e)});j.setSize(IG$.x_10._w(h),IG$.x_10._h(h));return j},applyOption:function(h){var c=this,d=h.auxfilter,g,e,b,a=false;if(d){for(e=0;e<c._ILa.sheets.length;e++){b=c._ILa.sheets[e];for(g in b._IL9){delete b._IL9[g]}for(g in d){b._IL9[g]=d[g]}}a=true}if(a){this._t$("cmd_run")}},_IO0:function(l){var j=this,c=l,a=c.sheetindex,e=j.down("[name=tbresult]"),b=c._IP3.call(c),g="",d,h=0;if(b&&b.length>1){for(d=0;d<b.length;d++){if(b[d].position==3){h=h+parseFloat(b[d].code)}}if(IG$._I37(h)){g="SUM: "+h.format("0,000.00")}}e&&e.setText(g)},_IO1:function(q,j){var F=this,e=F.sheets,d,a,o,y,A,s,x,D="filter_"+F.dzone._dzid+"_"+q._ILb.docid,G=F.dzone.docitems||{},u,C=q._ILb.pff1a.drilltarget,w=q._ILb.pff1a.edrill=="T",m=new IG$._dpca(C),E=q._ILb.pff1a.f_b_clear=="T",z,B=q._fr,h,c,b,l=q.__dloaded,g=F.down("[name=tbsch]");if(F._cld){IG$._I55(ig$.appname,IRm$.r1("L_C_SCH"),function(H){if(H=="yes"){g&&g.hide();F._cld=0;F._IO1.call(F,q)}});return}F._params=null;F._K();s=q.l7.call(q);for(A=0;A<e.length;A++){d=e[A];a=d._ILb;x=(a.layoutinfo?a.layoutinfo.docid:null);u=G[x];b=m._2("sheet_"+A);if(!w&&(m._e&&(!b||(b&&!b.isdrill)))){if(B&&a&&a.openload){delete d.btabrun;if(d._IK9){y=d._IK9._ILa._IJ1.call(d._IK9._ILa);!j&&d._IK9._IJ0(y,"mode",A,d)}else{if(a){!j&&d._IJ2.call(d)}}}continue}if(E){h=a._IL9;for(fname in h){if(fname.indexOf("report_")>-1||fname.indexOf("filter_")>-1){delete h[fname]}}}a._IL9[D]=s;if(u&&u.lt&&u.lt.ubody&&!u.lt.ubody.visible){d.btabrun=true;continue}if(B&&a&&!a.openload){d.btabrun=true;continue}if(!F._i0){delete d.btabrun;if(d._IK9){y=d._IK9._ILa._IJ1.call(d._IK9._ILa);!j&&d._IK9._IJ0(y,"mode",A,d)}else{if(a){!j&&d._IJ2.call(d)}}}}for(z in G){u=G[z].lt.ubody;c=u.view;if(u.objtype=="RPT_VIEW"){if(c){if(c.irpt){for(A=0;A<c.irpt.sheets.length;A++){d=c.irpt.sheets[A];o=d._ILa;a=d._ILb;b=o?m._2(o.uid+"_sheet_"+A):null;if(!w&&(m._e&&(!b||(b&&!b.isdrill)))){if(B&&a&&a.openload){delete d.btabrun;if(d._IK9){y=d._IK9._ILa._IJ1.call(d._IK9._ILa);!j&&d._IK9._IJ0(y,"mode",A,d)}else{if(a){!j&&d._IJ2.call(d)}}}continue}if(E){h=a._IL9;for(fname in h){if(fname.indexOf("report_")>-1||fname.indexOf("filter_")>-1){delete h[fname]}}}a._IL9[D]=s;if(u.visible&&!F._i0){c._v2=false;if(B&&a&&!a.openload){continue}if(d._IK9){y=d._IK9._ILa._IJ1.call(d._IK9._ILa);!j&&d._IK9._IJ0(y,"mode",A,d)}else{if(a){!j&&d._IJ2.call(d)}}}else{c._v2=true}}if(u.visible&&!F._i0){c._vf=false}}else{}}}}F._IJ4()},_IO2:function(d){var c=this,g=c.sheets,b=g[d],a,e;b.setLoading.call(b,true,true);a=b._ILb;if(b._IK9){e=b._IK9._ILa._IJ1.call(b._IK9._ILa);b._IK9._IJ0(e,"mode",d,b)}else{if(a){b._IJ2.call(b)}}c._IJ4()},rs_showPrompt:function(){this._t$("cmd_run")},_IJd:function(){var a=this;a._ILe_(true);a._t$("cmd_run")},_IJc:function(){this._t$("cmd_run")},_aa:function(e){var g=this,c=g._IM4,b=g.down("[name=pivoteditor]"),d=g._a.t_pivot,h=g.b_edpanel,a;if(!h){h=g.b_edpanel=g.down("[name=b_edpanel]")}d.toggle(e);g.dzone.editmode=e;h.toggle(g.dzone.editmode);g._i0=e;c.setVisible.call(c,g._i0);b&&b.setVisible(g._i0);if(g._i0&&g.loadPivotOption){g.loadPivotOption(g._IJa,c.cubeuid)}else{if(!g._i0&&g.confirmPivotOption){g.confirmPivotOption()}}g._i0&&c._IGd.call(c,g._ILa.sheets[g._IJa],g._ILa);$.each(this.sheets,function(l,j){j._II9.call(j,(g._i0?"d":j._ILb.viewmode));if(!g._i0){j._IFf.call(j)}})},_ab:function(){var a=this;$.each(this.sheets,function(c,b){b._IFf.call(b,1)})},_IB2:function(){var b=this,c=b.sheets[b._IJa],a=(c&&c._IH6)?c._IH6.G1.mresult:null;if(a){var d=new IG$._IA7({sheetview:c,mresult:a});d.show(b)}},_IB5:function(c,a){var b=this,d=new IG$._I3e();if(c){d.init(b,{ack:"11",payload:IG$._I2d({uid:c}),mbody:IG$._I2e({option:"translate"})},b,function(g){var l=IG$._I18(g,"/smsg/item"),j,h;if(l){j=IG$._I1c(l);h=IG$.xAM(j.type);b._IG7({cubeobj:j,reporttype:h})}},false);d._l()}else{if(IG$._IB6){var e=new IG$._IB6({modal:true,_ILa:b._ILa,callback:new IG$._I3d(b,function(g){b._IG7(g,a)})});e.show()}}},_IJ9:function(){var d=this,a=d.sheets[d._IJa],b,c=a._IK2;if(c&&c.results){for(b=0;b<c.results.length;b++){c.results[b].__bands=null}}a._IJf=true;a._IP8.call(a,a)},_ai:function(e){var c=this,d,a,b=c._par;c.dzone=new IG$.dz(e,c),c.dzone.cmode=c.cmode||0;if(b){b._dzseq=b._dzseq||0}c._dzid=b?b._dzid+"_"+(b._dzseq++):"root";c.dzone._dzid=c._dzid;c.dzone._IM6={f:c._IM6,s:c};c.dzone.b1.bind({config_doc:function(h,g){c._IM7.call(c,g)},config_pivot:function(h,g){c._IM7a.call(c,g)}});if(IG$.__ep){c.dzone.b1.bind("boxresized",function(){var j=c.getWidth(),q=c.getHeight(),l=borderpanel.getWidth(),g=borderpanel.getHeight(),h=c.dzone.b1.offset(),s=IG$.x_10._w(c.dzone.b1),m=IG$.x_10._h(c.dzone.b1),u,o;if(l<s||g<m){u=j-l;o=q-g;c.setSize(Math.max(s+u,j),Math.max(m+o,q))}})}c._IFd(c.vmode==1?true:null)},_IFd:function(c){var a=this,d,b=a.uid;a._IN1();if(b&&b.length>0){a.issheet=(a.itemtype=="Sheet")?true:false;a._IJa=0;if(a.isnewitem){}else{if(a.pivot){setTimeout(function(){var e=IG$._I13(a.pivot);a.pivot=null;a._IM9(e)},10)}else{if(a.writable){IG$._I56(a,function(e){if(e!="unlock"){a.writable=false;a.down("[name=t_save]").hide()}})}d=new IG$._I3e();d.init(a,{ack:"5",payload:IG$._I2d({uid:b,revision:a.revision}),mbody:IG$._I2e({option:a.hiddentoolbar?"":"diagnostics"})},a,a._IM9,false,c);d._l()}}}else{if(a.__jid&&a.__sid){a._ILd.call(a,a.__sid,a.__jid)}else{a.setLoading(false);a._d1.call(a);if(a.vmode!=1){setTimeout(function(){a._IB5.call(a,a.cubeuid)},400)}}}},_d1:function(b){var a=this.execallback;a&&a.execute(b)},_IM9:function(o,q){var b=this,e=b.auxfilter,d=IG$._I18(o,"/smsg/item"),l,s,m,c,h,a,g,j={};c=(d)?IG$._I1c(d):null;if(c&&c.type=="Export"){h=IG$._I18(o,"/smsg/item/export/report_content/reportxml");b._ILa=new IG$._IEe(h);h=IG$._I18(o,"/smsg/item/export/sheets");if(h){a=IG$._I26(h);for(l=0;l<a.length;l++){g=IG$._I18(a[l],"gridresult");if(g){j[IG$._I1b(a[l],"docid")]=new IG$._IF2(null,g)}}}b._IMb(j);b.fireEvent("_lc0",b)}else{b._ILa=new IG$._IEe(o);b._IMb(null,q);if(e){for(l=0;l<b._ILa.sheets.length;l++){m=b._ILa.sheets[l];for(s in e){m._IL9[s]=e[s]}}}b.fireEvent("_lc0",b)}},cL:function(){},_IMf:function(e){var c=this,a=c.down("[name=tbcubepath]"),d=c.sheets[c._IJa],b=c._ILa;a.show();a.setText(e.name);if(d&&d._ILb.cubeuid==e.uid){d._ILb.cubeitem=e}if(b.cubeuid==e.uid){b.cubeitem=e}a.setTooltip("Goto: "+e.nodepath)},_ILc:function(q,b){var s=this,m=q.view.sheetindex,w=s._IM4,o=s.down("[name=tbreportname]"),y=s.dzone,d,h,x,l,g;if(b||m!=s._IJa){l=s._IJa=(s.itemtype=="Sheet")?0:m;d=s.sheets[l];x=(d&&d._ILb?d._ILb.viewmode:null);if(s._2){var e=s.down("[name=t_grid]"),u=s.down("[name=t_chart]"),c=s.down("[name=t_r]"),j=s.down("[name=t_python]"),a=0;switch(x){case"chart":a=1;break;case"r":a=2;break;case"python":a=3;break}e.toggle(a==0,a==0);u.toggle(a==1,a==1);c.toggle(a==2,a==2);j.toggle(a==3,a==3);a==1&&s._IK6();a!=1&&s._IK4();s._IK7(a==2);s._IL3(a!=1);s._IL4(a!=2);s._IK7p(a==3)}h=y._IIb.call(y,d._ILb.layoutinfo.docid);h.setTitle.call(h,d._ILb.name||"");y._IIc.call(y,h);s._ILe_(false);if(o){o.setText(s._ILa.name||"");s._IGb();s._IN4()}s._IGa(false);if(s._i0){if(w){w._IGd.call(w,s._ILa.sheets[l],s._ILa)}g=s.loadPivotOption;g&&g.call(s,l,w?w.cubeuid:null)}}},_IMb:function(A,F){var C,d,c,q=this,G=q,j=q.down("[name=tbreportname]"),x=q.dzone,l,s,D=(F?false:true),a=q.issheet,h=q._ILa,e=h.sheets,c,z,B,g,E,y,b,o,w,u;q._IJb();x._IN9.call(x);q.sheets=[];l=h.layoutinfo;q.ctrls=h.ctrls;q._IN3();j&&j.setText(h.name||"");if(!a){if(l.type=="bubble"){l=x.tLayout(l)}else{if(l.type=="mondrian"){}}x.m1.call(x,q,l,q.ctrls)}if(h.requirepwd&&!IG$.dbp[h.poolname]){D=false;var m=new IG$._Ice({poolname:h.poolname,callback:new IG$._I3d(q,q.r_IMa,h.poolname)});IG$._I_5(this,m)}if(e.length>0){d=e[0];o=d.layoutinfo;if(a&&q.sheetindex!=0){}else{z=o.docid;if(!z){y=x.items;for(C=0;C<y.length;C++){b=y[C];if(b.objtype=="SHEET"&&!b.view){z=o.docid=b.docid;break}}}ubody=x._IIb.call(x,z);if(ubody==null&&!z){ubody=G.aB();z=o.docid=ubody.docid}if(ubody){ubody.setTitle.call(ubody,d.name||"");x._IIc.call(x,ubody);B=A?A[z]:null;c=q._IMd(0,d,ubody,B);ubody.view=c;ubody.objtype="SHEET";ubody.m1.call(ubody);ubody.setReportOption.call(ubody,d);q.sheets.push(c);E=q.sheets[0];E.sheetindex=0;E._ILb=d;E._ILa=h;E._IN0.call(E)}}}w=x.items;if(D&&w){$.each(w,function(H,I){if(I.objtype=="FILTER"){D=false}})}if(h.b_sc_load=="T"){D=false;x.cmode=1;q._cld=1}if(e.length>1){for(C=e.length-1;C>=0;C--){sop=e[C];o=sop.layoutinfo;z=o.docid;ubody=x._IIb.call(x,z);if(!ubody){if(a){if(q.sheetindex==C){ubody=G.aB(sop.objtype);o.docid=ubody.docid}}else{e.splice(C,1);q.sheets.splice(C,C)}}}for(C=1;C<e.length;C++){d=e[C];o=d.layoutinfo;if(a&&q.sheetindex!=C){continue}z=o.docid;ubody=x._IIb.call(x,z);if(ubody){B=A?A[z]:null;c=q._IMd(C,d,ubody,B);ubody.view=c;ubody.objtype="SHEET";ubody.setReportOption.call(ubody,d);ubody.m1.call(ubody);q.sheets.push(c);if(d.openload){c.sheetindex=C;c._ILb=d;c._ILa=h;c._IN0.call(c);D=true}ubody.setTitle.call(ubody,d.name||"")}}}if(!IG$.__ep&&h.__cs.l.length==0){if(q.vmode!=1){setTimeout(function(){q._IB5.call(q)},200)}}if(!IG$.__ep){g=e.length>0?x._IIb.call(x,e[0].layoutinfo.docid):null;g&&q._ILc(g,true);if(q._2){q._IGb()}q._IJ4();q._ILe_(true)}q._ILf_(true);if(!D){q._d1()}q.__ld=true;q.__d_c&&q.__d_c.execute();if(typeof window.callPhantom==="function"){window.callPhantom({_proc:"S"})}if(h.b_sc_load=="T"){setTimeout(function(){var H=new IG$._I3e();H.init(q,{ack:"22",payload:IG$._I2d({uid:q.uid,action:"latestjob"},"uid;action"),mbody:IG$._I2e({})},q,function(I){var L=IG$._I18(I,"/smsg/job"),J=this,K;if(L){K=IG$._I1c(L);K.sid&&K.jid&&J._ILd.call(J,K.sid,K.jid)}else{J._cld=0;G._load_run()}},null);H._l()},10)}},_load_run:function(){var c=this,d=c.dzone,a=d.ctrls,b=[];$.each(d.items,function(e,g){switch(g.objtype){case"FILTER":b.push(g);break;default:break}});if(b.length){if(b.length==1){f=b[0];f.view&&f.view.l5.call(f.view,true,true)}else{$.each(b,function(g,q){var l=q.view,h,j,o,e;if(l){h=l._ILb.pff1a;j=h?h.showbutton:false;o=(j&&h.f_b_trg=="T")?1:0;e=o&&h.f_b_trg_all=="T"?1:0;if(o){f=q}}});if(!f){f=b[b.length-1]}f.view&&f.view.l5.call(f.view,true,true)}}else{c.cobj._t$.call(c.cobj,"cmd_run",null,null,null,1)}},r_IMa:function(d,a){var b=this,c=b.sheets;IG$.dbp[a]=d;if(c&&c.length>0){c[0]._IJ2.call(c[0])}},regbody:function(a,c){var b=this;b.__dreg=b.__dreg||{};b.__dreg[a]={b_init:false,docid:a,fobj:c}},cCC:function(){var a=this,c=new IG$._I3e(),b=a.uid;if(b){c.init(a,{ack:"11",payload:IG$._I2d({uid:b},"uid"),mbody:IG$._I2e({option:"clear_cache"})},a,function(d){var g=this,e=g.down("[name=tbcache]");if(e){e.hide()}});c._l()}}});IG$._ILd=function(a,b){var d=this,c=new IG$._I3e(),e;if(b){d.setLoading(true);e={sid:a,jid:b,action:"jobresult"};d._cld_p=e;c.init(d,{ack:"22",payload:IG$._I2d(e,"sid;jid;action"),mbody:IG$._I2e({})},d,d.r_ILd,null,e);c._l()}};IG$.r_ILd=function(A,l){var B=this,h=B.down("[name=tbsch]"),g=IG$._I18(A,"/smsg"),d=(g?IG$._I26(g):null),x,C,a,u=[],w,c,b,j,m,y,z,q,s,o,e=B.sheets;B.setLoading(false);if(d){for(x=0;x<d.length;x++){o=d[x];w=parseInt(IG$._I1b(o,"jobseq"));c=IG$._I1b(o,"key");j=IG$._I1b(o,"crdate");m=IG$._I1b(o,"srdate");b=(c?parseInt(c):w);a=IG$._I19(o,"info");if(a){y=IG$._I1a(a,"crdate");z=IG$._I1a(a,"srdate")}a=IG$._I19(o,"resultxml");if(a){s=IG$._I25(a);s=s?IG$._I13(s):null;q={jobseq:b,crdate:j,srdate:m,crdate_fmt:y,srdate_fmt:z,content:s};u.push(q)}}if(u.length){for(x=0;x<u.length;x++){jobres=u[x];w=jobres.jobseq;j=jobres.crdate;y=jobres.crdate_fmt;m=jobres.srdate;z=jobres.srdate_fmt;if(jobres.content){C=new IG$._IF2(jobres.content);C.srdate=m;C.crdate=j;C.srdate_fmt=z;C.crdate_fmt=y;if(l){C._job={sid:l.sid,jid:l.jid,jobid:C._IL8}}if(e[w]){e[w]._IJe.call(e[w],C)}}}if(h){h.show();h.setText(z||"-")}}}};IG$._IBe=$s.extend(IG$._I57,{uid:null,layout:"fit",closable:true,sheets:[],ctrls:{},_IJa:0,_IM0:[],_IM1:[],_ILb_:false,isnewitem:false,ignoreclose:false,_IM2:{},_c:["t_save","t_save_as","t_run","t_exp","t_tool","t_grid","t_chart","t_r","t_python","toolbarprompt","t_sql_edit","t_sql_view","t_sheet","t_chart_wizard","t_chart_type","t_r_summary","t_r_script","t_r_saveimage","t_r_wizard","t_editdata","t_py_edit"],initComponent:function(){var d=this,c,b,a;if(d._iv=="dashboard"){d.hiddenstatusbar=true;d.hiddentoolbar=true}if(IG$.__ep_m<1){c={xtype:"toolbar",name:"_1",hidden:d.hiddenstatusbar||false,items:[{xtype:"button",text:"",name:"tbreportname",tooltipType:"title",tooltip:"Search in navigation",handler:function(){var g=d._ILa,e=IG$._IM3;if(g&&g.nodepath&&IG$._I7d&&e){if(e.vmode!="tree"){IG$._I7e(1)}e._IHd.call(e,{name:g.name,nodepath:g.nodepath,uid:g.uid})}},scope:d},"-",{xtype:"button",text:"",name:"tbcubepath",tooltipType:"title",hidden:true,handler:function(){var g=this,j=g.sheets[g._IJa],h=j._ILb.cubeuid?j._ILb.cubeitem:g._ILa.cubeitem;if(h&&IG$._IM3&&IG$._IM3.rendered){var e=IG$._IM3;if(e.vmode!="tree"){IG$._I7e(1)}e._IHd.call(e,h)}},scope:d},"->",{xtype:"tbtext",text:"",hidden:true,name:"tbsch"},{xtype:"tbtext",text:"",name:"tbresult"},"-",{xtype:"tbtext",name:"tbrescount",text:""},"-",{xtype:"tbtext",text:"Ready",name:"tbstatus"},{xtype:"button",iconCls:"igc-cached",hidden:true,tooltipType:"title",name:"tbcache",tooltip:"",handler:function(){this.cCC()},scope:d}]};b={xtype:"toolbar",name:"_2",hidden:d.hiddentoolbar||(ig$.fm&&ig$.fm.ig_r_tbar)||false,items:[{iconCls:"icon-toolbar-runreport",tooltip:IRm$.r1("L_RUN_REPORT"),handler:function(){this._t$("cmd_run")},scope:d}]}}a=[{xtype:"panel",border:0,layout:"border",items:[{xtype:"panel",name:"mainpanel",border:0,region:"center",layout:"border",flex:1,defaults:{collapsible:true,split:false,bodyPadding:0,border:true},items:[{name:"_3",html:"Please wait while loading...",region:"center",layout:"fit",border:0,collapsible:false}],listeners:{resize:function(e,m,l,j){var g=this,h=g.dzone;if(h){IG$.x_10._w(h.b0,m);IG$.x_10._h(h.b0,l);h._IM5.call(h,true)}},scope:d}}]}];$s.apply(d,{tbar:b,bbar:c,items:a});IG$._IBe.superclass.initComponent.call(this)},loadPivotOption:function(a,d){var g=this,c=g.down("[name=pivoteditor]"),b,d,e=true;if(c&&g._i0){g.confirmPivotOption();c.setVisible(true);b=g._ILa.sheets[a];c._IJa=a,c._ILa=g._ILa;c._ILb=b;if(!d){d=b?b.cubeuid:null}if(d){e=b?b.Uc.call(b,d):true;if(e){b.cubeuid=d}}c.cubeuid=b?b.cubeuid:null;c.Uc.call(c,d,e);setTimeout(function(){c._IL1.call(c);c._c=1},20)}},confirmPivotOption:function(){var b=this,a=b.down("[name=pivoteditor]");if(a&&a._c){a._IFf.call(a);a._c=0}},listeners:{afterrender:function(){var b=this,a=b.down("[name=_3]"),d=$(a.body.dom),c=b.down("[name=_1]");_2=b.down("[name=_2]");b._1=c;b._2=_2;b.__loaded=1;b._IM4=b.down("[name=p1]");b._3=a;d.empty();b._ai(d)},resize:function(a,g,e,b){var c=this,d=c.dzone;if(g>0&&e>0){d._IM5.call(d,true)}},close:function(a,d){var c=this,g=c.sheets,e=c.dzone,b;if(g&&g.length){for(b=0;b<g.length;b++){g[b].close()}c.sheets=null}if(e&&e.items&&e.items.length){for(b=0;b<e.items.length;b++){if(e.items[b].objtype!="SHEET"&&e.items[b].view){e.items[b].view.__dx=true}}}},beforeclose:function(c,h){var g=this,e=true,a=[],d,j=g.sheets;if(g.dlg_pivot){g.dlg_pivot.close()}for(d=0;d<j.length;d++){if(j[d].jobid){a.push(j[d].jobid)}if(j[d]._refresh_timer){clearTimeout(j[d]._refresh_timer)}}if(c.ignoreclose){e=true}else{if(c._ILb_&&(g.writable||!g.uid)){IG$._I55(null,null,c._IM8,c,c);e=false}else{if(g.writable&&g.uid){var b=new IG$._I3e();b.init(c,{ack:"11",payload:IG$._I2d({uid:c.uid}),mbody:IG$._I2e({option:"lock",detail:"close",rcs:a.join(";")})},c,function(l){},false);b._l()}else{if(a.length>0){var b=new IG$._I3e();b.init(c,{ack:"18",payload:IG$._I2d({uid:c.uid}),mbody:IG$._I2e({option:"clearjob",rcs:a.join(";")})},c,function(l){},false);b._l()}}}}return e}},_IM8:function(c){var b=this;if(c=="no"){if(b.uid){var a=new IG$._I3e();a.init(b,{ack:"11",payload:IG$._I2d({uid:b.uid}),mbody:IG$._I2e({option:"lock",detail:"close"})},b,function(d){b.ignoreclose=true;b.close()},false);a._l()}else{b.ignoreclose=true;b.close()}}else{if(c=="yes"){var a=new IG$._I3e();a.init(b,{ack:"11",payload:IG$._I2d({uid:b.uid}),mbody:IG$._I2e({option:"lock",detail:"close"})},b,function(d){b._t$("cmd_save",true)},false);a._l()}}},_IM6:function(q){var h=this,m=h.dzone,b=h._ILa,o=m._IIb.call(m,q),l=(o?o.view:null),d,c,e=h.sheets,g,a=false;h._ILb_=true;if(l){switch(o.objtype){case"SHEET":for(d=0;d<e.length;d++){g=e[d];if(g==l){e.splice(d,1);if(g._ILb&&g._ILb.objtype=="SHEET"&&b.sheets.length>d){b.sheets.splice(d,1)}a=true;break}}break;default:if(h.ctrls[q]){l.__dx=true;delete h.ctrls[q]}a=true;break}}else{if(h.ctrls[q]){delete h.ctrls[q]}a=true}return a},_IM7:function(m){var g=this,j=g.dzone,l=(m?j._IIb.call(j,m):null),h=(l?l.view:null),c,d=g.sheets,e,a=false,b;if(h){b=h.sheetindex;g._IG9.call(g,b,h)}},_IM7a:function(q){var j=this,m=j.dzone,o=(q?m._IIb.call(m,q):null),l=(o?o.view:null),d,e=j.sheets,g,a=false,b,c;if(l){c=o.objtype=="FILTER";b=l.sheetindex;if(j.dlg_pivot){if(j.dlg_pivot.docid==q){return}j.dlg_pivot.close();j.dlg_pivot=null}var h=new IG$.dlg_pivot({report_ptr:j,_ILa:j._ILa,sheetindex:b,objtype:o.objtype,docid:q});IG$._I_5(j,h)}},r_IMa:IG$._Ibb.r_IMa,regbody:IG$._Ibb.regbody,_IMb:IG$._Ibb._IMb,_load_run:IG$._Ibb._load_run,_ILd:IG$._ILd,r_ILd:IG$.r_ILd,_IL6:IG$._Ibb._IL6,_s1:IG$._Ibb._s1,_K:IG$._Ibb._K,_ILc:IG$._Ibb._ILc,_IGa:IG$._Ibb._IGa,_IG9:function(d,c){c.sheetindex=d;var b=this,a=new IG$._If1({dzone:b.dzone,sheets:b.sheets,_ILb:c._ILb,sheetindex:d,_ILa:b._ILa,callback:new IG$._I3d(b,b.r_IG9,c)});IG$._I_5(this,a)},r_IG9:function(s,j){var u=this,m=u._ILa.sheets,d=u._ILa,o=j._ILb,z=u.dzone,A,q,b,a=j.sheetindex,e,g,y,c;A=(o.objtype=="SHEET")?o.layoutinfo.docid:o.docid;e=z._IIb.call(z,A);if(e){u._ILb_=true;c=d.sheets;if(o.changetype){u._IJa=0;if(o.changetype=="SHEET"){for(g=0;g<c.length;g++){if(c[g]==o){c.splice(g,1);break}}for(g=0;g<u.sheets.length;g++){if(u.sheets[g]==j){u.sheets.splice(g,1);break}}for(g=0;g<u.sheets.length;g++){u.sheets[g].sheetindex=g}}if(e.view){e.view.rX.call(e.view);e.b3.empty()}if(o.objtype=="SHEET"){q=new IG$._IEf(null,u.itemtype,false);q.layoutinfo.docid=A;c.push(q);b=u._IMd(a,q,e);e.view=b;u.sheets.push(b);b.sheetindex=u.sheets.length-1}else{if(o.changetype=="SHEET"){y=new IG$._IFc(null);y.objtype=o.objtype;y.close=o.close;y.name=o.name}u._INb(o,e);q=e.view;if(o.changetype=="SHEET"){u.ctrls[e.docid]=y}var x=IG$.x_10._w(q.container),l=IG$.x_10._h(q.container);q.setSize(x,l)}u._ILf_(false)}if(o.objtype=="FILTER"||o.objtype=="TEXT"||o.objtype=="NAVI"||o.objtype=="RPT_VIEW"){if(o.objtype=="FILTER"){e.view.l3.call(e.view,null,false,false,true)}else{e.view.l3.call(e.view)}}e.setTitle.call(e,o.name);e.showTitle.call(e,!o.hidetitle);e.fw=o.fw;e.fh=o.fh;e.setReportOption.call(e,o);e.m1.call(e)}z._IM5.call(z,true)},_IGb:IG$._Ibb._IGb,_IMf:IG$._Ibb._IMf,_ILf_:IG$._Ibb._ILf_,_IJb:IG$._Ibb._IJb,aB:IG$._Ibb.aB,_IN1:function(){var g,c=this,b=c._2,a=[],e,h;if(!b){return}b.suspendLayout=true;b.removeAll();for(e=0;e<IG$._I32.length;e++){h={text:IG$._I32[e].label,charttype:IG$._I32[e].charttype,subtype:IG$._I32[e].subtype,handler:function(){c._IN5.call(c,this)}};a.push(h)}g=[{iconCls:"icon-toolbar-save",name:"t_save",cls:"ig_r_save",tooltip:IRm$.r1("L_SAVE_REPORT"),hidden:true,handler:function(){this._t$("cmd_save")},scope:this},{iconCls:"icon-toolbar-saveas",name:"t_save_as",cls:"ig_r_saveas",tooltip:IRm$.r1("L_SAVE_REPORT_AS"),hidden:true,handler:function(){this._t$("cmd_saveas")},scope:this},"-",{iconCls:"icon-toolbar-runreport",name:"t_run",cls:"ig_r_run",hidden:true,tooltip:IRm$.r1("L_RUN_REPORT"),handler:function(){this._t$("cmd_run")},scope:this},"-",{xtype:"button",iconCls:"icon-toolbar-addsheet",name:"t_sheet",cls:"ig_r_adpanel",hidden:true,text:IRm$.r1("L_ADD_VIEW"),menu:{xtype:"menu",items:[{text:IRm$.r1("L_NEW_SHEET"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","SHEET")},scope:this},{text:IRm$.r1("L_NEW_FILTER"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","FILTER")},scope:this},{text:IRm$.r1("L_NEW_TEXTAREA"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","TEXT")},scope:this},"-",{text:IRm$.r1("L_NEW_TABPANEL"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","TAB")},scope:this},{text:IRm$.r1("L_NEW_PANEL"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","PANEL")},scope:this},{text:IRm$.r1("L_NEW_RPT_VIEWER"),handler:function(){this._ILb_=true;this._t$("cmd_add_sheet","RPT_VIEW")},scope:this}]}},{iconCls:"icon-toolbar-layout",tooltip:"Edit Docking Panel",cls:"ig_r_edpanel",name:"b_edpanel",enableToggle:true,text:IRm$.r1("L_PIVOT_REPORT"),handler:function(){this._ILb_=true;this._t$("cmd_dock_panel")},listeners:{afterrender:function(j){IG$.r___.a(j,"edit_dock_panel")}},scope:this},"-",{iconCls:"icon-toolbar-grid",cls:"ig_r_grid",name:"t_grid",hidden:true,toggleGroup:"vm",tooltip:IRm$.r1("L_VIEW_GRID"),handler:function(){this._ILb_=true;this._t$("cmd_sheetview")},scope:this},{iconCls:"icon-toolbar-chart",name:"t_chart",cls:"ig_r_chart",toggleGroup:"vm",hidden:true,tooltip:IRm$.r1("L_VIEW_CHART"),handler:function(){this._ILb_=true;this._t$("cmd_chartview")},scope:this},{iconCls:"icon-toolbar-r",name:"t_r",cls:"ig_r_r",toggleGroup:"vm",hidden:true,tooltip:IRm$.r1("L_VIEW_RSTAT"),handler:function(){this._ILb_=true;this._t$("cmd_rview")},scope:this},{iconCls:"icon-toolbar-python",name:"t_python",cls:"ig_r_python",toggleGroup:"vm",hidden:true,tooltip:IRm$.r1("L_VIEW_PYTHON"),handler:function(){this._ILb_=true;this._t$("cmd_pythonview")},scope:this},"-",{iconCls:"icon-toolbar-editdata",name:"t_editdata",hidden:true,tooltip:IRm$.r1("L_EDIT_DATA"),handler:function(){this._ILb_=true;this._t$("cmd_edit_data")},scope:this},{iconCls:"icon-toolbar-prompt",name:"toolbarprompt",hidden:true,tooltip:"Prompt",handler:function(){this._ILb_=true;this._t$("cmd_prompt")},scope:this},{iconCls:"icon-sql",name:"t_sql_edit",hidden:true,tooltip:IRm$.r1("L_EDIT_SQL"),handler:function(){this._t$("cmd_edit_sql")},scope:this},{iconCls:"icon-toolbar-export",name:"t_exp",cls:"ig_r_exp",hidden:true,tooltip:IRm$.r1("L_EXPORT"),xtype:"button",menu:[{text:IRm$.r1("L_EXPORT_EXCEL"),name:"ig_r_xls",iconCls:"icon-toolbar-excel",handler:function(){this._t$("cmd_export_excel")},scope:this},{text:IRm$.r1("L_EXPORT_PDF"),name:"ig_r_pdf",iconCls:"icon-toolbar-pdf",handler:function(){this._t$("cmd_export_pdf")},scope:this},{text:IRm$.r1("L_EXPORT_CSV"),name:"ig_r_csv",handler:function(){this._t$("cmd_export_csv")},scope:this},{text:IRm$.r1("L_EXPORT_HTML"),name:"ig_r_html",iconCls:"icon-toolbar-html",handler:function(){this._t$("cmd_export_html")},scope:this},{name:"office",cls:"ig_r_office",text:IRm$.r1("L_EXPORT_OFFICE"),menu:{xtype:"menu",items:[]}},{name:"jasper",cls:"ig_r_jasper",text:IRm$.r1("L_EXPORT_JASPER"),menu:{xtype:"menu",items:[]},handler:function(){if(this.dft_jasp_exp){me._t$.call(me,"cmd_export_jasper",this.dft_jasp_exp)}}},{text:IRm$.r1("L_CLIPBOARD_COPY"),cls:"ig_r_clb",iconCls:"icon-toolbar-clipboard",handler:function(){this._t$("cmd_clipboard")},scope:this}]}];if(window.IExport){var d;for(d in window.IExport){if(window.IExport[d].toolbar){window.IExport[d].toolbar.scope=this;g.push(window.IExport[d].toolbar)}}}g.push({tooltip:IRm$.r1("L_EXPORT_OPTION"),iconCls:"icon-toolbar-popt",cls:"ig_r_eopt",handler:function(){this._ILb_=true;this._t$("cmd_export_option")},scope:this},"-",{iconCls:"icon-sql",text:IRm$.r1("L_VIEW_SQL"),cls:"ig_r_sv",name:"t_sql_view",hidden:true,handler:function(){this._t$("cmd_view_sql")},scope:this},{iconCls:"icon-toolbar-tools",name:"t_tool",cls:"ig_r_tools",hidden:true,tooltip:IRm$.r1("L_REPORT_TOOLS"),xtype:"button",menu:[{text:IRm$.r1("L_STATISTICS"),cls:"ig_r_stat",handler:function(){this._ILb_=true;this._t$("cmd_statistics")},scope:this}]},"-",{text:IRm$.r1("B_WIZARD"),name:"t_chart_wizard",cls:"ig_r_cwz",dtype:"chart",hidden:true,handler:function(){var j=this;this._ILb_=true;j._t$.call(j,"cmd_chartwizard")},scope:this},{text:IRm$.r1("L_CHART_TYPE"),name:"t_chart_type",cls:"ig_r_ct",hidden:true,dtype:"chart",menu:a},{text:IRm$.r1("L_R_SUMMARY"),tooltip:IRm$.r1("L_R_SUMMARY"),name:"t_r_summary",cls:"ig_r_rsum",iconCls:"icon-toolbar-rsummary",dtype:"r",hidden:true,handler:function(){var j=this;this._ILb_=true;j._t$.call(j,"cmd_r_summary")},scope:this},{text:IRm$.r1("L_R_SCRIPT"),tooltip:IRm$.r1("L_R_SCRIPT"),iconCls:"icon-toolbar-rscript",name:"t_r_script",cls:"ig_r_rsce",dtype:"r",hidden:true,handler:function(){var j=this;this._ILb_=true;j._t$.call(j,"cmd_r_script")},scope:this},{text:IRm$.r1("L_R_WIZARD"),tooltip:IRm$.r1("L_R_WIZARD"),iconCls:"icon-toolbar-rwizard",name:"t_r_wizard",cls:"ig_r_rwzd",dtype:"r",hidden:true,handler:function(){var j=this;this._ILb_=true;j._t$.call(j,"cmd_r_wizard")},scope:this},{text:IRm$.r1("L_PY_EDIT"),tooltip:IRm$.r1("L_PY_EDIT"),iconCls:"icon-toolbar-pyedit",name:"t_py_edit",cls:"ig_py_edit",dtype:"py",hidden:true,handler:function(){var j=this;this._ILb_=true;j._t$.call(j,"cmd_py_edit")},scope:this},{text:IRm$.r1("T_SAVE_IMAGE"),tooltip:IRm$.r1("L_SAVE_IMAGE"),iconCls:"icon-toolbar-saveimage",name:"t_r_saveimage",cls:"ig_r_rimg",xtype:"button",dtype:"r",hidden:true,menu:[{text:"PNG File",handler:function(){var j=this;j._t$.call(j,"cmd_r_simage_png")},scope:this},{text:"SVG File",handler:function(){var j=this;j._t$.call(j,"cmd_r_simage_svg")},scope:this}]},"->",{iconCls:"icon-toolbar-schedule",cls:"ig_r_sch",tooltip:IRm$.r1("B_SCHEDULE"),hidden:ig$.features&&!ig$.features.enable_scheduler?true:false,handler:function(){this._t$.call(this,"cmd_schedule")},scope:this},{iconCls:"icon-email",cls:"ig_r_email",tooltip:IRm$.r1("B_SHARE"),handler:function(){this._t$.call(this,"cmd_share")},scope:this},{iconCls:"icon-toolbar-favorites",cls:"ig_r_fav",tooltip:IRm$.r1("B_FAVORITES"),handler:function(){this._t$.call(this,"cmd_favorites")},scope:this},{iconCls:"icon-toolbar-svn",hidden:true,tooltip:IRm$.r1("B_SVN"),handler:function(){this._t$.call(this,"cmd_svn")},scope:this},{iconCls:"icon-toolbar-userdoc",tooltip:IRm$.r1("B_USER_DOC"),cls:"ig_r_inst",handler:function(){IG$._I63(this.uid,true,"report")},scope:this});b.add(g);b.suspendLayout=false;b.doLayout()},_IN2:IG$._Ibb._IN2,_b:function(){var d=this,a=d._2,c=d._c,b=d._a;if(!a){return}if(!b){b=d._a={};for(i=0;i<c.length;i++){b[c[i]]=a.down("[name="+c[i]+"]")}}return b},_IN3:function(){var g=this,a=g._2,e=g._a,d=g._c,c,b,h=[];if(!a){return}a.suspendLayout=true;e=g._b();for(c=0;c<d.length;c++){e[d[c]].hide()}if(g.writable||g.uid==""){h.push("t_save")}h.push("t_save_as");h.push(["t_run","t_tool","t_exp","t_grid","t_chart","t_sheet"]);if(IG$._I83.jS1.l3.charAt(0)!="P"){h.push("t_r");h.push("t_python")}g._IN4();g._IJb();for(c=0;c<h.length;c++){if(typeof(h[c])=="string"){if(!ig$.fm[e[h[c]].cls]){e[h[c]].show()}}else{for(b=0;b<h[c].length;b++){if(!ig$.fm[e[h[c][b]].cls]){e[h[c][b]].show()}}}}a.suspendLayout=false;a.doLayout()},_IN4:function(){var d=this,b=d._b(),a=d._ILa.__cs,e=d.sheets[d._IJa],c=e?e._ILb.cubeuid:null,g;b.t_editdata.hide();b.t_sql_edit.hide();b.t_sql_view.hide();if(c&&a.m[c]){g=a.m[c].type;g=g?g.toLowerCase():null}if(g=="cube"||g=="mcube"||g=="datacube"||g=="nosql"||g=="mdbcube"||g=="sqlcube"){if(d.writable&&g=="mcube"&&!ig$.fm[b.t_editdata.cls]){b.t_editdata.show()}}else{if(g=="sqlcube"&&!ig$.fm[b.t_sql_edit.cls]){b.t_sql_edit.show()}}if((g=="cube"||g=="sqlcube")&&!ig$.fm[b.t_sql_view.cls]){b.t_sql_view.show()}},_ILe_:function(g){var c=this,a=null,b,e=c.down("[name=toolbarprompt]"),d=c.sheets[c._IJa];if(e){e.hide()}if(e&&d&&c._ILa&&c._ILa.sheets.length>c._IJa){a=c._ILa.sheets[c._IJa];b=a.needPrompt.call(a);if(b&&b.length>0){e.show();if(g){d._IKd&&d._IKd.show();d.showPrompt.call(d,b)}}else{if(g){d._IKd&&d._IKd.hide()}}}},_IK6:function(){var b=this,a=b._b();if(a){$.each(["t_chart_wizard","t_chart_type"],function(d,c){!ig$.fm[a[c].cls]&&a[c].show()})}},_IK4:function(){var b=this,a=b._b();if(!a){return}a.t_chart_wizard.hide();a.t_chart_type.hide()},_IK7:function(c){var b=this,a=b._a;if(!a){return}$.each(["t_r_summary","t_r_script","t_r_saveimage","t_r_wizard"],function(e,d){a[d]&&a[d][!ig$.fm[a[d].cls]&&c?"show":"hide"]()})},_IK7p:function(c){var b=this,a=b._a;if(!a){return}$.each(["t_py_edit"],function(e,d){a[d]&&a[d][!ig$.fm[a[d].cls]&&c?"show":"hide"]()})},_IN5:function(h){var d=this,e=h.charttype,a=h.subtype,c=d.sheets[d._IJa],b=c?c._ILb:null,g;if(b){g=b.cco;g.charttype=e;g.subtype=a;d._IJ9()}},_IL3:function(a){var c=this,b;for(b=0;b<c._IM0.length;b++){if(a){c._2.remove(c._IM0[b])}else{c._2.add(c._IM0[b])}}},_IL4:function(a){var b,c=this;for(b=0;b<c._IM1.length;b++){if(a){c._2.remove(c._IM1[b])}else{c._2.add(c._IM1[b])}}},_IIa:IG$._Ibb._IIa,_IIa2:IG$._Ibb._IIa2,_II9:IG$._Ibb._II9,_t$:IG$._Ibb._t$,rs_i1_2:function(a){IG$._I54(ig$.appname,IRm$.r1("M_SAVED_FAV"),null,null,0,"success")},_IN6:IG$._Ibb._IN6,_IN7:function(){var a=this;a._ILe_(true)},_IId:IG$._Ibb._IId,_INa:function(a){var c=this,d=c.sheets[c._IJa],b=d._IH8;if(a){d._ILb.rro.s3=a.vcontent;b.F2a.call(b);b.F3.call(b)}},addSheet:function(h){var d=this,b=h._ILb,e=d.dzone,c=d.sheets.length,a=this,g;b.objtype=h.objtype;b.drillreport=h.drillreport;b.drilltarget=h.drilltarget;b.close=h.closable;b.hidetitle=h.hidetitle;b.isdistinct=h.isdistinct;b.name=h.reportname;b.openload=h.openload;b.columnfill=h.columnfill;switch(h.objtype){case"SHEET":a._ILa.sheets.push(b);break;default:g=a._INb(b);a.ctrls[g.docid]=b;g.setReportOption.call(g,b);break}a._ILf_(false);e._IM5.call(e,true)},_INb:IG$._Ibb._INb,__l1:IG$._Ibb.__l1,_IMd:IG$._Ibb._IMd,_INc:IG$._Ibb._INc,_INd:IG$._Ibb._INd,applyOption:IG$._Ibb.applyOption,_INe:IG$._Ibb._INe,_INf:IG$._Ibb._INf,_IJ4:IG$._Ibb._IJ4,_IO0:IG$._Ibb._IO0,_IO2:IG$._Ibb._IO2,_IO1:IG$._Ibb._IO1,rs_showPrompt:IG$._Ibb.rs_showPrompt,_IJd:IG$._Ibb._IJd,_IJc:IG$._Ibb._IJc,_aa:IG$._Ibb._aa,_ab:IG$._Ibb._ab,_IO3:IG$._Ibb._IO3,_IJ9:IG$._Ibb._IJ9,F:IG$._Ibb.F,J3:IG$._Ibb.J3,_IJ6:function(c,b,d){var a=this;var e=new IG$._I3e();e.init(a,{ack:"31",payload:IG$._I2d({uid:c}),mbody:b},a,a.r_IJ6,null,[d]);e._l()},r_IJ6:function(a,b){var d=this,c=(b?b[0]:false);if(c){d.ignoreclose=true;d.close()}else{d._ILb_=false;IG$._I54(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}},_IJ5:IG$._Ibb._IJ5,_IO4:IG$._Ibb._IO4,_IO6:IG$._Ibb._IO6,_IO5:IG$._Ibb._IO5,_IB2:IG$._Ibb._IB2,_IB3:IG$._Ibb._IB3,_IB4:IG$._Ibb._IB4,r_IB3:IG$._Ibb.r_IB3,_IB5:IG$._Ibb._IB5,_ILf:IG$._Ibb._ILf,_IG7:IG$._Ibb._IG7,_ai:IG$._Ibb._ai,_IFd:IG$._Ibb._IFd,_d1:IG$._Ibb._d1,_IM9:IG$._Ibb._IM9,cL:IG$._Ibb.cL,cCC:IG$._Ibb.cCC,Uc:function(a){var b=this,c=b.sheets;$.each(c,function(e,d){d.Uc.call(d,a)})}});IG$._Ibc=$s.extend($s.window,{xtype:"window",modal:true,region:"center",layout:"fit",closable:true,resizable:true,maximizable:true,width:700,height:500,callback:null,poolname:null,defaults:{bodyStyle:"padding:10px"},c1:function(){var a=this},initComponent:function(){var d=this,b,g,e,j=$(document),a=j.width()||700,c=j.height()||600;$s.apply(d,{width:a-80,height:c-80,title:IRm$.r1("L_DET_VIEW")+" ("+(d.viewinfo.title||d.viewinfo.name)+")",items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",flex:1,name:"mpanel",border:0,layout:"fit",items:[]}]}],buttons:[{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}]});IG$._Ibc.superclass.initComponent.apply(this,arguments)},listeners:{afterrender:function(a){var c=this,b=c.down("[name=mpanel]"),e,d;if(c.viewinfo){e="report";d=IG$._I61(c.viewinfo.uid,e,c.viewinfo.name,c.viewinfo.nodepath,false,{closable:false,hiddentoolbar:true,auxfilter:c.auxfilter,header:false});b.add(d)}}}});IG$.cM4=function(b,c){var a=this;a.html=$("<div class='dummyctrl'></div>");a.layout=b;a.pctrl=c;a._1()};IG$.cM4.prototype={appendTo:function(a){this.html.appendTo(a)},_1:function(){var a=this,b;a.html.bind("click",function(c){c.stopPropagation();c.preventDefault();a._2.call(a,"click")});a.html.resizable({resize:function(j,g){var h=g.position,c=g.size,d=a.layout;d.position.width=c.width;d.position.height=c.height;a._2.call(a,"resize")}});a.html.draggable({stop:function(h,d){var g=d.position,c=a.layout;c.position.top=g.top;c.position.left=g.left;a._2.call(a,"resize")}});b=IG$.getControl.call(a,a.layout.type);a.ctrl=b},_2:function(b){var a=this;a.html.trigger("e_"+b)}};IG$.__global=IG$.__global||{};IG$.$d={applyOption:function(a){var c=this,b;if(a.bt){b=IG$._I13(a.bt.content);c.rs_M1(b)}else{if(a._ipcnt){c.iC();c.M7a(c._9._l21.onload)}}c.bt=null},M1:function(){var l=this,d=l.uid,g=$(".dashboard_cnt",l.body.dom),c=$(".dashboardview",l.body.dom),a,e,j,b=window.bowser;if(d&&d.length>0){a=l._emode?l.getWidth():l.body.getWidth();e=l._emode?l.getHeight():l.body.getHeight();l.initialized=true;$(c).empty();if(b.msie&&a>0&&e>0){IG$.x_10._w(c,a);IG$.x_10._h(c,e)}if(l.bt&&l.bt.content){l.applyOption({bt:l.bt})}else{j=new IG$._I3e();j.init(l,{ack:"5",payload:IG$._I2d({uid:d}),mbody:IG$._I2e()},l,l.rs_M1,null);j._l()}}},rs_M1:function(c){var e=this,m,l,b,a,d,g,j,h;e.setLoading(false);e._9=new IG$.cdxml(c);e._9.parseContent.call(e._9,e);m=e._9.item;if(m&&m.uid){e.uid=m.uid}e.M2(c);e.M3();e.M3a(c);e.iC();e.M7a(e._9._l21.onload)},showDummyInfo:function(g){var d=this,a=[{name:"Name",value:g.name},{name:"Type",value:g.type}],h=$("<ul class='dm-info'></ul>"),b;d.dummyInfo.empty();if(g.item){a.push({name:"Bind",value:g.item.name})}for(b=0;b<a.length;b++){h.append($("<li><span class='dm-title'>"+a[b].name+": </span><span>"+a[b].value+"</span></li>"))}var e=g.dummy.html.offset(),j=$(d.body.dom),c=j.offset();d.dummyInfo.css({left:(e.left-c.left+5),top:(e.top-c.top+5)});d.dummyInfo.show()},iC:function(){var e=this,a,j,c,h,d,g,b;if(e._ipcnt){a=IG$._I13(e._ipcnt);j=IG$._I18(a,"/smsg/params");if(j){c=e._9.page_param_map;h=IG$._I26(j);for(d=0;d<h.length;d++){g=IG$._I1b(h[d],"name");b=IG$._I24(h[d]);if(c[g]){c[g].set(b)}}}}e._ipcnt=null},M2:function(g){var l=this,e,d,b,o,h,c,m,a=IG$._I18(g,"/smsg/item/actevents");l.P1={};l.P1a={onload:null,ontimer:null};if(a!=null&&a.hasChildNodes()==true){b=IG$._I26(a);for(e=0;e<b.length;e++){o=IG$._I1b(b[e],"name");h=IG$._I26(b[e]);c=[];for(d=0;d<h.length;d++){m=new IG$._ICe(h[d]);c.push(m)}l.P1[o]=c}}a=IG$._I18(g,"/smsg/item/appl_acts");if(a){b=IG$._I26(a);for(e=0;e<b.length;e++){var q=IG$._I1b(b[e],"name");l.P1a[q]=IG$._I24(b[e])}}},M3:function(s){var o=this,l=$(".dashboard_cnt",o.body.dom),m=$(".dashboardview",o.body.dom),d,b,g=m,c,e,a,q,j;if(s){o._9=s}c=o._9;if(o.P3){$.each(o.P3,function(h,u){var w=u.P9;if(w&&w.destroy){w.destroy.call(w)}})}o.P3=[];o.P2={};o.P3r=[];m.empty();if(o.dsmode){o.dummyInfo=$("<div class='dummyinfo'></div>");o.dummyInfo.appendTo(g);o.dummyInfo.hide();o.dummyInfo.bind("click",function(){o.dummyInfo.fadeOut(1000)})}e=IG$.x_10._w(l);a=IG$.x_10._h(l);b={x:0,y:0,w:e,h:a};o.M4(c.layout,m,b,null,o.P3r);if(!o.dsmode){$.each(o.P3,function(h,u){var w=u.P9;if(w){w.__ivp_=1;w.__ivp&&w.__ivp.call(w)}})}o.Mm11("",b.w,b.h,null)},cL:function(b){var a=this,c=b.P10;a.Mmlla(b,b.layouts,c.x,c.y,c.w,c.h)},M3a:function(a){var d=this,g=IG$._I18(a,"/smsg/item/ActiveScript"),e,b={},c;for(c=0;c<d.P3.length;c++){b[d.P3[c].P6]=d.P3[c].P9}d.m_d$$mj=d._9.m_d$$mj;d.m_d$$mj._l6.call(d.m_d$$mj,b,d);g=IG$._I18(a,"/smsg/item/ConditionScript");if(g){e=$.trim(IG$._I24(g));if(e!=""){e=Base64.decode(e);d.c_d$$mj=new IG$.d$$mj("clc_"+d.uid.replace("-","_"));d.c_d$$mj._l5.call(d.c_d$$mj,e);d.c_d$$mj._l6.call(d.c_d$$mj,b)}}},M4:function(h,a,g,d,c){var e=this,b;if(h&&h.length){for(b=0;b<h.length;b++){var j=e.M5(h[b],a,g,d);j.layouts=[];if(h[b].layout.length){e.M4(h[b].layout,j.P9.html,j.P10,j,j.layouts)}c.push(j)}}},M5:function(c,j,a,o){var h=this,b=new IG$._ICc(c,o,h.dsmode),d,q,g={},l,e;b.dashboard=h;b.P1=h;h.P3.push(b);h.P2[b.P6.toLowerCase()]=b;b.P11(o,a.x,a.y,a.w,a.h);var m=$("<div id='"+b.P6+"'>");for(d=0;d<b.P9.p.length;d++){g[b.P9.p[d].name]=b.P9.p[d]}for(q in b.P7){if(g[q]){l=b.P7[q];switch(g[q].datatype){case"boolean":b.P7[q]=(l=="true"||l==true)?true:false;break;case"number":b.P7[q]=Number(l);break}}}var s=b.P9.html;s.appendTo(j).css({position:"absolute"});if(b.P9!=null&&b.P9.html!=null){b.P9.layout=c;b.P9.initDrawing()}if(b.P9){b.P9.pe=h.M6;b.P9.invalidate.call(b.P9)}if(h.dsmode){e=b.i9.call(b,c);e&&e.bind({e_resize:function(u){u.stopPropagation();u.stopImmediatePropagation();h._dE._1.call(h._dE,c)},e_click:function(u){u.stopPropagation();u.stopImmediatePropagation();h._dE._2.call(h._dE,c)}})}return b},M6:function(h,d){var j=this,c=j.ctrl.dashboard,l;switch(h){case"magnifire":var b=d.ctrl,m=IG$.x_10._w(b.P9.html),g=IG$.x_10._h(b.P9.html);l=b.P10;if(l.w==m&&l.h==g){var e=$(".dashboardview",c.body.dom);b.P9.html.css({top:0,left:0,width:e.clientWidth,height:e.clientHeight,zIndex:99});var a=b.P9;a.zoom=true;a.invalidate.call(a)}else{b.P9.html.css({position:"absolute",top:l.y+l._py,left:l.x+l._py,height:l.h,width:l.w,zIndex:""});b.P9.zoom=false;b.P9.invalidate.call(b.P9)}break}},M7a:function(b){var e=this,o=[],h,g,d,c,l,m=arguments;if(e.P1&&b&&b.length>0){for(d=0;d<b.length;d++){h=b[d];if(e.P1[h.uid]){g=e.P1[h.uid];for(c=0;c<g.length;c++){l=g[c];o.push(l)}}}m=Array.prototype.slice.call(m,1);m.unshift(o);e.M7.apply(e,m)}},M7:function(b){var c=this,a=arguments;a=Array.prototype.slice.call(a,1);if(c.executeEvents&&c.executeEvents.length>0){IG$._I52("Currently processing another job. Please wait while complete!");return}c._IIf(true);clearTimeout(c.eX);c.eX=setTimeout(function(){c.executeEvents=[];for(i=0;i<b.length;i++){b[i].args=a;c.executeEvents.push(b[i])}$.each(c.P2,function(d,e){if(e&&e.P9&&e.P9._c1){e.P9._c1.call(e.P9)}});c.M8.call(c,c)},100)},_IIf:function(g){var c=this,a,e,d,b;if(g==true){d={msg:IRm$.r1("B_PROC")+" <button id='m-mec-loader'>"+IRm$.r1("B_PROC_CANCEL")+"</button>"};b=c.setLoading(d);e=$(c.rendermask);a=$("#m-mec-loader",e).bind("click",function(){c._IP5.call(c)})}else{c.setLoading(false)}},_IP5:function(){var a=this;a.executeEvents=null;a.setLoading(false)},M8:function(b){if(b.executeEvents.length>0){var a=b.executeEvents.shift();try{b.M10.call(b,a)}catch(c){IG$._I52(IRm$.r1("E_D_EVNT",a.name));setTimeout(function(){b.executeEvents=null;b._IIf.call(b,false);b.setLoading(false)},10)}}else{setTimeout(function(){b._IIf.call(b,false);b.setLoading(false)},10)}},M9:function(g){var j=this,h,e,d,l,a=j._9.page_param_map;g.filtervalue=null;if(g.operator){h=g.valuemode;if(h=="control"){var b=j.P2[g.valuefield.toLowerCase()];if(b){e=b.P12.call(b,g.valuefield);if(e!=null){g.filtervalue=e}}}else{if(h=="value"){e=[{code:g.valuetext}];g.filtervalue=e}}if(e&&e.length>0){for(d=0;d<e.length;d++){l=e[d].code;if(l&&l.charAt(0)=="{"&&l.charAt(l.length-1)=="}"){l=l.substring(1,l.length-1);if(a[l]){l=a[l].get();e[d].code=l}}}}}},_g1:function(d,c,g){var b=null,l=this,j=l._9,a,m,e=g?g.r1:null,h=e?e[d.name]:null;if(d.map_type=="var"){a=j.page_param_map[d.map_param];if(c){b=(a?a.get():null)}else{if(h){a.set(h.t=="dataset"?h:h.v)}}}else{if(d.map_type=="ctrl"){a=l.P2[d.map_param.toLowerCase()];if(c){if(a&&a.P9&&a.P9.P12){m=a.P9.P12.call(a.P9,d);if(m&&m.length>0){b=m[0].code}}else{if(a&&a.P9){b=a.P9.get("text")}}}else{if(h){if(h.t=="dataset"){a.P9._ds&&a.P9._ds.call(a.P9,h)}else{a.P9.set("text",h.v)}}}}}return b},_a:function(d){var b="<params>",a,c=this;for(a in d.iparams){b+="<param name='"+a+"'><![CDATA[";r=c._g1(d.iparams[a],true);b+=(r||"");b+="]]></param>"}b+="</params>";return b},M10:function(z){var H=this,B,j=false,u=-1,F,c=z.args;switch(z.purpose.toLowerCase()){case"onlinereport":var l,m,d=(z.item?z.item.uid:null)||null,A;for(B=0;B<H.P3.length;B++){m=H.P3[B];if(m.P3&&m.P6==d){l=m;break}}var C="<smsg><filters source='dashboard'>";C+="<Filter>";C+=z.__sfilter.TX.call(z.__sfilter);C+="</Filter>";C+="<HavingFilter>";C+=z.__shavingfilter.TX.call(z.__shavingfilter);C+="</HavingFilter>";C+="</filters>";C+=H._a(z);C+="</smsg>";if(l){var a=l.P9,y=l.P7;j=false;A=new IG$._I3d(H,function(s,K){var J=this;if(K!=true){}});a.eRun&&a.eRun.call(a,A,C)}else{u=1}break;case"valuelist":if(z.item&&z.item.uid){var b=new IG$._I3e();b.init(H,{ack:"18",payload:"<smsg><item uid='"+z.item.uid+"' option='valuelist'/></smsg>",mbody:"<smsg></smsg>"},H,function(J){var K=this,s=new IG$._ICd(J,z.item.uid);$.each(z.oparams,function(L,N){if(N.map_type=="ctrl"&&N.map_param){var M=K._9.controls[N.map_param.toLowerCase()];rctrl=K.P2[N.map_param.toLowerCase()];rctrl=(rctrl?rctrl.P9:null);if(M&&rctrl){rctrl.loadData&&rctrl.loadData.call(rctrl,s)}}});K.M8(K)},null);b._l();return}else{u=1}break;case"execute_script":if(H.m_d$$mj){if(z.script){c.unshift(z.script);var o=H.m_d$$mj._l7.apply(H.m_d$$mj,c);if(H.m_d$$mj.lastError){IG$._I52(H.m_d$$mj.lastError);u=3}else{if(o===2){j=true}else{if(o==false){H.executeEvents=null;H._IIf.call(H,false);H.setLoading(false);j=true}}}}}else{u=2}break;case"export":if(z.exp_tmpl&&z.exp_out){var D=H._m();var G=H._9.item?H._9.item.name:"",b=new IG$._I3e(),E,E="TMPL",g;switch(z.exp_out){case"excel":g="xls";break;case"word":g="doc";break;default:g=z.exp_out;break}G=G||"unnamed";G=G.replace(/\./g,"_");G=G.replace(/ /g,"");G+="."+g;b.init(H,{ack:"20",payload:IG$._I2d({uid:H.uid,type:E,filename:G,fonttype:"",utemplate:"T",tmplpage:z.exp_tmpl,jasper_filetype:z.exp_out},"uid;type;filename;fonttype;utemplate;tmplpage;jasper_filetype"),mbody:D},H,H.r_IB3,null,G);b._l()}else{u=2}break;case"servercall":if(z.jmodule&&z.jmethod){j=true;var b=new IG$._I3e(),x="<smsg>",w,q;x+=H._a(z);x+="</smsg>";b.init(H,{ack:"73",payload:"<smsg><item"+IG$._I21({uid:H.uid,option:"exec",jmodule:z.jmodule,jmethod:z.jmethod})+"/></smsg>",mbody:x},H,function(s){var L=this,J,K;K=new IG$._maa(s);for(J in z.oparams){L._g1(z.oparams[J],false,K)}L._1_p(s,l)},function(){this.executeEvents=null;H._IIf(false)},l);b._l()}else{u=4}break;case"open_win":var h=z.item&&z.item.uid,I,e="<smsg>";I=z.iparams&&z.iparams.target_window?z.iparams.target_window:null;if(I&&I.map_param&&I.map_type){h=H._g1(z.iparams.target_window,true)}if(h){j=true;e+=H._a(z);e+="</smsg>";var b=new IG$._I3e();b.init(H,{ack:"11",payload:IG$._I2d({uid:h}),mbody:IG$._I2e({option:"translate"})},H,function(s){var L=IG$._I18(s,"/smsg/item"),K=L?IG$._I1c(L):null;if(K.type=="Dashboard"&&z.ispopup==true){var M=new IG$._I3e();M.init(H,{ack:"5",payload:IG$._I2d({uid:z.item.uid}),mbody:IG$._I2e({option:"diagnostics"})},H,function(O){var N=new IG$.cdxml(O),P=new IG$._IBf({bt:{content:IG$._I25(O)},uid:z.item.uid,closable:true,header:false,_ipcnt:e,border:0});N.parseContent.call(N,null);var Q=new IG$._IBF({uid:z.item.uid,dmain:P,title:N.item.name,width:N.width,height:N.height,callback:new IG$._I3d(H,function(R){H._1_p(null,null)})});P.on("close_win",function(){Q.close()});IG$._I_5(this,Q)},false);M._l()}else{var J=IG$._I7d;J&&J.m1$7.call(J,K.uid,K.type.toLowerCase(),K.name,K.nodepath,false,K.writable,null,{_ipcnt:e});H._1_p.call(H)}},false);b._l()}else{u=5}break;case"open_dlg":j=true;switch(z.btntype){case"yesno":IG$._I55(z.dlgtitle,z.dlgmsg,function(s){H._1_p.call(H)},null,null,6);break;case"yesnocancel":IG$._I55(z.dlgtitle,z.dlgmsg,function(s){H._1_p.call(H)},null,null,14);break;default:IG$._I54(z.dlgtitle,z.dlgmsg,function(){H._1_p.call(H)},null,2);break}break;case"close":this.fireEvent("close_win");break;case"update_params":break;case"upload_file":break;case"sql":if(z.dsource&&z.sqlsyntax){j=true;var b=new IG$._I3e(),x="<smsg>",w,q;x+=H._a(z);x+=z.getXML();x+="</smsg>";b.init(H,{ack:"73",payload:"<smsg><item"+IG$._I21({uid:H.uid,option:"run_sql"})+"/></smsg>",mbody:x},H,function(s){var L=this,J,K,N,M;if(z.rmode=="list"){N=IG$._I18(s,"/smsg/item");M=(N?IG$._I1b(N,"resultid"):null);if(M){var O=0;for(J in z.oparams){O++}if(O>0){$.each(z.oparams,function(Q,U){var P=new IG$._I3e(),S,T,R=true;if(U.map_type=="ctrl"){S=L._9.controls[U.map_param.toLowerCase()];T=L.P2[U.map_param.toLowerCase()];T=(T?T.P9:null);if(S&&T){P.init(L,{ack:"73",payload:"<smsg><item"+IG$._I21({uid:L.uid,option:"gridresult",resultid:M})+"/></smsg>",mbody:"<smsg>"+S.getXML()+"</smsg>"},L,function(W){var V=new IG$._IF2(W);T.loadData&&T.loadData.call(T,V);O--;if(O==0){L._1_p.call(L,W,S)}},function(V){L.executeEvents=null;L._IIf(false)});P._l();R=false}}if(R==true){O--;if(O==0){L._1_p.call(L,s,S)}}})}else{L._1_p(s,l)}}else{L._1_p(s,l)}}else{K=new IG$._maa(s);for(J in z.oparams){L._g1(z.oparams[J],false,K)}L._1_p(s,l)}},null,l);b._l()}else{u=5}break}if(j==false&&u<0){H.M8(H)}else{if(u>-1){switch(u){case 1:F="Item not found";break;case 2:F="Script not loaded";break;case 3:F="Error on script execution";break;case 4:F="Service not found";break;case 5:F="Service parameter not configured correctly";break}H.executeEvents=null;H._IIf.call(H,false);H.setLoading(false);if(F){IG$._I52(F)}}}},_1_p:function(a,c){var b=this;b.M8(b)},M8_:function(){var a=this;a.executeEvents=null;a._IIf.call(a,false);a.setLoading(false)},_m:function(){var b=this,a="<smsg><dashboard>";$.each(b.P3,function(d,e){var g=e.P9,h={},c;if(g){c=g.ctrl.P6||"";switch(g.type){case"olapreport":if(g.viewer){a+=g.viewer._IB4.call(g.viewer,h,"jasper",false,true,c)}break;case"dashboard":if(g.viewer){a+="<dashboard name='"+c+"'>"+g.viewer._m.call(g.viewer)+"</dashboard>"}break;case"label":a+="<text name='"+c+"'><![CDATA["+(g.get("text")||"")+"]]></text>";break}}});a+="</dashboard></smsg>";return a},Mm11:function(b,q,j,d){var m=this,g,l=$(".dashboard_cnt",m.body.dom),o=$(".dashboardview",m.body.dom),e,a,q,j,c=m._9;e=IG$.x_10._w(l);a=IG$.x_10._h(l);if(c){q=(c.autowidth==false&&c.width>0)?c.width:(c.minwidth>e)?c.minwidth:e;j=(c.autoheight==false&&c.height>0)?c.height:(c.minheight>a)?c.minheight:a}IG$.x_10._w(o,q);IG$.x_10._h(o,j);l.css({overflowX:c&&c.hscroll?"auto":"hidden",overflowY:c&&c.vscroll?"auto":"hidden"});m.Mmlla(null,m.P3r,0,0,q,j)},Mmlla:function(m,q,e,d,g,j){var x,C=this,a={t:0,b:0,l:0,r:0},s=0,A={},l=0,h,s,u,c;if(m!=null&&m.P4=="panel"){u=m.P7.padding||0;a={t:u,b:u,l:u,r:u}}g=g-a.l-a.r;j=j-a.t-a.b;if(m!=null&&m.P4=="panel"&&m.P7.layout=="border"){for(x=0;x<q.length;x++){h=q[x];A[h.P7.region]=h;h.P11(m,e,d,g,j)}l=0;$.each(["north","south","east","west","center"],function(G,K){var I=A[K],D,J,L,H,b,F,E;if(I){D=I.P10;switch(K){case"north":D.x=0;D.y=l;D.w=g;D.h-=l;break;case"south":D.x=0;D.y=j-l-D.h;D.w=g;D.h-=l;break;case"east":D.x=g-D.w;D.y=l;D.h=j-l;if(A.north){D.y=l+A.north.P10.h;D.h-=A.north.P10.h}if(A.south){D.h-=A.south.P10.h}break;case"west":D.x=0;D.y=l;D.h=j-l;if(A.north){D.y=l+A.north.P10.h;D.h-=A.north.P10.h}if(A.south){D.h-=A.south.P10.h}break;case"center":D.x=0;D.y=l;D.w=g;D.h=j-l;if(A.north){D.y=l+A.north.P10.h;D.h-=A.north.P10.h}if(A.south){D.h-=A.south.P10.h}if(A.west){D.x=A.west.P10.w;D.w-=A.west.P10.w}if(A.east){D.w-=A.east.P10.w}break}J=I.P9.html;L=J.css({position:"absolute",top:D.y+a.t,left:D.x+a.l,height:D.h-a.t-a.b,width:D.w-a.l-a.r});if(I.P9!=null){I.P9.invalidate.call(I.P9)}if(I.layouts&&I.layouts.length>0){F=I.P10.x;E=I.P10.y;H=I.P10.w;b=I.P10.h;if(I.P4=="panel"){b-=I.P9.titleheight}C.Mmlla.call(C,I,I.layouts,F,E,H,b)}}})}else{if(m!=null&&m.P4=="panel"&&(m.P7.layout=="hbox"||m.P7.layout=="vbox")){var z=m.P7.layout,w=0,o=0,y=0,B=0;th=0;for(x=0;x<q.length;x++){h=q[x];p=h.P5;h.P11(m,e,d,g,j);if(p.percentwidth!=null){o+=p.percentwidth}else{if(p.width!=null){B+=p.width}}if(p.percentheight!=null){y+=p.percentheight}else{if(p.height!=null){th+=p.height}}}for(x=0;x<q.length;x++){h=q[x];p=h.P5;c=h.P10;if(z=="hbox"){c.x=w;c.y=0;c.w=(p.width!=null)?p.width:(p.percentwidth!=null)?(g-B)*p.percentwidth/o:c.w;w+=c.w}else{if(z=="vbox"){c.x=0;c.y=w;c.h=(p.height!=null)?p.height:(p.percentheight!=null)?(j-th)*p.percentheight/y:c.h;w+=c.h}}if(m!=null&&m.P4=="panel"){c.y+=m.P9.titleheight}cstr=h.P9.html;$ctrl=cstr.css({position:"absolute",top:c.y+a.t,left:c.x+a.l,height:c.h-a.t-a.b,width:c.w-a.l-a.r});if(h.P9!=null){h.P9.invalidate.call(h.P9)}if(h.layouts&&h.layouts.length>0){plx=c.x;ply=c.y;plw=c.w;plh=c.h;if(h!=null&&h.P4=="panel"){plh-=h.P9.titleheight}C.Mmlla(h,h.layouts,plx,ply,plw,plh)}}}else{if(m!=null&&m.P4=="tabpanel"){m.P9.loadHeader.call(m.P9,q);s=m.P9.getTabHeight.call(m.P9);for(x=0;x<q.length;x++){var h=q[x];h.P10={x:0,y:0,w:g,h:j,_px:e,_py:d};c=h.P10;c.y+=s;c.h-=s;cstr=h.P9.html;$ctrl=cstr.css({position:"absolute",top:c.y+a.t,left:c.x+a.l,height:c.h-a.t-a.b,width:c.w-a.l-a.r});if(h.P9!=null){h.P9.invalidate.call(h.P9)}if(h.layouts&&h.layouts.length>0){plx=c.x;ply=c.y;plw=c.w;plh=c.h;C.Mmlla(h,h.layouts,plx,ply,plw,plh)}if(x==m.P9.activeIndex){h.P9.html.show()}else{h.P9.html.hide()}}}else{for(x=0;x<q.length;x++){h=q[x];h.P11(m,e,d,g,j);if(m!=null&&m.P4=="panel"){h.P10.y+=m.P9.titleheight}cstr=h.P9.html;c=h.P10;$ctrl=cstr.css({position:"absolute",top:c.y+a.t,left:c.x+a.l,height:c.h-a.t-a.b,width:c.w-a.l-a.r});if(h.P9!=null){h.P9.invalidate.call(h.P9)}if(h.layouts&&h.layouts.length>0){plx=c.x;ply=c.y;plw=c.w;plh=c.h;if(h!=null&&h.P4=="panel"){plh-=h.P9.titleheight}C.Mmlla(h,h.layouts,plx,ply,plw,plh)}}}}}},disposeContent:function(c){var b=$(".dashboardview",c.body.dom);if(c.P3){for(var a=c.P3.length-1;a>=0;a--){if(c.P3[a]){c.P3[a].disposeContent(c.P3[a]);delete c.P3[a]}}c.P3=null}if(b){$(b).empty()}},afterrender:function(b){var a=b;if(a.initialized==false&&a.uid&&a.uid.length>0){a.M1()}},resize:function(c,e,b,a,d){c.Mm11.call(c,e,b,null)}};if(window.Ext){IG$._IBf=$s.extend(IG$._I57,{iconCls:"icon-dashboard",layout:{type:"vbox",align:"stretch"},defaults:{flex:1},entryLogin:function(a){a.M1.call(a)},commitCode:function(){var a=this;return true},refreshCode:function(){var a=this;a._dE.refreshControl.call(a._dE);a.M3()},initComponent:function(){var a=this;a.hiddenPkgs=[];a.addEvents("close_win");$s.apply(this,{P1:{},P2:{},P3:[],P3r:[],initialized:false,refreshmode:"F",closable:true,autoScroll:true,collapseFirst:false,items:[{html:"<div class='dashboard_cnt'><div class='dashboardview'></div></div>"}]});IG$._IBf.superclass.initComponent.call(this)},applyOption:IG$.$d.applyOption,M1:IG$.$d.M1,rs_M1:IG$.$d.rs_M1,showDummyInfo:IG$.$d.showDummyInfo,iC:IG$.$d.iC,M2:IG$.$d.M2,M3:IG$.$d.M3,cL:IG$.$d.cL,M3a:IG$.$d.M3a,M4:IG$.$d.M4,M5:IG$.$d.M5,M6:IG$.$d.M6,M7a:IG$.$d.M7a,M7:IG$.$d.M7,_IIf:IG$.$d._IIf,_IP5:IG$.$d._IP5,M8:IG$.$d.M8,M9:IG$.$d.M9,_g1:IG$.$d._g1,_a:IG$.$d._a,M10:IG$.$d.M10,r_IB3:IG$._Ibb.r_IB3,_1_p:IG$.$d._1_p,M8_:IG$.$d.M8_,_m:IG$.$d._m,Mm11:IG$.$d.Mm11,Mmlla:IG$.$d.Mmlla,disposeContent:IG$.$d.disposeContent,listeners:{afterrender:IG$.$d.afterrender,resize:IG$.$d.resize}})}else{IG$._IBf=IG$.x_c(IG$.pb,{layout:"fit",entryLogin:function(a){a.M1.call(a)},commitCode:function(){var a=this;return true},refreshCode:function(){var a=this;a._dE.refreshControl.call(a._dE);a.M3()},_ic:function(){var a=this;a.hiddenPkgs=[];a._emode=1;IG$.apply(this,{P1:{},P2:{},P3:[],P3r:[],initialized:false,refreshmode:"F",closable:true,autoScroll:true,collapseFirst:false,items:[{xtype:"container",html:"<div class='dashboard_cnt'><div class='dashboardview'></div></div>"}]});IG$._IBf.superclass._ic.call(this)},applyOption:IG$.$d.applyOption,M1:IG$.$d.M1,rs_M1:IG$.$d.rs_M1,showDummyInfo:IG$.$d.showDummyInfo,iC:IG$.$d.iC,M2:IG$.$d.M2,M3:IG$.$d.M3,cL:IG$.$d.cL,M3a:IG$.$d.M3a,M4:IG$.$d.M4,M5:IG$.$d.M5,M6:IG$.$d.M6,M7a:IG$.$d.M7a,M7:IG$.$d.M7,_IIf:IG$.$d._IIf,_IP5:IG$.$d._IP5,M8:IG$.$d.M8,M9:IG$.$d.M9,_g1:IG$.$d._g1,_a:IG$.$d._a,M10:IG$.$d.M10,r_IB3:IG$._Ibb.r_IB3,_1_p:IG$.$d._1_p,M8_:IG$.$d.M8_,_m:IG$.$d._m,Mm11:IG$.$d.Mm11,Mmlla:IG$.$d.Mmlla,listeners:{afterrender:IG$.$d.afterrender,resize:IG$.$d.resize}})}if(window.Ext){IG$._IBF=$s.extend($s.window,{modal:true,layout:{type:"fit",align:"stretch"},closable:true,resizable:false,width:600,height:500,m1$9:function(){var a=this;a.callback&&a.callback.execute(["ok",a]);a.close()},initComponent:function(){var a=this;$s.apply(this,{items:[a.dmain]});IG$._IBF.superclass.initComponent.apply(this,arguments)}})}else{IG$._IBF=IG$.x_c(IG$.pbW,{modal:true,layout:"fit",closable:true,resizable:false,width:600,height:500,m1$9:function(){var a=this;a.callback&&a.callback.execute(["ok",a]);a.close()},_ic:function(){var a=this;IG$.apply(this,{items:[a.dmain]});IG$._IBF.superclass._ic.apply(this,arguments)}})}
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
* Licensed under the MIT License (LICENSE.txt).
*
* Version: 3.1.11
*
* Requires: jQuery 1.2.2+
*/
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],m=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],j=Array.prototype.slice,l,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var g=c.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener){for(var q=m.length;q;){this.addEventListener(m[--q],o,false)}}else{this.onmousewheel=o}c.data(this,"mousewheel-line-height",g.getLineHeight(this));c.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var q=m.length;q;){this.removeEventListener(m[--q],o,false)}}else{this.onmousewheel=null}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(q){var s=c(q)["offsetParent" in c.fn?"offsetParent":"parent"]();if(!s.length){s=c("body")}return parseInt(s.css("fontSize"),10)},getPageHeight:function(q){return c(q).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(q){return q?this.bind("mousewheel",q):this.trigger("mousewheel")},unmousewheel:function(q){return this.unbind("mousewheel",q)}});function o(q){var w=q||window.event,C=j.call(arguments,1),E=0,y=0,x=0,B=0,A=0,z=0;q=c.event.fix(w);q.type="mousewheel";if("detail" in w){x=w.detail*-1}if("wheelDelta" in w){x=w.wheelDelta}if("wheelDeltaY" in w){x=w.wheelDeltaY}if("wheelDeltaX" in w){y=w.wheelDeltaX*-1}if("axis" in w&&w.axis===w.HORIZONTAL_AXIS){y=x*-1;x=0}E=x===0?y:x;if("deltaY" in w){x=w.deltaY*-1;E=x}if("deltaX" in w){y=w.deltaX;if(x===0){E=y*-1}}if(x===0&&y===0){return}if(w.deltaMode===1){var D=c.data(this,"mousewheel-line-height");E*=D;x*=D;y*=D}else{if(w.deltaMode===2){var u=c.data(this,"mousewheel-page-height");E*=u;x*=u;y*=u}}B=Math.max(Math.abs(x),Math.abs(y));if(!b||B<b){b=B;if(a(w,B)){b/=40}}if(a(w,B)){E/=40;y/=40;x/=40}E=Math[E>=1?"floor":"ceil"](E/b);y=Math[y>=1?"floor":"ceil"](y/b);x=Math[x>=1?"floor":"ceil"](x/b);if(g.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();A=q.clientX-s.left;z=q.clientY-s.top}q.deltaX=y;q.deltaY=x;q.deltaFactor=b;q.offsetX=A;q.offsetY=z;q.deltaMode=0;C.unshift(q,E,y,x);if(l){clearTimeout(l)}l=setTimeout(h,200);return(c.event.dispatch||c.event.handle).apply(this,C)}function h(){b=null}function a(s,q){return g.settings.adjustOldDeltas&&s.type==="mousewheel"&&q%120===0}}));window.IG$=window.IG$||{};function RBar(a){this.D_(a)}RBar.prototype={D_:function(a){var b=this;b.owner=a;b.html=$("<div class='m-datagrid-rhandle'></div>").appendTo(a.ctx).bind("mousedown",function(c){b.ms={x:c.pageX,y:c.pageY};b.sp=b.html.offset();b.spo=b.owner.ctx.offset();b.owner.resizeCol=true;b.regG.call(b,c)});b.col=-1},regG:function(d){var c=this,e=$("body");function b(l){var j=c.html[0],g={x:l.pageX,y:l.pageY},h=c.ms,m=(c.sp.left-c.spo.left)+(g.x-h.x);j.style.left=""+(m-2)+"px"}function a(g){c.unRegG.call(c);c.ts={x:g.pageX,y:g.pageY};c.moveCol.call(c,c.ts.x-c.ms.x,c.ts.y-c.ms.y);c.ms=null;c.owner.resizeCol=false}c.mouseMove=b;c.mouseUp=a;e.bind("mousemove",b);e.bind("mouseup",a)},moveCol:function(d,c){var b=this,a=b.owner;if(b.col>-1){a.moveCol.call(a,b.col,d,c)}},unRegG:function(){var a=this,b=$("body");b.unbind("mousemove",a.mouseMove);b.unbind("mouseup",a.mouseUp)}};IG$._IE3={P_NONE:0,P_BOLD:1,P_ITALIC:2,P_UNDERLINE:4};IG$.cMa=function(a){var b=this,c;b._browser=b.browser();c=IG$._ccache=IG$._ccache||{};c.colorcode=c.colorcode||{};c.tmeasure=c.tmeasure||{};b.D_(a)};IG$.cMa.prototype={merge:function(c,a){var b;for(b in a){c[b]=a[b]}},D_:function(a){var b=this;b.mv=false;b._1=0;b._2=0;b._3=0;b._4=0;b._5=-1;b._6=-1;b._7=0;b._8=0;b._9=0;b._a=0;b._b=0;b._c=0;b._d=0;b._e=0;b.timer=0;b.interval=10;b.delay=250;b.styles={};b.cellcharts=[];b._n=[];b.U_=[];b.V_=[];b.font="sans";b.size=13;b.regv=false;b.regh=false;b._v=13;b.selcolor="#f8a084";b.mmax=0;b.width=0;b.height=0;b.selectedItems=[];b.selectedRows=[];b._w=false;b._x=false;b._y=false;b._f=false;b._g=-1;b._h=-1;b._i=-1;b._nh=0;b.buttondown=false;b._j=-1;b._k=-1;b._l=0;b._m=0;b._o=-1;b._p=-1;b.mouseAction=0;b.mouseMode="select";b.columnfill=false;b.treeIndent=20;b.dtm=-1;b._z=false;b._q=true;b.selectionmode="cell";b._L=-1;b._Z=true;b._r=true;b._s=false;b._t=1;b._u=1;if(a){b.merge(b,a)}},onRender:function(){var a=this},_d1:function(){var e=this,d={menu:e.context},c=e._dfc.__af,b=e.context.cell,a=0;if(e._dfc.f_opt.val()=="between"){if(e._dfc.sval1.val()){e._dfc.sval2.focus()}else{a=1}}else{if(e._dfc.sval1.val()){a=1}}if(a){c[b.c]={op:e._dfc.f_opt.val(),val1:e._dfc.sval1.val(),val2:e._dfc.sval2.val()}}else{delete c[b.c]}d.cmd="cmd_run_filter".toUpperCase();d.menu.mdf=c[b.c];e.l_.call(e,"menu",d);e._df.hide()},initialize:function(a){var l=this,b,s,c,g,o,h;clearTimeout(l.timer);l.rhdls=[];l.owner=a;if(l.ctx==null){l.ctx=$('<div class="m-datagrid-container"></div>').appendTo(a);l.H_=$('<div class="m-datagrid-data"></div>').appendTo(l.ctx);l.H_[0].uid="H_/*regdata_og*/";l.I_=$('<div class="m-datagrid-data-bg"></div>').appendTo(l.H_);l.I_[0].uid="I_/*regdata*/";l._G=$('<div class="m-datagrid-scroll m-datagrid-hscroll"></div>').css({height:l._v}).hide().appendTo(l.ctx);b=$('<div class="m-datagrid-track m-datagrid-track-h"></div>').appendTo(l._G);l._Gt=$('<div class="m-datagrid-scrollthumb m-datagrid-scrollthumb-h"></div>').css({height:(l._v),width:20}).appendTo(b);c=$('<div class="m-datagrid-end m-datagrid-end-h">').css({height:(l._v),width:5}).appendTo(l._Gt);l._F=$('<div class="m-datagrid-scroll m-datagrid-vscroll"></div>').hide().appendTo(l.ctx);s=$('<div class="m-datagrid-track m-datagrid-track-v"></div>').css({width:l._v}).appendTo(l._F);l._Ft=$('<div class="m-datagrid-scrollthumb m-datagrid-scrollthumb-v"></div>').css({width:(l._v),height:20}).appendTo(s);g=$('<div class="m-datagrid-end m-datagrid-end-v">').css({width:(l._v),height:5}).appendTo(l._Ft);l.measurediv=$('<div class="m-datagrid-cell-measure"></div>').appendTo($("body"));l.editor=$("<div class='m-datagrid-editor'></div>").appendTo(l.ctx).hide();l.contextmenu=$("<ul class='contextMenu'></ul>").appendTo(l.ctx);l.context={menu:l.contextmenu};if($(a).contextMenu&&l.enablecontextmenu!=false){$(a).contextMenu(l.context,new IG$._I3d(l,l._X))}}if(!l._M){l._M=$("<div class='m-datagrid-loading-mask'><div class='m-datagrid-loading'><div class='m-datagrid-loading-indicator'></div></div></div>").appendTo(l.ctx).hide()}l._s=l.is_s(l.owner);var q,e;if(l._s==false){var j=$(l.owner).clone();j.css({visibility:"hidden",width:"",height:"",maxWidth:"",maxHeight:""});$("body").append(j);q=j.outerWidth();e=j.outerHeight();j.remove()}else{q=IG$.x_10._w(l.ctx);e=IG$.x_10._h(l.ctx)}if(q>0&&e>0){l._d=q;l._e=e}l._1=0;l._2=0;l.rows=[];l.cols=[];l.W_=0;l.X_=0;if(!l.U_){l.U_=[]}l.pad=new IG$.cMa.padding(2);l.cellcharts=[];l._n=[];l.ctx.bind({touchstart:function(m){var u=l;u._A.call(u,l,m);return false},touchend:function(m){var u=l;u._B.call(u,l,m);return false},touchmove:function(m){var u=l;u._C.call(u,l,m);return false},mousedown:function(m){var u=l;return u.e_.call(u,l,m)},dblclick:function(m){var u=l;return u._D.call(u,l,m)},mousewheel:function(m,w){m.stopPropagation();m.preventDefault();var u=l;return u._E.call(u,l,m,w)},selectstart:function(){return false}});l._F.bind({click:function(m){var u=l;if(u.mv==false){u._J.call(u,l,m,"v")}return false}});l._G.bind({click:function(m){var u=l;if(u.mv==false){u._J.call(u,l,m,"h")}return false}});l._Ft[0].eventtarget="vertical";l._Ft.bind({mousedown:function(m){var u=l;u.mv=true;m.stopPropagation();u._H.call(u,this,m,"v");return false},mouseup:function(m){var u=l;u._I.call(u,this,m,"v");return}});l._Gt[0].eventtarget="horizontal";l._Gt.bind({mousedown:function(m){var u=l;u.mv=true;u._H.call(u,this,m,"h")},mouseup:function(m){var u=l;u._I.call(u,this,m,"h")}});l._df="<div class='igc-dfilter-m'><div class='igc-dfilter-bg'></div><div class='igc-dfilter'><div class='flt-line flt-sep' id='cmd_filter'>"+IRm$.r1("B_SET_FILTER")+"</div><div class='flt-line' id='cmd_asc'>"+IRm$.r1("B_ORDER_ASC")+"</div><div class='flt-line' id='cmd_desc'>"+IRm$.r1("B_ORDER_DSC")+"</div><div class='flt-line flt-sep' id='cmd_sort'>"+IRm$.r1("L_SORT_OPTION")+"</div>";if(window.ig$&&window.ig$.features&&window.ig$.features.gfilter){l._df+="<div class='flt-line' id='b_filter'><span>"+IRm$.r1("L_FILTER_OPTION")+"</span><div class='flt-expand'></div></div><div class='flt-block' id='d_filter'><div class='flt-line-g'><span id='cl_flt'>Clear Filter</span><span id='r_flt'>Apply</span></div><div class='flt-line' id='c_filter'></div></div>"}l._df+="<div class='flt-line' id='b_fm'><span>"+IRm$.r1("L_FORMULA")+"</span><div class='flt-expand'></div></div><div class='flt-block' id='d_fm'><div class='flt-line-g'><span id='cl_fm'>Clear Formula</span><span id='r_fmt'>More</span></div><div id='c_fm'><ul><li class='flt-line' id='t_sum'>"+IRm$.r1("F_STOT")+"</li><li class='flt-line' id='t_avg'>"+IRm$.r1("F_AVG")+"</li><li class='flt-line' id='t_min'>"+IRm$.r1("F_MIN")+"</li><li class='flt-line' id='t_max'>"+IRm$.r1("F_MAX")+"</li><li class='flt-line' id='t_rank'>"+IRm$.r1("F_RNK")+"</li><li class='flt-line' id='t_pot'>"+IRm$.r1("F_P_TOT")+"</li><li class='flt-line' id='t_cumul'>"+IRm$.r1("F_P_CUM")+"</li><li class='flt-line' id='t_incr'>"+IRm$.r1("F_INC")+"</li><li class='flt-line' id='t_diff'>"+IRm$.r1("F_DIFF")+"</li></ul></div></div>";l._df+="<div class='flt-line' id='b_rank'><span>"+IRm$.r1("L_RANK_OPTION")+"</span><div class='flt-expand'></div></div><div class='flt-block' id='d_rank'><div class='flt-line' id='cmd_showall'>"+IRm$.r1("B_SHOW_ALL")+"</div><div class='flt-line' id='cmd_top5'>"+(IRm$.r1("B_TOP")+" 5")+"</div><div class='flt-line' id='cmd_top10'>"+(IRm$.r1("B_TOP")+" 10")+"</div><div class='flt-line' id='cmd_btm5'>"+(IRm$.r1("B_BOTTOM")+" 5")+"</div><div class='flt-line' id='cmd_btm10'>"+(IRm$.r1("B_BOTTOM")+" 10")+"</div></div><div class='flt-line flt-sep-top' id='cmd_remove'>"+IRm$.r1("B_REMOVE_PIVOT")+"</div></div></div>";l._df=$(l._df).appendTo(l.ctx).hide();h=$(".igc-dfilter",l._df);l._dfc={dmain:h,t_sum:$("#t_sum",h),t_avg:$("#t_avg",h),t_min:$("#t_min",h),t_max:$("#t_max",h),t_rank:$("#t_rank",h),t_pot:$("#t_pot",h),t_cumul:$("#t_cumul",h),t_incr:$("#t_incr",h),t_diff:$("#t_diff",h),b_rank:$("#b_rank",h),d_rank:$("#d_rank",h),b_filter:$("#b_filter",h),d_filter:$("#d_filter",h),c_filter:$("#c_filter",h),cmd_filter:$("#cmd_filter",h),cmd_asc:$("#cmd_asc",h),cmd_desc:$("#cmd_desc",h),cmd_sort:$("#cmd_sort",h),cmd_top5:$("#cmd_top5",h),cmd_top10:$("#cmd_top10",h),cmd_btm5:$("#cmd_btm5",h),cmd_btm10:$("#cmd_btm10",h),cmd_showall:$("#cmd_showall",h),cmd_remove:$("#cmd_remove",h),r_flt:$("#r_flt",h),cl_flt:$("#cl_flt",h),cl_fm:$("#cl_fm",h),b_fm:$("#b_fm",h),d_fm:$("#d_fm",h),r_fmt:$("#r_fmt",h)};var d=$("<div><div class='igc-c-filter-op'><select id='f_opt'><option value='_like_'>"+IRm$.r1("L_F_LIKE")+"</option><option value='between'>"+IRm$.r1("L_F_BETWEEN")+"</option><option value='gt'>"+IRm$.r1("L_F_GT")+"</option><option value='lt'>"+IRm$.r1("L_F_LT")+"</option></select></div><div class='igc-c-filter-inp'><input type='text' name='sval1'></input><input type='text' name='sval2' style='display: none;'></input></div></div>").appendTo(l._dfc.c_filter);if(!window.Ext){l._dfc.cmd_filter.hide()}l._dfc.f_opt=$("#f_opt",h);l._dfc.sval1=$("[name=sval1]",h);l._dfc.sval2=$("[name=sval2]",h);l._dfc.d_fm.hide();l._dfc.f_opt=$("#f_opt",h).bind("change",function(u){var m=$(this).val();l._dfc.sval2[m=="between"?"show":"hide"]()});l._dfc.sval1.bind("keyup",function(u){var m=u.which;if(m==13){l._d1.call(l)}});l._dfc.sval2.bind("keyup",function(u){var m=u.which;if(m==13){l._d1.call(l)}});$.each(["cmd_asc","cmd_desc","cmd_sort","cmd_top5","cmd_top10","cmd_btm5","cmd_btm10","cmd_showall","cmd_remove","cmd_filter","r_flt","cl_flt","cl_fm","r_fmt","t_sum","t_avg","t_min","t_max","t_rank","t_pot","t_cumul","t_incr","t_diff"],function(w,u){l._dfc[u]&&l._dfc[u].length&&l._dfc[u].bind("click",function(){var z={cmd:u.toUpperCase(),menu:l.context},y=l._dfc.__af,x=l.context.cell,m=1;if(u=="r_flt"){if(l._dfc.f_opt.val()=="between"){if(!l._dfc.sval1.val()||!l._dfc.sval2.val()){m=0}}else{if(!l._dfc.sval1.val()){m=0}}if(m){y[x.c]={op:l._dfc.f_opt.val(),val1:l._dfc.sval1.val(),val2:l._dfc.sval2.val()}}else{return}z.cmd="cmd_run_filter".toUpperCase()}else{if(u=="cl_flt"){delete y[x.c];z.cmd="cmd_run_filter".toUpperCase()}}z.menu.mdf=y[x.c];l.l_.call(l,"menu",z);l._df.hide()})});l._dfc.b_filter.bind("click",function(){l._dfc.d_filter.toggle()});l._dfc.b_rank.bind("click",function(){l._dfc.d_rank.toggle()});l._dfc.b_fm.bind("click",function(){l._dfc.d_fm.toggle()});l._dfc.dmain.bind({click:function(m){m.stopPropagation()},mousedown:function(m){m.stopPropagation()},mouseup:function(m){m.stopPropagation()}});l._df.bind({click:function(m){m.stopPropagation();$(this).hide()},mousedown:function(m){m.stopPropagation();$(this).hide()},mouseup:function(m){m.stopPropagation();$(this).hide()}})},moveCol:function(e,b,a){var d=this,c=d.cols[e];c.width=Math.max(c.width+b,50);d.redraw()},setLoading:function(b){var a=this;if(a._L>-1){clearTimeout(a._L);a._L=-1}if(b==true){a._M.show()}else{a._L=setTimeout(function(){a._M.fadeOut()},500)}},_N:function(a){},initializeDragDrop:function(a){},_O:function(e){var a=this;var d=function(g){a._P.call(a,g,e);return false};var c=function(g){g.stopPropagation();a.mv=true;a._Q.call(a,g,e);return false};var b=function(g){g.stopPropagation();a.mv=true;a._R.call(a,g,e);$(document).unbind({mousedown:d,mousemove:c,mouseup:b});return false};this.ge={mousedown:d,mousemove:c,mouseup:b};$(document).bind({mousedown:d,mousemove:c,mouseup:b})},_P:function(a,b){},_Q:function(b,c){var a=this;b.preventDefault();b.stopImmediatePropagation();if(a){a._S.call(a,{x:b.pageX,y:b.pageY},c)}},_R:function(b,c){var a=this;a._x=false;a._y=false;a.ge=null;setTimeout(function(){a.mv=false},50)},_S:function(x,j){var a=this,h=this,s=h._F,q=h._G,c=h._Ft,u=h._Gt,o=x.x-a._g,m=x.y-a._h,g=a._1,e=a._2,l=(a._c-a._e)/(a._e-a._7),b=(a._b-a._d)/(a._d-a._8),d,w;if(h.__scr){return}if(j=="v"){w=IG$.x_10._h(s);e=Math.min(w-h.thumbvheight,Math.max(0,a.sy+m))}else{d=IG$.x_10._w(q);g=Math.min(d-h.thumbhwidth,Math.max(0,a.sx+o))}if(a._1!=g||a._2!=e){a._1=g;a._2=e;a.t_.call(a);if(a._i>-1){clearTimeout(a._i)}a._i=setTimeout(function(){a.on_i.call(a)},30)}},cR:function(){var c,b,a,e=this,d,g;if(this._5>-1){if(this._5>-1){e._c=0;for(c=0;c<e.treeData.length;c++){a=e.treeData[c][e._5];b=a.parent;d=e.rows[c];g=true;while(b){if(b.treeinfo&&b.treeinfo.opened!==true){g=false;break}b=b.parent}if(g==true){e._c+=d.height+e._u}}}if(this._6>-1){}e.H_.css({height:e._e})}},_T:function(o,s,m,q,e,g){var l=this,j=$("<div></div>").appendTo(g).css({position:"absolute",margin:0,padding:0,left:0,top:0,width:q,height:e}).show();var a={defaultPixelsPerValue:parseInt(q/o.chartData.elementdata.length)},b=o.chartData,d=b.seriesdata;if(d&&d.length>0&&d[0].data.length>0){a.type="line";IG$.D_1(b,a);a.defaultPixelsPerValue=parseInt(q/(d[0].data.length));if(a.defaultPixelsPerValue-d[0].data.length>2){a.barWidth=a.defaultPixelsPerValue-d[0].data.length}a.width=parseInt(q);a.height=parseInt(e);a.tooltipFormat="{{offset:offset}} {{y:val}}";a.tooltipValueLookups={offset:d[0].element};a.xvalues=b.element}j.sparkline((d&&d.length>0)?d[0].data:[],a);l.cellcharts.push(j);return j},_U:function(){var b,c=this,d=c.cellcharts,a;for(b=d.length-1;b>=0;b--){a=d.pop();a.hide();c._n.push(a)}},_V:function(a){var c=0,b={};if(a.title==1){if(a.position==1||a.position==2){if(window.Ext){b.cmd_filter=1}b.cmd_asc=1;b.cmd_desc=1;b.cmd_sort=1;b.b_filter=1;c=1}if(a.position==3){b.b_rank=1;b.b_filter=2;c=1}b.cmd_remove=1}return{active:c,items:b}},_W:function(d){var b=this,a,c=b.contextmenu;c.html("");for(a=0;a<d.length;a++){c.append($("<li"+(d[a]["class"]?" class='"+d[a]["class"]+"'":"")+"><a href='#"+d[a].name+"'>"+d[a].disp+"</a></li>"))}},_X:function(a){var b=this;b.l_("menu",a)},setDataProvider:function(A,d,u){var E,D,o,q,a=null,m,h,c,y,I=this,w,H,x,C,F,B,G,e,l,g,z;I._Y=A;if(I.__tpstart==0){I._1=0;I._2=0}else{C=false}I._Z=true;I._N();I.oY=I._Y;if(this._5>-1||this._6>-1){I.stT();I._9=I.treeData.length}else{I._9=I.oY.length}if(I._9>0){I._a=I.oY[0].length}if(I._9<I.rows.length){I.rows.splice(I._9,I.rows.length-I._9);for(E=0;E<I.rows.length;E++){I.rows[E].init()}}else{for(E=0;E<I.rows.length;E++){I.rows[E].init()}for(E=I.rows.length;E<I._9;E++){I.rows.push(new IG$.cMa.DimInfo(E))}}if(I._a<I.cols.length){I.cols.splice(I._a,I.cols.length-I._a);for(E=0;E<I.cols.length;E++){I.cols[E].init()}}else{if(I.cols.length==I._a&&C===false){}else{for(E=0;E<I.cols.length;E++){I.cols[E].init()}for(E=I.cols.length;E<I._a;E++){I.cols.push(new IG$.cMa.DimInfo(E))}}}I.hidden_columns=u;I._nh=0;if(u&&u.length){for(E=0;E<u.length;E++){if(I.cols[u[E]]){if(u[E]<I._4){I._nh++}I.cols[u[E]].visible=false}}}I._7=0;I._c=0;m=I.pad.paddingLeft+I.pad.paddingRight;h=I.pad.paddingTop+I.pad.paddingBottom;c={};var b;for(E=0;E<I._9;E++){if(I._5>-1||I._6>-1){b=I.treeData[E]}else{b=I.oY[E]}b&&b.length&&I.J_(I.rows[E],b,c)}c=null;if(d!==false){I.t_.call(I);I.redraw(C)}I.__scr=0},J_:function(a,b,m){var o=this,d,u,q,h,w,e,g,l,c;for(d=0;d<o._a;d++){u=b[d];if(!u){continue}u.menus=o._V(u);text=u.text;if(u.chart&&u.chart.chartData){w={width:u.chart.chartData.w||40,height:u.chart.chartData.h||30};q=w.width;h=w.height}else{e=(u.stylename?o.styles[u.stylename]:null);if(u.position!=9&&m[text]){w=m[text]}else{w=o.u_(o.font,o.size,text,e);w.width=Math.max(w.width,u.position==9?20:80);m[text]={width:w.width,height:w.height}}q=w.width;h=w.height;if(!w.fw){c=u.treeinfo;if(o._5>-1&&d==o._5){q+=16+(c&&c.depth&&!c.nd?c.depth*o.treeIndent:0)}else{if(o._6>-1&&u.haschild===true){q+=16}else{if(c){c.depth=c.depth||0;q+=16+(c.nd?0:c.depth*o.treeIndent)}}}}}if(!w.fw&&u.menus&&u.menus.active){q+=16}if(e){g=e.padleft+e.padright;l=e.padtop+e.padbottom}else{g=o.pad.paddingLeft+o.pad.paddingRight;l=o.pad.paddingTop+o.pad.paddingBottom}u.tex_b=q;u.tex_c=h;o.cols[d].width=w.fw?w.fw_:(o.cols[d].fw?o.cols[d].width:Math.max(o.cols[d].width,q+g));o.cols[d].fw=(w.fw)?1:o.cols[d].fw;a.height=Math.max(a.height,h+l)}},K_:function(){var a=this,c=a._1,b=a._2;a.setDataProvider(a._Y,false,a.hidden_columns);a._1=c;a._2=b;a.redraw(false)},redraw:function(c){var d=this,b,e,g,a;if(d.__tpstart>0||d.__trow>d._9){for(b=0;b<d._3;b++){d._7+=d.rows[b].height;d._c+=d.rows[b].height+d._u}d._tsh=(d.rows.length>d._3)?d.rows[d._3].height+d._u:21;e=(d._tsh)*(d.__trow-d._3);d._c+=e}else{for(b=0;b<d._9;b++){if(b<d._3){d._7+=d.rows[b].height}if(d.rows[b].vcr!=false){d._c+=d.rows[b].height+d._u;if(d.template&&d.oY[b][0].expanded==true&&d.oY[b][0].template){a=IG$.x_10._h(d.oY[b][0].template);d._c+=a}}}}if(c!==false){d._F.hide();d._G.hide();d.regv=false;d.regh=false}d.N_();d.cR();d.L_(c===false?true:undefined);d.draw()},plog:function(c,d){var a=d?new Date().getTime():this.m_t,b=new Date().getTime();this.m_t=d?a:this.m_t;console.log(c+">> "+(b-a))},L_:function(g){var d,j=0,a=0,h=this,b,e=0,l=0;h.sh=1,h.sv=1;if(h._browser<8&&h._d>0&&h._e>0){h.ctx.width(h._d).height(h._e)}for(b=0;b<h.cols.length;b++){if(h.cols[b].visible!==false){l++}}if(h._b<h._d&&h.columnfill==true&&l>0){if(h.showlnum){if(l>1){e=(h._d-h._b-(g==true?h._v:0))/(l-1)}}else{e=(h._d-h._b-(g==true?h._v:0))/l}for(b=0;b<h._a;b++){if(h.showlnum&&b==0){}else{h.cols[b]._d=e}}}else{for(b=0;b<h._a;b++){h.cols[b]._d=0}}for(b=0;b<Math.min(h._4,h._a);b++){if(h.cols[b].visible!==false){j+=h.cols[b].width+h.cols[b]._d+2}}for(b=0;b<h._3;b++){a+=h.rows[b].height+1}h._7=a;h._8=j;if(j>h._d){h._8=j=0;h._4=0}h.M_()},M_:function(){var a=this;a.H_.css({left:0,top:0,width:a._d,height:a._e})},resize:function(a,b){var c=this;if(a>0&&b>0){c._d=a;c._e=b;c._F.hide();c.regv=false;c.L_(false);c.draw()}},draw:function(){var b=this,a;if(b.dtm>-1){clearTimeout(b.dtm)}b.P_();a=b.Qc();b.__scr=(a.r==2?1:0);b.dtm=setTimeout(function(){b.dtm=-1;b.Q_.call(b,a)},5)},cS:function(l,c){var j=this,e=j._5,h=j._6,g,a=1,d,b=false;d=j.treeData.length;for(g=0;g<l.length;g++){l[g].dr=d}j.treeData.push(l);if(l[e].children&&l[e].children.length>0){for(g=0;g<l[e].children.length;g++){a+=j.cS(l[e].children[g],c)}}return a},stT:function(){var d=this,a,c,b;if(this._5>-1||this._6>-1){a=0;d.treeData=[];if(d.oY){for(c=0;c<d.oY.length;c++){a+=d.cS(d.oY[c],c)}}}},N_:function(){var b=this,a;b._b=0;b._8=0;for(a=0;a<b._a;a++){if(b.cols[a].visible!==false){if(a<b._4){b._8+=b.cols[a].width+b.cols[a]._d+2}b._b+=b.cols[a].width+b._t+2}}},O_:function(){var g=this,e,d,h=g._4,l=g._3,o,c,a;o=g.treeData[g._3-1];for(e=1;e<l;e++){g.rows[e].visible=false}for(d=h;d<g._a;d++){c=false;a=o[d].parent;while(a){if(a.treeinfo.opened!==true){c=true;break}a=a.parent}if(o[d].haschild===true&&o[d].depth>-1&&o[d].treeinfo.opened===true&&o[d].depth<g._3&&c==false){g.rows[o[d].depth+1].visible=true}g.cols[d].visible=!c}var b=0,m=0;g.sh=1;g.sv=1;g.N_();for(e=0;e<g._3;e++){if(g.rows[e].visible!==false){m+=g.rows[e].height}}if(m!=g._7){g._c=g._c-g._7+m;g._7=m}b=g._8;if(b>g._d){g._8=b=0;g._4=0}g.M_();g.P_();_2=g._2/g.sv;_1=g._1/g.sh},P_:function(){var g=this,e,c=0,b=0,a=0,d;for(e=0;e<g._a;e++){if(g.cols[e].visible!==false){if(e<g._4){b+=g.cols[e].width+g.cols[e]._d+2}c+=g.cols[e].width+g.cols[e]._d+2;a+=g.cols[e]._d}}d=(g._meas_rect)?g._meas_rect.call(g,a,g._c):false;if(d){return}g.sh=a>0?1:(g._d-b)/(c-b);g.sv=(g._e-g._7)/(g._c-g._7);if(g.sh<1){g.sv=(g._e-g._7-g._v)/(g._c-g._7)}if(g.sv<1){g.sh=(g._d-b-(a-g._v>0?0:g._v))/(c-b)}},Qc:function(){var c=this,b=0,a,e,d=c._2/c.sv;if(c.__tpstart>0||c.__trow>c._9){if(c.__tpstart>0&&c.__scr&&c.__scr_a){d=c.__scr_a._2}e=Math.ceil(d/c._tsh);a=e+Math.ceil((c._e-c._7)/c._tsh);if((c.__tpstart>0&&c.__tpstart>e)||(c.__trow>c.__tpend&&c.__tpend<a)){if(c.__tpstart<c.__tpend||(c.__scr_a&&c.__scr_a.nrow!=e)){b=2}else{b=1}}}return{r:b,nrow:e}},Q_:function(c){var an,al,h,d,L,I,o,m,E=0,B=0,e,ac,u=-1,g=-1,w=0,q=0,ah,U,H,aa,ab,ae,X,C,ao,z,V,A=this,J,M,T,Z,aj,af,Y,D,b,F,O,am,a,R,P,N,K=c.nrow,y=0;A.R_();J=A._2/A.sv;M=A._1/A.sh;A.W_=A.X_=0;A.measurediv.show();A._U();A.c_();if(c.r==2){A.__scr_a={nrow:K,_2:J};A.l_("scroll_request",K);return}if(A.__tpstart>0){J-=A._tsh*A.__tpstart}h=0;d=0;I=0;o=0;m=0;aa=0;if(A._6>-1){A.O_()}A.mmax=0;for(an=0;an<A.V_.length;an++){A.V_[an].hide()}C=A._9;if(A._5>-1){C=A.treeData.length}z=A.pad.paddingTop+A.pad.paddingBottom;for(an=0;an<C;an++){h=0;L=0;o=0;E=0;if(A._5>-1){X=A.treeData[an]}else{X=A.oY[an]}if(an<A._3){e=true;if(A.rows[an].visible===false){e=false}else{ac=A.rows[an].height}}else{e=true;if(A._5>-1){A.rows[an]._5a=false;V=X[A._5];T=V.parent;while(T){if(T.treeinfo&&T.treeinfo.opened!==true){e=false;break}T=T.parent}A.rows[an]._5a=!e}if(X&&X.length&&X[0].mcelltree&&X[0].mcelltree.length>0){for(aj=0;aj<X[0].mcelltree.length;aj++){af=X[0].mcelltree[aj];if(X[af].celltree&&X[af].celltree.parent){Y=X[af].celltree.parent;while(Y&&e==true){if(Y.celltree.opened==false){e=false}Y=Y.celltree.parent}}if(e==false){break}}}if(e==true&&J>0&&I+A.rows[an].height+A._u<J){e=false;I+=A.rows[an].height+A._u;ac=0;aa++}else{if(e==true&&J>0&&I<J){m=(A.rows[an].height-(J-I));I+=A.rows[an].height;ac=m;if(ac>0){e=true}else{e=false;aa++}}else{if(e==true){e=true;ac=A.rows[an].height}}}}if(e==true){if(u<0||u<A._3){u=A._3}g=-1;w=0;y=0;d+=A._u;for(al=0;al<A._a;al++){if(!X[al]){continue}if(A.cols[al].visible===false){y++;continue}var ad=X[y].merged;if(M>0&&L<M&&(g<0||g<(A._4-A._nh))){g=y}if(an>A._3&&(an-aa)==u&&(ad&8)){ad|=1}else{if((y==0||(y-A._4+A._nh>0&&(y-A._4+A._nh)==g))&&(ad&4)){ad|=2}}ah=A.rows[an].height;U=A.cols[y].width+A.cols[y]._d+A._t;B=m;H=false;F=X[y].fvisible;O=X[y].flborder;if(ad&1){for(k=an+1;k<C;k++){ao=A[(A._5>-1||A._6>-1)?"treeData":"_Y"][k];if(!(ao[y].merged&8)){break}else{if(A.rows[k].vcr==true){if(ao.length>y+1){ao[y+1].flborder=(ad&2)?true:false}ah+=A.rows[k].height+A._u;if(B>0){B+=A.rows[k].height+A._u}}}if(ah+d>A._e){break}}if(ad&2){for(k=y+1;k<A._a;k++){if(!(X[k].merged&4)){break}else{X[k].text="";X[k].fvisible=true}}}}else{if(ad&2){for(k=y+1;k<A._a;k++){if(!(X[k].merged&4)){break}else{if(A.cols[k].visible!==false){U+=A.cols[k].width+A.cols[k]._d+A._t+1}}}if(U>A._d-h){U=A._d-h;H=true}else{H=false}}}if(y<A._4){if(ad==0||(ad&1)||(ad&2)){A.b_(h,d,an,y,E,B,ah,U,w,q,X,true,ad,O);w++}else{A.b_(h,d,an,y,E,B,ah,U,w,q,X,false,ad,O);w++}h+=A.cols[y].width+A.cols[y]._d+A._t+1}else{if(M>0&&L+A.cols[y].width+A.cols[y]._d<M){L+=A.cols[y].width+A.cols[y]._d;g=-1}else{if(M>0&&L<M){o=(A.cols[y].width+A.cols[y]._d-(M-L));if(H==false){E=(U-(M-L))}else{if(ad&2){E=0}}if(ad==0||(ad&1)||(ad&2)||F==true){A.b_(h,d,an,y,E,B,ah,U,w,q,X,true,ad,O);w++}else{A.b_(h,d,an,y,E,B,ah,U,w,q,X,false,ad,O);w++}L+=A.cols[y].width+A.cols[y]._d+A._t+1;h+=o;o=0;E=0}else{if(ad==0||(ad&1)||(ad&2)||F==true){A.b_(h,d,an,y,0,B,ah,U,w,q,X,true,ad,O);w++}else{A.b_(h,d,an,y,0,B,ah,U,w,q,X,false,ad,O);w++}h+=A.cols[y].width+A.cols[y]._d+A._t+1}}}y++;if(h>A._d){break}}m=0;d+=ac;if(A.template&&X[0].expanded==true&&X[0].template){X[0].template.css({top:d});X[0].template.show();d+=IG$.x_10._h(X[0].template)}if(A.U_.length>q&&A.U_[q]){for(al=w;al<A.U_[q].length;al++){if(A.U_[q][al].v!==false){A.U_[q][al].hide();A.U_[q][al].v=false}}}q++;if(d>A._e){break}}}for(an=q;an<A.U_.length;an++){for(al=0;al<A.U_[an].length;al++){if(A.U_[an][al].v!==false){A.U_[an][al].hide();A.U_[an][al].v=false}}}if(A.sh<1){ab={left:A._8};ab.width=A._d-A._8-(A.sv<1?A._v:0);A.thumbhwidth=ab.width*A.sh;D=Math.max(30,ab.width*A.sh);A._G.css(ab);A._G.show();am=IG$.x_10._w(A._G);A._Gt.css({left:Math.min(A._1,am-D),width:D});A.regh=true}else{A.regh=false;A._G.hide()}if(A.sv<1){ab={top:A._7};ab.height=A._e-A._7-(A.sh<1?A._v:0);A.thumbvheight=ab.height*A.sv;D=Math.max(30,ab.height*A.sv);a=ab.height;A._Ft.css({top:Math.min(A._2,a-D),height:D});A._F.css(ab);if(!A.regv&&A._b<A._d&&A.columnfill==true&&A.cols.length>0){A._F.show();A.regv=true;A.L_(true);A.draw();return}else{A._F.show();A.regv=true}}else{if(A.regv&&A._b<A._d&&A.columnfill==true&&A.cols.length>0){A.regv=false;A._F.hide();A.L_(false);A.draw();return}else{A.regv=false;A._F.hide()}}A.measurediv.hide();A.I_.width(A.W_+A._t).height(A.X_+A._u);var ap,G=A.rhdls;if(A._r==true&&A._3>0&&A.U_.length>A._3-1){var W,ag,l,ak=A._3-1,x=A._7,ai=A.cols.length,S=0,Q=0;for(an=0;an<ai;an++){if(!A.U_[ak][an]){continue}ag=A.U_[ak][an].p;if(G.length>an){ap=G[an];W=ap.html[0]}else{ap=new RBar(A);G.push(ap);W=ap.html[0]}ap.col=an;S=ag[2];Q=0;if(A._3>1){Q=0;for(al=0;al<A._3-1;al++){if(A.U_[al][an].v===false||A.U_[al][an].cl.merged==2){l=A.U_[al][an].p;Q+=l[3]-l[1]}}}W.style.left=""+(S-2)+"px";W.style.top=""+Q+"px";W.style.height=""+(x-Q)+"px";ap.html.show()}if(ai<G.length){for(an=ai;an<G.length;an++){G[an].html.hide()}}}else{if(G&&G.length>0){for(an=0;an<G.length;an++){G[an].html.hide()}}}},R_:function(){var e=this,g,d,c,b,a;if(e._Z==false){return}if(e._5>-1){g=e.treeData}else{g=e.oY}if(g){for(c=0;c<g.length;c++){d=g[c];if(c<e._3){a=true}else{a=true;if(d&&d.length>0&&d[0].mcelltree&&d[0].mcelltree.length>0){for(cmi=0;cmi<d[0].mcelltree.length;cmi++){cmo=d[0].mcelltree[cmi];if(d[cmo].celltree&&d[cmo].celltree.parent){cmop=d[cmo].celltree.parent;while(cmop&&a==true){if(cmop.celltree.opened==false){a=false}cmop=cmop.celltree.parent}}}}}e.rows[c].vcr=a}e._Z=false}},a_:function(){var d,c,g,a,e,h=this,l,m,b;for(d=0;d<h.U_.length;d++){for(c=0;c<h.U_[d].length;c++){g=h.U_[d][c];l=g.cl;b=l.selected;if(h.selectionmode=="row"&&h.rows[g.rowIndex].selected==true){b=true}if(b==true){g.cssobj.background=this.selcolor;g.css({background:this.selcolor});g.addClass("m-datagrid-cell-selected")}else{m=g.cbg;a=(m)?m:"rgb(255, 255, 255)";g.cssobj.background=a;g.css({background:a});g.removeClass("m-datagrid-cell-selected")}}}},b_:function(m,e,aj,ah,z,y,V,Z,B,A,T,J,Y,L){var F=this,S=T[ah],U,R=S.text,ak=S.stylename,ac=S.tex_b,aa=S.tex_c,am=F.styles[ak],ai={},ab={},K,I={},ag=m,af=e,O=0,M=0,d=Z,E=V,al=(y>0)?y:V,X=(z>0)?z:Z,l=(y>0)?V-y:0,s=(z>0)?Z-z:0,W=null,q=null,H,Q,an,C,ao,o=((F._3<aj+1&&F._5>-1&&ah==F._5&&S.treeinfo)||(F._3>aj&&F._6>-1&&S.haschild===true))?true:false,ap=(o==true&&((S.children&&S.children.length>0)||S.haschild===true))?true:false,g=null,x,ae=null,G=null,u,b=S.isdirty,D,a,aq,c,P,N,ad=(aj-F._3)%2==1;S.r=aj;S.c=ah;I.paddingLeft=F.pad.paddingLeft;I.paddingTop=F.pad.paddingTop;nparent=F.I_;if(F.U_.length>A){if(F.U_[A].length>B){W=F.U_[A][B]}else{W=$('<div class="m-datagrid-cell"></div>').appendTo(nparent);F.U_[A].push(W)}}else{W=$('<div class="m-datagrid-cell"></div>').appendTo(nparent);F.U_.push([]);F.U_[A]=[];F.U_[A].push(W)}W.rowIndex=aj;W.colIndex=ah;U=W.cl;W.cl=S;W.p=[ag,af,ag+X,af+al];u=(S.type||F.cols[ah].type);if(J==false){W.hide();W.v=false}else{if(W.v!==true){W.show();W.v=true}}W._cn&&W.removeClass(W._cn);if(!U||(U&&U.celltype!=u)){W.dobj=null;W.html("")}I.paddingRight=F.pad.paddingRight;I.paddingLeft=(am?am.padleft:F.pad.paddingLeft)+(o==true?F.treeIndent*((!S.treeinfo.nd?S.treeinfo.depth:0)||0):0);I.paddingLeft+=(S.celltree&&!S.celltree.nd?F.treeIndent*S.celltree.depth:0);W._cn=null;if(am!=null){N=am.cssname;D=parseInt(am.textalign);switch(D){case 1:case 4:case 7:ai.textAlign="left";break;case 2:case 5:case 8:ai.textAlign="center";break;case 3:case 6:case 9:ai.textAlign="right";I.paddingLeft=0;break}switch(D){case 1:case 2:case 3:I.paddingTop=-l;break;case 4:case 5:case 6:I.paddingTop=((E-aa)/2)-l;break;case 7:case 8:case 9:I.paddingTop+=(E-aa-F.pad.paddingBottom)-l;break}ao="#f1f1f1";if((!ad&&am.backcolor1)||(ad&&am.str_backcolor1)){ao=F.x_(ad&&am.str_backcolor1?Number(am.str_backcolor1):Number(am.backcolor1))}else{if(am.backcolor1){ao=F.x_(Number(am.backcolor1))}}ai.background=ao;ai.fontSize=Number(am.fontsize)+"px";if(am.color&&am.color!=""){ao=F.x_(Number(am.color));ai.color=ao}else{ai.color=0}am.fontstyle=Number(am.fontstyle);ai.fontWeight="normal";ai.fontStyle="normal";ai.textDecoration="none";if(isNaN(am.fontstyle)==false){ai.fontWeight=(am.fontstyle&IG$._IE3.P_BOLD)?"bold":"normal";ai.fontStyle=(am.fontstyle&IG$._IE3.P_ITALIC)?"italic":"normal";ai.textDecoration=(am.fontstyle&IG$._IE3.P_UNDERLINE)?"underline":"none"}}ai.left=(ag-O)+"px";ai.top=(af-M)+"px";ai.width=X;ai.height=al;if(F._browser>0&&F._browser<8){ai.width-=1;ai.height-=1}ai.width+="px";ai.height+="px";if(g){}else{if(o==true){}else{if(S.celltree){}}}if(T[ah].chart!=null){F._T(T[ah].chart,m,e,Z,V,W)}else{switch(u){case"checkbox":case"boolean":if(W.dobj){q=W.dobj}else{if(R=="true"||R=="false"){S.checked=(R=="true")?true:false;S.text=R=""}q=W.dobj=$("<input type='checkbox' value='"+(R||"&nbsp")+"'>"+(R||"&nbsp")+"</input>");W.append(q)}q.attr("checked",S.checked);q.bind("click",function(h){h.stopPropagation();S.checked=q.attr("checked")});break;case"radio":if(W.dobj){q=W.dobj}else{q=W.dobj=$("<input type='radio' value='"+(R||"&nbsp")+"'>"+(R||"&nbsp")+"</input>");W.append(q)}q.attr("checked",S.checked);break;case"action":if(F.columns&&F.columns[ah].items){for(aq=0;aq<F.columns[ah].items.length;aq++){F.b_a(F.columns[ah].items[aq],W)}}break;default:if(W.dobj){q=W.dobj;H=q.tcss}else{q=W.dobj=q=$("<div class='m-cell-text'></div>");W.append(q)}a=I.paddingLeft||0;if((o==true&&ap==true)||(S.celltree&&S.celltree.haschild==true)){I.paddingLeft=0}Q={marginLeft:(I.paddingLeft||0)+"px",marginTop:(I.paddingTop||0)+"px",marginRight:(I.paddingRight||0)+"px",marginBottom:(I.paddingBottom||0)+"px"};if(R&&R.charAt(0)=="<"&&R.charAt(R.length-1)==">"){}else{R=(R?R:"").replace(" ","&nbsp;")}N=N?N.replace("${value}",R):null;q.html(R||" ");q.tcss=Q;for(H in Q){q[0].style[H]=Q[H]}break}}if(N){W._cn=N;W.addClass(N)}if(S.title==3||S.title==5){W.addClass("igc-i-link");W._3=1}else{if(W._3){W.removeClass("igc-i-link");W._3=0}}if(S.title==4||S.title==5){an=W._drm;if(!an){an=$("<div class='igc-dgs-drill'></div>").appendTo(W);W._drm=an}an.css({position:"absolute",left:ai.textAlign=="right"?0:"initial",right:ai.textAlign=="right"?"initial":0});an.unbind("mouseover");an.unbind("mouseout");an.unbind("mousedown");an.unbind("mouseup");an.bind({mousedown:function(h){},mouseup:function(h){}})}else{if(W._drm){W._drm.remove();W._drm=null}}if((o==true&&ap==true)||(S.celltree&&S.celltree.haschild==true)){if(W.treeicon){ae=W.treeicon;G=$("#treetext",ae);g=$("#treeicon",ae)}else{W.treeicon=ae=$("<div class='m-datagrid-tree-box'><div id='treeicon' class='m-datagrid-tree-icon'></div><div id='treetext' class='m-datagrid-tree-text'></div></div>");g=$("#treeicon",W.treeicon);G=$("#treetext",W.treeicon);W.append(ae)}G.html(q.html());q.hide()}else{if(W.treeicon){W.treeicon.remove();W.treeicon=null;q.show()}}if((o==true&&ap==true)||(S.celltree&&S.celltree.haschild==true)){if(S.celltree){x=(S.celltree.opened===true)?true:false;ae.css({left:F.pad.paddingLeft+(S.celltree.nd?0:F.treeIndent*S.celltree.depth),top:F.pad.paddingTop});g.unbind("click");g.bind("click",function(){S.celltree.opened=!S.celltree.opened;F._Z=true;F.R_();F._c=0;F.redraw.call(F);if(S.celltree.opened&&S.celltree.h){F.l_("hierarchy",{cell:S,row:T})}return false})}else{x=(S.treeinfo.opened===true)?true:false;ae.css({left:F.pad.paddingLeft+F.treeIndent*(S.treeinfo.nd?0:S.treeinfo.depth),top:F.pad.paddingTop});g.unbind("click");g.bind("click",function(){S.treeinfo.opened=!S.treeinfo.opened;F.cR();F._Z=true;F.draw.call(F);return false})}g.removeClass("m-datagrid-treeplus").removeClass("m-datagrid-treeminus").addClass((x==false)?"m-datagrid-treeplus":"m-datagrid-treeminus")}if(S.menus&&S.menus.active&&!F.hidemenu){if(!W.menuobj){an=$("<div class='m-datagrid-menu'></div>").appendTo(W);W.menuobj=an;an.css({position:"absolute",right:I.paddingRight,top:I.paddingTop})}else{an=W.menuobj;an.unbind("mouseover");an.unbind("mouseout");an.unbind("mousedown");an.unbind("mouseup")}an.bind({mouseover:function(j){var h=$(this);h.addClass("m-datagrid-menu-focus");return false},mouseout:function(j){var h=$(this);h.removeClass("m-datagrid-menu-focus");return false},mousedown:function(h){h.stopPropagation();return false},mouseup:function(h){var j=F.owner,at=$(this).offset(),ar=$(j).offset(),au=F._df,w=F._dfc,ay=at.left-ar.left,aw=at.top-ar.top+$(this).height(),av,ax;av=w.__af=w.__af||{};if(F.enablecontextmenu==false){return false}h.stopPropagation();$.each(["cmd_asc","cmd_desc","cmd_sort","b_rank","b_filter","cmd_remove","cmd_filter"],function(aB,az){var aA=0;if(S.menus.items[az]){aA=1}w[az][aA?"show":"hide"]()});w.d_rank.hide();if(av[S.c]){w.d_filter.show()}else{w.d_filter.hide()}ax=av[S.c]=av[S.c]||{};w.f_opt&&w.f_opt.val(ax.op||(S.position==3?"between":"_like_"));w.sval1&&w.sval1.val(ax.val1||"");w.sval2&&w.sval2.val(ax.val2||"");w.sval2[w.f_opt.val()=="between"?"show":"hide"]();$.each(["t_sum","t_avg","t_min","t_max","t_rank","t_pot","t_cumul","t_incr","t_diff"],function(aA,az){var aB=w[az];if(S.position==1||S.position==2){aB[/(t_sum|t_avg|t_min|t_max)/.test(az)?"show":"hide"]()}else{if(S.position==3){aB[/(t_min|t_max)/.test(az)?"hide":"show"]()}}});au.show();if(ay+w.dmain.width()>$(j).width()){ay=$(j).width()-w.dmain.width()}F.context.cell=S;w.dmain.css({top:aw,left:ay});return false}})}else{if(W.menuobj){W.menuobj.remove();W.menuobj=null}}if(aj==(F._3-1)&&F.__gflt&&F.__gflt[ah]){if(!W.ficon){C=$("<div class='m-datagrid-filter'></div>").appendTo(W);W.ficon=C;C.css({position:"absolute",right:I.paddingRight+(W.menuobj?16:0),top:I.paddingTop})}else{C=W.ficon}}else{if(W.ficon){W.ficon.remove();W.ficon=null}}W.cbg=ai.background;if(F.selectionmode=="row"&&F.rows[aj].selected==true){P=true}else{P=S.selected}if(P==true){ai.background=F.selcolor}ab=W.cssobj;W.cssobj=ai;for(H in ai){W[0].style[H]=ai[H]}F.W_=Math.max(F.W_,ag+X);F.X_=Math.max(F.X_,af+al);return W},b_a:function(c,d){var b=this,a;switch(c.type){default:a=$("<button>"+c.name+"</button>").appendTo(d).bind("click",function(){if(c.action){c.action(b,d)}return false});break}},c_:function(){},d_:function(q,o){var y,x,w,C=this,u,h=null,D=C.ctx.offset(),d=q-D.left,b=o-D.top,m=(C.cols.length>(C._4-C._nh)?(C._4-C._nh):0),l,c,a,A,z,s=C._2/C.sv,B=C._1/C.sh,e=null,g=false;if(C.U_.length>0){for(y=0;y<C.U_.length;y++){if(C.U_[y].length>m&&m>-1){u=C.U_[y][m];l=u.p;c=l[1];a=l[3];if(u&&u.v!==false&&c>-1&&c<b&&b<a){for(x=0;x<C.U_[y].length;x++){u=C.U_[y][x];l=u.p;A=l[0];z=l[2];if(A>-1&&A<d&&d<z){g=true;if(!u.v&&u.cl.merged==8){for(w=y;w>=C._3;w--){if(C.U_[w][x]&&(C.U_[w][x].cl.merged==0||C.U_[w][x].cl.merged==1)){e=C.U_[w][x];break}}}else{if(u.v!==false){e=u}}break}}}}if(e||g){break}}}return e},_A:function(d,c){var a=this,b=c.originalEvent,e;if(c){c.stopPropagation();if(b.touches.length==2&&(a.regv||a.regh)){e=b.touches[0];a._f=true;a.sx=a._1;a.sy=a._2;a._x=true;a._g=e.pageX;a._h=e.pageY}else{if(b.touches.length>0){e=b.touches[0];a._f=false;a.h_.call(a,e.pageX,e.pageY)}else{a._f=false;a.j_.call(a,c.pageX,c.pageY,false,false)}}}},_B:function(c,b){var a=this;if(b){b.stopPropagation();if(!a._f){a.j_.call(a,b.pageX,b.pageY,false,false)}a._f=false}},_C:function(b,j){var a=this,g=j.originalEvent,c,o,e,m,l,h;if(g&&g.touches.length>0){j.stopPropagation();c=g.touches[0];if(a._f&&a._g>-1&&a._h>-1){o={x:a._g,y:a._h};e={x:c.pageX,y:c.pageY};if(a.regv&&a.regh){m=Math.abs(e.x-o.x);l=Math.abs(e.y-o.y);if(m>l){h="h"}else{h="v"}}else{if(a.regv){h="v"}else{if(a.regh){h="h"}}}a._S.call(a,e,h)}else{a.i_.call(a,c.pageX,c.pageY)}}},e_:function(d,q){var m=this,c=m.owner,u,o,b,h,l,a=false;if(q&&!m.resizeCol){var g=(window.Ext&&Ext.dd.DragDropManager.dragCurrent&&Ext.dd.DragDropManager.dragCurrent.dragging==true)?true:false;if(m._x==false&&m._y==false&&g!==true){if(q.which==1){if(m.editing){l=m.d_(q.pageX,q.pageY);if(l==m.editing){a=true}else{q.stopPropagation()}}else{q.stopPropagation()}m.h_.call(m,q.pageX,q.pageY);function j(w){m.f_.call(m,d,w);return false}function s(w){m.g_.call(m,d,w);$(document).unbind("mousemove",j).unbind("mouseup",s);return false}$(document).bind("mousemove",j).bind("mouseup",s)}else{if(q.which==3){if(m.enablecontextmenu==false){return}var e=$(c).offset();q.stopPropagation();u=q.pageX-e.left;o=q.pageY-e.top;b=[];if(m.selectedItems&&m.selectedItems.length<2){l=m.d_(q.pageX,q.pageY);if(l){m.p_();cl=l.cl;cl.selected=true;m.rows[l.rowIndex].selected=true;m.selectedRows.push(m.rows[l.rowIndex]);m.selectedItems.push(cl);m.a_()}}if(m.selectedItems&&m.selectedItems.length>0){if((m._browser>0&&m._browser<8)||$.zclip){b.push({disp:IRm$.r1("B_CLIPBOARD"),name:"CMD_CLIPBOARD","class":(b.length>0?"separator":null)})}if(m._ILb&&m._ILb.dff1.length>0){l=m.d_(q.pageX,q.pageY);if(l){for(h=0;h<m._ILb.dff1.length;h++){if(m._ILb.mL(m._ILb.dff1[h],l)){b.push({disp:m._ILb.dff1[h].name,name:"detail:"+m._ILb.dff1[h].uid})}}}}}if(b.length>0){m._W(b);m.context.cell=null;if($(c).showContextMenu){$(c).showContextMenu.call($(c),m.context,u,o)}}}}}}return a},f_:function(d,c){var a=this;if(c&&!a.resizeCol){var b=(window.Ext&&Ext.dd.DragDropManager.dragCurrent&&Ext.dd.DragDropManager.dragCurrent.dragging==true)?true:false;if(a._x==false&&a._y==false&&b!==true){c.stopPropagation();a.i_.call(a,c.pageX,c.pageY)}}},g_:function(c,b){var a=this;if(b&&!a.resizeCol){a.j_.call(a,b.pageX,b.pageY,b.which,b.ctrlKey,b.shiftKey)}},_D:function(c,b){var a=this;if(b&&!a.resizeCol){a.k_.call(a,b.pageX,b.pageY,b.which,b.ctrlKey,b.shiftKey)}},h_:function(b,a){var d=this;if(d._x==true){return}if(d._y==true){return}if(d.resizeCol==true){return}d._l=d._1;d._m=d._2;d.buttondown=true;d._j=b;d._k=a;d.prevRenderer=d.d_(b,a);d.startRenderer=d.prevRenderer;d.mouseAction=0;var e=new Date().getTime();d.doubletap=false;if(d._o&&e-d._o<800){d.doubletap=true}d._o=e},i_:function(s,o){var w,q,m=this,b=false,e,d,g=m.startRenderer,u;if(m._x==true){return}if(m._y==true){return}if(m.mouseMode=="scroll"){if(m.mouseAction==0&&m.buttondown==true&&(m._b>m._d||m._c>m._e)){w=s-m._j;q=o-m._k;m.v_(m,w,q,s,o)}}else{if(m.mouseMode=="select"&&(Math.abs(m._j-s)>5||Math.abs(m._k-o)>5)){if(m.mouseAction==0&&m.buttondown==true){renderer=m.d_(s,o);if(renderer!=null&&g!=null){u=renderer.cl;if(renderer==g&&(m.selectedItems.length!=1||(m.selectedItems.length==1&&m.selectedItems[0]!=u))){m.p_();u.selected=true;m.rows[renderer.rowIndex].selected=true;m.selectedRows.push(m.rows[renderer.rowIndex]);m.selectedItems.push(u);b=true}else{if(m.prevRenderer!=renderer){var a=Math.min(g.rowIndex,renderer.rowIndex),l=Math.min(g.colIndex,renderer.colIndex),h=Math.max(g.rowIndex,renderer.rowIndex),c=Math.max(g.colIndex,renderer.colIndex);m.p_();for(e=a;e<=h;e++){if(m.rows[e].visible!==false&&m.rows[e]._5a!==true){for(d=l;d<=c;d++){if(m.cols[d].visible!==false){m[(this._5>-1||this._6>-1)?"treeData":"_Y"][e][d].selected=true;m.selectedItems.push(m[(this._5>-1||this._6>-1)?"treeData":"_Y"][e][d])}}m.selectedRows.push(m.rows[e])}}b=true}}if(b==true){m.a_()}m.prevRenderer=renderer}}}}},j_:function(m,l,o,b,j){var h=new Date().getTime(),e,a=0,g=this,d,q;if(g._x==true){return}if(g._y==true){return}if(g.mouseMode=="scroll"){if(g.mouseAction==0&&(h-g._o)<500&&Math.abs(g._j-m)<10&&Math.abs(g._k-l)<10){e=g.d_(m,l);if(e){q=e.cl;g.p_();q.selected=true;g.selectedItems.push(q);g.rows[e.rowIndex].selected=true;g.selectedRows.push(g.rows[e.rowIndex]);g.a_()}}}else{if(g.mouseMode=="select"){e=g.d_(m,l);if(e){if(g.editing!=e){g._N.call(g)}if(o==3){}else{if(g._p>-1&&h-g._p<500&&g.mouseUpRenderer&&g.mouseUpRenderer==e){}else{if(h-g._o<500){a=1;if(g.itemClick(e)!==false){g.l_("itemclick",e)}}}q=e.cl;if(b&&a==1){q.selected=!q.selected;g.rows[e.rowIndex].selected=!g.rows[e.rowIndex].selected;if(q.selected==true){g.selectedItems.push(q);g.selectedRows.push(g.rows[e.rowIndex])}else{for(d=0;d<g.selectedItems.length;d++){if(g.selectedItems[d]==q){g.selectedItems.splice(d,1);break}}if(g.selectionmode=="row"){for(d=0;d<g.selectedRows.length;d++){if(g.selectedRows[d]==g.rows[e.rowIndex]){g.selectedRows.splice(d,1);break}}}}g.a_()}if(a>0){if(a>1||!b){g.p_()}q.selected=true;g.selectedItems.push(q);g.rows[e.rowIndex].selected=true;g.selectedRows.push(g.rows[e.rowIndex]);g.a_()}else{if(g.selectedItems.length>0){g.l_("selectionchanged")}}}}else{g._N.call(g)}g.mouseUpRenderer=e;g._p=h}}g.buttondown=false;g._j=-1;g._k=-1},k_:function(d,b,a,h,c){var e=this,g=e.d_(d,b);e._p=-1;if(e.m_(g)!==false){e.l_("itemdblclick",g)}},l_:function(a,b){this.ctx.trigger(a,[b])},_E:function(e,d,j){if(typeof(j)=="undefined"){j=d.originalEvent?d.originalEvent.deltaY*-0.1:0}var c=this,h=c._1,g=c._2,a=j>0?"Up":"Down",b=Math.abs(j);if(c.__scr){return}b=(b>15)?b*1.5:18+1;b=(j>0)?-b:b;c._N.call(c);if(c._c>c._e){c.v_(c,0,undefined,0,0,b>0?10:-10)}},m_:function(b){var a=this;if(a._z&&a.cols[b.colIndex]._z!==false){a.n_(b)}},n_:function(a){},o_:function(){},itemClick:function(a){},p_:function(){var a,b=this,d=b.selectedItems,c=b.selectedRows;for(a=d.length-1;a>=0;a--){d[a].selected=false}for(a=c.length-1;a>=0;a--){c[a].selected=false}b.selectedItems=d=[];b.selectedRows=[]},_H:function(c,b,d){var a=this;if(b){b.preventDefault();b.stopImmediatePropagation();a.dt1=new Date().getTime();a._f=true;a._g=b.pageX;a._h=b.pageY;a.sx=a._1;a.sy=a._2;a._x=true;a.scrolltarget=c.eventtarget;a._O(d)}return false},_I:function(d,o,u){var l=this,a=l,m=new Date().getTime();if(o&&l.dt1&&l.dt1>-1&&m-l.dt1<200){var q=$(d),e=q.offset(),w=o.pageX-e.left,s=o.pageY-e.top,x=IG$.x_10._w(q),g=IG$.x_10._h(q),j=l._1,h=l._2,b,c;l.dt1=-1;event.stopPropagation();if(l.ge){$(document).unbind(l.ge);l.ge=null}l._R.call(l,o,u);a._f=false;a._g=-1;a._h=-1;if(u=="v"){c=(s>g/2)?0.1:-0.1;b=Math.min(a._c-a._e,(a._e-a._7)*0.1);h=h+b*c;h=(h<0)?0:Math.min(h,a._c-a._e)}else{if(u=="h"){c=(w>x/2)?0.1:-0.1;b=b=Math.min(a._b-a._d,(a._d-a._8)*0.1);j=j+b*c;j=(j<0)?0:Math.min(j,a._b-a._d)}}if(a._1!=j||a._2!=h){a._1=j;a._2=h;a.t_.call(a);if(a._i>-1){clearTimeout(a._i)}a._i=setTimeout(function(){a.on_i.call(a)},50)}}},q_:function(b){var a=this;a._N();a.on_i.call(a)},r_:function(a){var d=this,b,e=Math.min(a+d._3,d.rows.length),c=0;for(b=d._3;b<e;b++){c+=d.rows[b].height}d.q_(c*d.sv)},s_:function(){var a=this,b=(a._c-a._7-a._e)*a.sv+1;a.q_(b)},_K:function(e,d,g){var c=this,b,a;d.stopPropagation();if(g=="v"){a=$(e).scrollTop();a=a*c.sv;c._2=a}else{if(g=="h"){a=$(e).scrollLeft();a=a*c.sh;c._1=a}}if(c._i>-1){clearTimeout(c._i)}c._N();c._i=setTimeout(function(){c.on_i.call(c)},10)},_J:function(d,l,m){var a=this;l.stopPropagation();a._N.call(a);var j=a._1,h=a._2,c=0,b,e,o,g=(m=="v")?a._Ft.offset():a._Gt.offset();if(m=="v"){c=(g.top>l.pageY)?-1:1;b=a.thumbvheight;h+=b*c;o=IG$.x_10._h(a._F);h=Math.min(o-a.thumbvheight,Math.max(0,h));if(a._2==h){return}a._2=h}else{c=(g.left>l.pageX)?-1:1;b=a.thumbhwidth;j+=b*c;e=IG$.x_10._w(a._G);j=Math.min(e-a.thumbhwidth,Math.max(0,j));if(a._1==j){return}a._1=j}a.t_.call(a);if(a._i>-1){clearTimeout(a._i)}a._i=setTimeout(function(){a.on_i.call(a)},10)},on_i:function(){this._i=-1;var a=this,b=a._2/a.sv;if(b>(a._c-a._7-a._e)){a.l_("scrollend",null)}this.draw()},t_:function(){var d=this,c=30,e,b,g,a;e=IG$.x_10._w(d._G);b=IG$.x_10._h(d._F);g=IG$.x_10._w(d._Gt);a=IG$.x_10._h(d._Ft);d._Gt.css({left:Math.min(d._1,e-g)});d._Ft.css({top:Math.min(d._2,b-a)})},v_:function(a,s,o,j,h,e){var m=this,l=a._1,g=a._2,c,x,w=m._F,b,d,u=l,q=g;if(a.sh<1&&Math.abs(s)>5){c=IG$.x_10._w(a._G);u=Math.min(c-a.thumbhwidth,Math.max(0,l+s))}if(a._c>a._e&&typeof(o)=="undefined"){b=IG$.x_10._h(w);d=b-m.thumbvheight;x=e*a.sv*21;q=Math.min(d,a._2+x);if(q<0){q=0}}else{if(a._c>a._e&&Math.abs(o)>5){x=IG$.x_10._h(a._F);q=Math.min(x-a.thumbvheight,Math.max(0,g+o))}}if(u!=l||q!=g){a._1=u;a._2=q;a.t_.call(a);a.draw()}},u_:function(b,q,m,e){var j=this,o=new IG$.cMa.CSize(0,0),g=window.bowser,h={},d,l=IG$._ccache.tmeasure,c,a=0;m=m||"&nbsp;";if(e){h.fontSize=Number(e.fontsize);if(e.autowidth=="F"&&e.columnwidth){d=Number(e.columnwidth);a=isNaN(d)?0:1}}else{h.fontSize=q}c=m+":"+h.fontSize+":"+(a?d:"");if(l[c]){return l[c]}j.measurediv.show();j.measurediv.css(h);j.measurediv.html(m);o.height=IG$.x_10._h(j.measurediv);o.width=IG$.x_10._w(j.measurediv);if(a){o.fw=1;o.fw_=d}else{if(e){o.width+=e.padright+e.padleft+8}}l[c]=o;return o},w_:function(e){var b=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"),c=Math.floor(e/16),a=e-c*16,d=b[a];return d},x_:function(g){var d=this,c=new Array(),b=0,a,e=IG$._ccache.colorcode;if(e[g]){return e[g]}if(g<16){fcolor="#00000"+d.w_(g)}else{while(g>15){c[b]=d.w_(g);g=Math.floor(g/16);b+=1}c[b]=d.w_(g);fcolor="#";for(b=0;b<6;b++){a=c[5-b];fcolor+=(a?a:"0")}}e[g]=fcolor;return fcolor},y_:function(e,b){var d=this,c=null,a=d.oY;if(a&&a.length>e&&a[e].length>b){c=a[e][b]}return c},z_:function(e,b,d){var c=this,a=c.oY;if(a&&a.length>e&&a[e].length>b){a[e][b].text=d}},S_:function(){var g=this,j=g.oY,h,e=[],a=[],d=j.length,c,b={};g._N();g._Z=true;g._c=0;h=new IG$.cMa.DimInfo(d);g.rows.push(h);for(c=0;c<g._a;c++){e.push("")}g.T_(e,a);j.push(a);g.J_(h,a,b);this._9=j.length;g.t_.call(g);g.redraw()},A_:function(b){var a=this,c=a.oY;a._N();a._Z=true;c.splice(b,1);a.rows.splice(b,1);this._9=c.length;a.t_.call(a);a.redraw()},T_:function(a,g){var e=this,d=e.columns,c,b;for(b=0;b<d.length;b++){cell={text:a[d[b].field]||null,mrow:0,mcol:0,merged:0,stylename:d[b].stylename||"normal",chart:null,position:-1,code:null,value:null,index:-1,title:-1,pindex:-1};if(cell.stylename&&e.styles[cell.stylename]){st=e.styles[cell.stylename];if(d[b].type=="numeric"&&st.formatstring){cell.code=cell.text;cell.text=e.formatString(cell.code,st.formatstring)}}g.push(cell)}},C_:function(e,g){var d=this,c=d.columns,b,a;for(b=0;b<e.length;b++){row=[];d.T_(e[b],row);g.push(row)}},is_s:function(a){var c=$(a)[0];if((c.nodeType!=1)||(c==document.body)){return true}if(c.currentStyle&&c.currentStyle.display!="none"&&c.currentStyle.visibility!="hidden"){return this.is_s(c.parentNode)}else{if(window.getComputedStyle){var b=document.defaultView.getComputedStyle(c,null);if(b.getPropertyValue("display")!="none"&&b.getPropertyValue("visibility")!="hidden"){return this.is_s(c.parentNode)}}}return false},check_s:function(a){var d=$(a)[0];var c=a;if((d.nodeType!=1)||(d==document.body)){return null}if(d.currentStyle&&(d.currentStyle.display=="none"||d.currentStyle.visibility=="hidden")){return c}else{if(window.getComputedStyle){var b=document.defaultView.getComputedStyle(d,null);if(b.getPropertyValue("display")=="none"||b.getPropertyValue("visibility")=="hidden"){return c}}else{c=this.check_s(d.parentNode);if(c){return c}}}return c},browser:function(){var c=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){c=parseFloat(RegExp.$1)}}return c}};IG$.cMa.padding=function(b){var a=this;a.paddingTop=b;a.paddingBottom=b;a.paddingLeft=b;a.paddingRight=b};IG$.cMa.DimInfo=function(a){var b=this;b.index=a;b.width=0;b.height=0;b._d=0};IG$.cMa.DimInfo.prototype={w:function(){var a=this;return a.width+(a._d?a._d:0)},h:function(){var a=this;return a.height+(a._e?a._e:0)},init:function(){var a=this;a._d=0;a._e=0;a.width=0;a.height=0;a.visible=true;a.fw=undefined;a.fw_=undefined}};IG$.cMa.CSize=function(b,a){var c=this;c.width=b;c.height=a};if(window.Ext){IG$.DmU=Ext.extend(Ext.dd.DragZone,{dtimer:-1,spoint:null,constructor:function(b,a){this.callParent([b,a])},destroy:function(){this.callParent()}})}IG$.cMa.prototype.initializeDragDrop=function(b){var a=this;this.DF=$('<div class="m-datagrid-feedback"></div>');this.DF.appendTo(this.owner);this.DF.hide()};IG$.cMa.prototype.isAllowedType=function(c){var b=false,a=this.getTypeName(c);if(a=="d"||a=="m"){b=true}return b};IG$.cMa.prototype.getTypeName=function(b){var a="";if(b=="measure"||b=="formulameasure"||b=="measuregroup"){a="m"}else{if(b=="metric"||b=="custommetric"||b=="tabdimension"||b=="measuregroupdimension"){a="d"}}return a};if(!window.Ext){window.Ext=null}qigridview.prototype=new IG$.cMa();qigridview.prototype.constructor=qigridview;qigridview.prototype.parent=IG$.cMa.prototype;function qigridview(a){this.createComponent();this.editable=true;this.enablecontextmenu=false;this.scrollbar="image";this.drawmode=(a?a.drawmode||"req":"req");this.columnfill=(a&&a.columnfill==true?true:false);this.processRowFunction=a?a.processRowFunction:null;this.initStyles();if(a){this.merge(a)}}qigridview.prototype.initStyles=function(){var a;this.styles={normal:{name:"normal",fontsize:11,color:0,backcolor1:16777215,padtop:4,padbottom:4,padright:2,padleft:2,formatstring:null,textalign:"4"}};a=this.addStyle("fixedrow");a.padtop=2;a.padbottom=2;a.textalign="5";a.backcolor1=874901;a.color=16777215;a=this.addStyle("fixedcolumn");a=this.addStyle("numeric");a.formatstring="#,###";a.textalign="6";a=this.addStyle("boolean");a.textalign="5";a=this.addStyle("grandtotal","numeric");a.backcolor1=16645822;a=this.addStyle("subtotal","numeric");a.backcolor1=16645822;a=this.addStyle("grandtotallabel");a.backcolor1=16645822;a=this.addStyle("subtotallabel");a.backcolor1=16645822};qigridview.prototype.addStyle=function(g,e){var c=this,d=c.styles[e],b,a;if(!d){d=c.styles.normal}b={name:g};for(a in d){if(a!="name"){b[a]=d[a]}}c.styles[b.name]=b;return b};qigridview.prototype.merge=function(b){var a,c=this,d=b;for(a in d){if(typeof(c[a])!="undefined"){c[a]=d[a]}}};qigridview.prototype.setColumns=function(b,m,o){var h=this,g,d,c=[],l=[],e,q,a;h.subtotal=m;h.template=o;if(b){h.columns=b;a=h.calculateDepth(b,l,0,0,null);e=a.depth;for(g=0;g<e+1;g++){q=[];for(d=0;d<l.length;d++){q.push(null)}c.push(q)}h.makeHeaderData(c,b,0,0);h.colcount=(c&&c.length>0)?c[0].length:0;h.rowcount=c.length;h.fixedRow=c.length;h.setDataProvider(c)}h.columns=l;return l};qigridview.prototype.calculateDepth=function(d,l,g,b,e){var h,o,m,j={depth:0,cols:0},a,c=0;for(h=0;h<d.length;h++){if(d[h].columns&&d[h].columns.length>0){a=this.calculateDepth(d[h].columns,l,g+1,h,d[h].defaults||e);g=a.depth;j.cols+=a.cols;c+=a.cols;b+=a.cols}else{if(e){for(m in e){d[h][m]=e[m]}}if(d[h].type=="numeric"){d[h].stylename=d[h].stylename||"numeric"}else{if(d[h].type=="boolean"){d[h].stylename=d[h].stylename||"boolean"}}if(d[h].formatstring){o=this.addStyle("column_"+(h+b),(d[h].stylename||"normal"));o.formatstring=d[h].formatstring;d[h].stylename=o.name}l.push(d[h]);j.cols++;c++}}j.depth=g;return j};qigridview.prototype.makeHeaderData=function(d,c,g,b){var l=this,h,e,o,a=0,m;for(h=0;h<c.length;h++){o={text:c[h].name||c[h].field,mrow:0,mcol:0,merged:0,stylename:c[h].headerstyle||"fixedrow",chart:null,position:-1,code:null,value:null,index:-1,title:-1,pindex:-1};if(c[h].columns&&c[h].columns.length>0){for(e=0;e<c[h].columns.length;e++){o=l.ocopy(o);o.merged=(e==0)?2:4;d[g][a+e+b]=o}m=l.makeHeaderData(d,c[h].columns,g+1,a);a+=m}else{for(e=g;e<d.length;e++){o=l.ocopy(o);o.merged=(e==g)?1:3;o.type="string";d[e][a+b]=o}a++}}return a};qigridview.prototype.ocopy=function(c){var b={},a;for(a in c){b[a]=c[a]}return b};qigridview.prototype.setDataProvider=function(d,e){if(!d){return}var c=this,b=c.columns,a;qigridview.prototype.parent.setDataProvider.call(c,d,false);for(a=0;a<b.length;a++){if(b[a].minwidth){c.cols[a].width=Math.max(c.cols[a].width,b[a].minwidth)}if(b[a].maxwidth){c.cols[a].width=Math.min(c.cols[a].width,b[a].maxwidth)}c.cols[a].type=b[a].type}if(e!==false){c.redraw()}};qigridview.prototype.loadData=function(e){var h=this,c=h.dataProvider,g,d,l,b=h.columns,o,m,a;if(c.length>h.fixedRow){c.splice(h.fixedRow,c.length-h.fixedRow)}if(e){h.getRowData(e,c);a=h.updateSubtotal(c);c=(a?a:c);h.updateMerge(c)}h.setDataProvider(c)};qigridview.prototype.formatString=function(a,b){a=this.format(Number(a),b);return a};qigridview.prototype.format=function(s,q){if(typeof(q)!="string"){return""}var b=-1<q.indexOf(","),a=this.j5(q).split("."),l=s;if(1<a.length){l=l.toFixed(a[1].length)}else{if(2<a.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+q)}else{l=l.toFixed(0)}}var u=l.toString();if(b){a=u.split(".");var o=a[0],e=[],g=o.length,d=Math.floor(g/3),c=o.length%3||3;for(var h=0;h<g;h+=c){if(h!=0){c=3}e[e.length]=o.substr(h,c);d-=1}u=e.join(",");if(a[1]){u+="."+a[1]}}return q.replace(/[\d,?,#\.?,#]+/,u)};qigridview.prototype.j5=function(d){d+="";var b=/^\d|\.|\#|-$/;var a="";for(var c=0;c<d.length;c++){if(b.test(d.charAt(c))){if(!((d.charAt(c)=="."&&a.indexOf(".")!=-1)||(d.charAt(c)=="-"&&a.length!=0))){a+=d.charAt(c)}}}return a};qigridview.prototype.loadAjaxData=function(a){var b=this;if(a){a.datatype=a.datatype||"json";b.setLoading(true);$.ajax({type:a.method||"GET",url:a.url,dataType:a.datatype||"json",data:a.data,timeout:10000,success:function(c){if(a.success){a.success.call(a.scope||b,c)}b.processAjaxData.call(b,a,c,"load")},error:function(g,c,d){b.setLoading(false)}})}};qigridview.prototype.appendAjaxData=function(a){var b=this;if(a){a.datatype=a.datatype||"json";b.setLoading(true);$.ajax({type:a.method||"GET",url:a.url,dataType:a.datatype||"json",data:a.data,timeout:10000,success:function(c){b.processAjaxData.call(b,a,c,"append")},error:function(g,c,d){b.setLoading(false)}})}};qigridview.prototype.processAjaxData=function(h,s,l){var q=this;q.setLoading(false);var g,e,d=[],o=q.dataProvider;if(h.datatype=="xml"){var b=q.L7(s,h.rootnode),m,w,c,a;if(b){m=q.L14(b);for(g=0;g<m.length;g++){if(q.processRowFunction){w=q.processRowFunction.call(q,q,m[g])}else{w=q.L10(m[g])}if(w){d.push(w);if(m[g].hasChildNodes()==true){a=this.L14(m[g]);for(e=0;e<a.length;e++){w[this.L17(a[e])]=this.L12(a[e])}}}}}}else{if(h.datatype=="json"){var u=h.rootnode.split("/"),b,m,w,c;if(u.length>0){for(g=0;g<u.length;g++){if(g==0){b=s}else{b=b[u[g]]}if(!b){}}if(b){m=b;for(g=0;g<m.length;g++){if(q.processRowFunction){w=q.processRowFunction.call(q,q,m[g])}else{w=m[g]}if(w){d.push(w)}}}}}}if(l=="load"){q.dataFullLoaded=false;q.loadData(d)}else{if(l=="append"){if(d.length==0){q.dataFullLoaded=true}else{q.getRowData(d,o);c=q.updateSubtotal(o);q.dataProvider=o=c?c:o;q.updateMerge(o);q.refreshData()}}}};qigridview.prototype.updateSubtotal=function(l){var y=this,d=y.columns,o,m,g,s=false,e=l||y.dataProvider,z,w,x,q={},a;for(o=0;o<d.length;o++){q[d[o].field]=o}if(y.subtotal&&y.subtotal.length>0){for(o=0;o<y.subtotal.length;o++){w=y.subtotal[o];w.colindex=-1;if(w.field&&typeof(q[w.field])!="undefined"&&w.datafields&&w.datafields.length>0){w.colindex=q[w.field];w.pvalue=null;w.fcalc=[];w.topposition=-1;for(m=0;m<w.datafields.length;m++){if(typeof(q[w.datafields[m]])!="undefined"){w.fcalc.push({field:w.datafields[m],colindex:q[w.datafields[m]],sum:null,mbody:null})}}}}for(o=e.length-1;o>=y.fixedRow;o--){if(e[o][0].issubtotal==true){e.splice(o,1)}}var c=[],b,h,u;for(o=0;o<y.fixedRow;o++){c.push(e[o])}for(o=y.fixedRow;o<e.length;o++){b=e[o];c.push(b);for(m=0;m<y.subtotal.length;m++){w=y.subtotal[m];if(w.colindex>-1){a=w.toplocate||false;for(g=0;g<w.fcalc.length;g++){x=Number(b[w.fcalc[g].colindex].code||b[w.fcalc[g].colindex].text);if(isNaN(x)==false){w.fcalc[g].sum=(w.fcalc[g].sum==null)?x:w.fcalc[g].sum+x}}if(w.isgrandtotal==true){if(a!=true&&o==e.length-1){h=y.addSubTotalRow(w,null);c.push(h)}else{if(a==true&&o==y.fixedRow){h=y.addSubTotalRow(w,null);w.srow=h;c.splice(c.length-1,0,h)}else{if(a==true&&o==e.length-1){y.updateSubTotalRow(w,null)}}}}else{u=(o+1<e.length?e[o+1][w.colindex].text:null);if(e[o][w.colindex].text!=u){h=y.addSubTotalRow(w,b[w.colindex]);if(a==true){if(w.topposition<0){w.topposition=y.fixedRow}c.splice(w.topposition,0,h);w.srow=h;y.updateSubTotalRow(w,b[w.colindex]);w.topposition=c.length}else{c.push(h)}for(g=0;g<w.fcalc.length;g++){w.fcalc[g].sum=null;w.fcalc[g].cnt=null}}}w.pvalue=e[o][w.colindex].text}}}return c}return null};qigridview.prototype.addSubTotalRow=function(h,g){var e,j=this,c=j.columns,b=[],a,m,l,d;for(e=0;e<c.length;e++){l={text:null,mrow:0,mcol:0,merged:0,stylename:null,chart:null,position:-1,code:null,value:null,index:-1,title:-1,pindex:-1,issubtotal:true,type:"string"};if(e==h.colindex){l.text=(h.isgrandtotal==true)?h.name:g.text;l.stylename=h.labelstylename||(h.isgrandtotal?"grandtotallabel":"subtotallabel")}else{if(h.isgrandtotal!=true&&e==h.colindex+1){l.text=h.name;l.stylename=h.labelstylename||(h.isgrandtotal?"grandtotallabel":"subtotallabel")}}b.push(l)}for(e=0;e<h.fcalc.length;e++){m=h.fcalc[e].colindex;a=c[m];l=b[m];l.code=h.fcalc[e].sum;l.text=l.code;l.stylename=h.stylename||(h.isgrandtotal==true?"grandtotal":"subtotal");if(h.stylename&&j.styles[h.stylename]){st=j.styles[h.stylename];d=st.formatstring}else{if(a.stylename&&j.styles[a.stylename]){st=j.styles[a.stylename];d=st.formatstring}}if(d){l.text=j.formatString(l.code,d)}}return b};qigridview.prototype.updateSubTotalRow=function(h,g){var e,j=this,c=j.columns,b=[],a,m,l,d,b=h.srow;if(b){for(e=0;e<h.fcalc.length;e++){m=h.fcalc[e].colindex;a=c[m];l=b[m];l.code=h.fcalc[e].sum;l.text=l.code;l.stylename=h.stylename||(h.isgrandtotal==true?"grandtotal":"subtotal");if(h.stylename&&j.styles[h.stylename]){st=j.styles[h.stylename];d=st.formatstring}else{if(a.stylename&&j.styles[a.stylename]){st=j.styles[a.stylename];d=st.formatstring}}if(d){l.text=j.formatString(l.code,d)}}}return b};qigridview.prototype.updateMerge=function(c){var z=this,a=z.columns,l=[],g=[],w,u,A=false,d,B,s,y,C,m,b,e,x,o=c||z.dataProvider,q,h;for(w=0;w<a.length;w++){if(a[w].merged==1){A=true;l.push(w);g.push(null)}}if(A==true){for(w=z.fixedRow;w<o.length;w++){d=o[w];B=(w>z.fixedRow)?o[w-1]:null;s=(w+1<o.length)?o[w+1]:null;for(u=0;u<l.length;u++){C=l[u];y=(u>0&&l[u-1]==C-1)?l[u-1]:-1;m=(u+1<l.length&&l[u+1]==C+1)?l[u+1]:-1;b=(s)?s[C].text:null;x=d[C].text;e=(B)?B[C].text:null;h=(B)?B[C].merged:0;q=(y>-1)?d[y].merged:3;if(e!=x&&b==x){d[C].merged=1}else{if(e==x&&q>1){d[C].merged=3}else{if(b==x){d[C].merged=(q>1&&h>0)?3:1}}}}}}};qigridview.prototype.L7=function(e,d){var a=null;var c=d.split("/");var h=0;var b=e;if(c[0]==""){b=e.getElementsByTagName(c[1])[0];h=2}var g=null;for(i=h;i<c.length;i++){b=this.L8(b,c[i]);if(b==null||b==undefined){break}}g=b;return g};qigridview.prototype.L8=function(d,c){var e=null,a=null,b;if(d!=null&&d.hasChildNodes()==true){a=this.L14(d);for(b=0;b<a.length;b++){if(a[b].nodeName==c){e=a[b];break}}}return e};qigridview.prototype.L9=function(b,a){var c="";c=b.getAttribute(a);return c};qigridview.prototype.L10=function(c){var d={},a=window.bowser;for(var b=0;b<c.attributes.length;b++){d[(a.msie?c.attributes[b].nodeName:c.attributes[b].localName)]=c.attributes[b].value}return d};qigridview.prototype.L14=function(d,b){var a=[];if(d!=null&&d.hasChildNodes()==true){for(var c=0;c<d.childNodes.length;c++){if(d.childNodes[c].nodeType=="1"){if(!(b&&b!=this.L17(d.childNodes[c]))){a.push(d.childNodes[c])}}}}return a};qigridview.prototype.L12=function(b){var a=window.bowser;if(a.msie){if(b){return b.text||b.textContent||""}}else{if(b!=null&&typeof b.textContent!="undefined"){return b.textContent}}return""};qigridview.prototype.L17=function(a){return a.nodeName};qigridview.prototype.expandTemplate=function(e,b){var c=this,d=this.dataProvider[e],a=false;if(c.template){d[0].expanded=b;if(!d[0].template){d[0].template=$("<div></div>").css({position:"absolute"}).appendTo(c.regdata);d[0].template.append($(c.template));c.trenderers.push(d[0].template);a=true}if(b){c.theight+=d[0].template.height();d[0].template.fadeIn(500)}else{if(a==false){c.theight-=d[0].template.height()}d[0].template.fadeOut(500)}c.refreshData()}};qigridview.prototype.createEditor=function(b){var g=this,h,c,e,a,d;if(b&&b.editor){switch(b.editor.type){case"select":case"combobox":h=$("<select></select>");if(b.editor.data){for(c=0;c<b.editor.data.length;c++){d=b.editor.data[c];e=d[b.editor.codename||"value"];a=d[b.editor.displayname||"label"]||e;$("<option value='"+e+"'>"+a+"</option>").appendTo(h)}}break;default:h=$("<input type='text'></input>");h.bind("keyup",function(j){if(j.keyCode==13){g.endEdit.call(g,"enter")}return false});break}}else{h=qigridview.prototype.parent.createEditor.call(g)}return h};qigridview.prototype.beginEdit=function(j){var l=this,g=l.ctx.offset(),d,a,o,e=l.columns,c=l.cols[j.colIndex],m=e[j.colIndex],b,q,h=false;if(l.editable==true&&l.cols[j.colIndex].editable!==false){d=j.offset();a={left:0,top:0};if(false==true&&l.drawmode=="dom"){if(j.rname=="fixcolumn"){a=l.regfixcolumn.offset();o=l.regfixcolumn.region.offset()}else{if(j.rname=="fixheader"){a=l.regfixheader.offset();o=l.regfixheader.region.offset()}else{if(j.rname=="data"){a=l.regdata.offset();o=l.regdata.region.offset()}}}}q=j.cl;l.editing=j;l.editor.empty();if(m.editor&&m.editor.type){switch(m.editor.type){case"combobox":case"select":b=m.editrenderer=l.createEditor(m);l.editor.append(b);l.editor.css({left:(d.left-g.left),top:(d.top-g.top),overflow:"visible"});l.editor.ceditor=b;b.width(j.width());l.editor.width(j.width()).height(j.height());l.editor.show();h=true;break}}if(h==false){qigridview.prototype.parent.beginEdit.call(l,j)}}};var qigridinstances={instance:0};function qigridpages(a){this.container=a.container;this.template=a.template||"totalcounter";this.totalcount=a.totalcount;this.pagecount=a.pagecount;this.datagrid=a.datagrid;this.prevlabel=a.prevlabel||"Previous";this.nextlabel=a.nextlabel||"Next";this.instance=qigridinstances.instance;qigridinstances.instance++;this.init()}qigridpages.prototype={init:function(){var c=this,a,b;c.pageindex=0;c.container.empty();switch(c.template){case"totalcounter":a="<div class='m-datagrid-totalcounter'><div class='m-datagrid-pageinfo-1'><span><b>{START_LABEL}</b> - <b>{END_LABEL}</b> of <b>{TOTAL_LABEL}</b><span></div><div class='m-datagrid-page-btngrp'>{BUTTON_PREV}{BUTTON_NEXT}</div></div>";break;case"pageindex":a="<div class='m-datagrid-pageindex'><div class='m-datagrid-pageinfo-2'><div class='m-datagrid-page-btn-prev10'>{BUTTON_PREV10}</div><div class='m-datagrid-page-indexlist'>{PAGE_INDEX_10}</div><div class='m-datagrid-page-btn-next10'>{BUTTON_NEXT10}</div></div></div>";break}c.tmpl=a},updatePage:function(q){var e,l=this,m=l.tmpl,g=l.pagecount,c=q*g,d=(q+1)*g,j=Math.floor(q/10)*10,b=Math.ceil(l.totalcount/l.pagecount),a="",h,s,o;l.pageindex=q;l.container.empty();if(m){o=l.instance;d=Math.min(d,l.totalcount);m=m.replace("{START_LABEL}",c+1);m=m.replace("{END_LABEL}",d+1);m=m.replace("{TOTAL_LABEL}",qigridview.prototype.formatString(l.totalcount,"#,###"));m=m.replace("{BUTTON_PREV}","<div class='m-datagrid-prevpage"+(q==0?" m-datagrid-page-disabled":"")+"' id='qipages_btn_prev_"+o+"'>"+(l.prevlabel||"")+"</div>");m=m.replace("{BUTTON_NEXT}","<div class='m-datagrid-nextpage"+(q==Math.ceil(l.totalcount/l.pagecount)?" m-datagrid-page-disabled":"")+"' id='qipages_btn_next_"+o+"'>"+(l.nextlabel||"")+"</div>");m=m.replace("{BUTTON_PREV10}","<div class='m-datagrid-prevpage"+(j==0?" m-datagrid-page-disabled":"")+"' id='qipages_btn_prev10_"+o+"'>"+(l.prevlabel||"")+"</div>");m=m.replace("{BUTTON_NEXT10}","<div class='m-datagrid-nextpage"+(j+10>=b?" m-datagrid-page-disabled":"")+"' id='qipages_btn_next10_"+o+"'>"+(l.nextlabel||"")+"</div>");for(e=j;e<Math.min(j+10,b);e++){a+="<div class='m-datagrid-jumppage"+(e==q?" m-datagrid-currentpage":"")+"' name='qipages_btn_jump_"+o+"'>"+(e+1)+"</div>"}m=m.replace("{PAGE_INDEX_10}",a);h=$(m);l.container.append(h);$("#qipages_btn_next_"+o).bind("click",function(){l.changePage.call(l,++l.pageindex)});$("#qipages_btn_prev_"+o).bind("click",function(){if(l.pageindex>0){l.changePage.call(l,--l.pageindex)}});$("#qipages_btn_next10_"+o).bind("click",function(){if(b>j+10){l.changePage.call(l,j+10)}});$("#qipages_btn_prev10_"+o).bind("click",function(){if(j>0){l.changePage.call(l,j-1)}});s=h.find("[name='qipages_btn_jump_"+o+"']");s.bind("click",function(u){var w=$(u.target).text();if(w){w=parseInt(w);if(w-1!=l.pageindex){l.changePage.call(l,w-1)}}})}},changePage:function(c){var b=this,a=b.container;a.trigger("changepage",[b,c])}};IG$._Iee=$s.extend($s.panel,{field:null,layout:{type:"hbox",align:"stretch"},_IFd:function(){this.down("[name=_3]").setValue("START")},_1:function(){if(this.prompt){var h=new IG$._I3d(this,this.rs__1,prompt);this.prompt.LD.call(this.prompt,this,h)}else{if(this.field){var a=this,e="",g,d=new IG$._I3e(),b=this.down("[name=_4]").getValue(),c=this.down("[name=_3]").getValue();this.field.uid=IG$._I06(this.field.uid);e="<smsg><info option='valuelist'>";if(b!=""){e+="<Filter operator='LIKE'>";switch(c){case"INCLUDE":e+="%"+b+"%";break;case"START":e+=""+b+"%";break;case"END":e+="%"+b+"";break}e+="</Filter>"}g=IG$._I2d({uid:(this.field?this.field.uid:this.prompt.name),option:"valuelist"},"uid;option");e+="</info></smsg>";d.init(a,{ack:"18",payload:g,mbody:e},a,a.rs__1,null,(this.field?this.field.uid:this.prompt.name));d._l()}}},rs__1:function(b,c){var a=new IG$._ICd(b,c),d=this.down("[name=_1]");d.store.loadData(a.data)},_2:function(a){var h,l=this.down("[name=_1]"),q=l.store,m=q.data.items,b=this.down("[name=_2]"),c=b.store,o=c.data.items,e,j;if(a==false){var g=l.selModel.selected.items;if(g&&g.length>0){for(h=g.length-1;h>=0;h--){j=g[h];q.remove(j);c.insert(0,j.data)}}}else{for(h=m.length-1;h>=0;h--){j=m[h];q.remove(j);c.insert(0,j.data)}}},_3:function(a){var h,l=this.down("[name=_1]"),q=l.store,m=q.data.items,b=this.down("[name=_2]"),c=b.store,o=c.data.items,e,j;if(a==false){var g=b.selModel.selected.items;if(g&&g.length>0){for(h=g.length-1;h>=0;h--){j=g[h];c.remove(j);q.insert(0,j.data)}}}else{for(h=o.length-1;h>=0;h--){j=o[h];c.remove(j);q.insert(0,j.data)}}},initComponent:function(){this.items=[{xtype:"container",layout:"anchor",flex:1,defaults:{anchor:"100%"},items:[{xtype:"fieldcontainer",layout:"hbox",fieldLabel:IRm$.r1("L_BTN_SEARCH"),labelWidth:35,items:[{xtype:"combobox",name:"_3",queryMode:"local",fieldLabel:"",displayField:"name",valueField:"value",editable:false,autoSelect:false,width:50,store:{fields:["name","value"],data:[{name:"Include",value:"INCLUDE"},{name:"Start",value:"START"},{name:"End",value:"END"}]}},{xtype:"textfield",name:"_4",width:100,enableKeyEvents:true,listeners:{keydown:function(a,c,b){if(c.keyCode==13){this._1()}},scope:this}},{xtype:"button",text:"..",width:20,handler:function(){this._1()},scope:this}]},{xtype:"grid",name:"_1",store:{fields:[{name:"code"},{name:"text"}]},stateful:true,flex:1,columnLines:true,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},height:280,columns:[{text:IRm$.r1("B_CODE"),flex:1,sortable:true,dataIndex:"code"},{text:IRm$.r1("B_TEXT"),flex:1,sortable:true,dataIndex:"text"}],viewConfig:{stripeRows:true}}]},{width:40,layout:{type:"vbox",align:"stretch",pack:"center"},items:[{xtype:"button",text:">>",handler:function(){this._2(true)},scope:this},{xtype:"button",text:">",handler:function(){this._2(false)},scope:this},{xtype:"button",text:"<",handler:function(){this._3(false)},scope:this},{xtype:"button",text:"<<",handler:function(){this._3(true)},scope:this}]},{xtype:"grid",name:"_2",store:{fields:[{name:"code"},{name:"text"}]},stateful:true,flex:1,columnLines:true,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},columns:[{text:"Code",flex:1,sortable:false,dataIndex:"code"},{text:"Text",flex:1,sortable:false,dataIndex:"text"}],viewConfig:{stripeRows:true}}];IG$._Iee.superclass.initComponent.apply(this)},listeners:{afterrender:function(){this._IFd()}}});IG$._Iac=$s.extend($s.window,{modal:true,region:"center",layout:"card",closable:false,resizable:false,width:560,height:400,field:null,callback:null,selmode:0,_IG0:function(){this.close()},_IFf:function(){var g=this,d=[],c;if(g.selmode==0){var a=this.down("[name=_2]"),e=a.store.data.items;if(e&&e.length>0){for(c=0;c<e.length;c++){d.push(e[c].data)}}}else{if(g.selmode==1){var b=g.down("[name=txtselvalues]"),h=b.getValue(),e;if(h){e=h.split(";");for(c=0;c<e.length;c++){if(e[c]){d.push({code:e[c],text:e[c]})}}}}}this.callback&&this.callback.execute(d);this._IG0()},sc:function(){var c=this,d=c.getLayout(),a=c.down("[name=btnSelMode]"),b;if(c.selmode==0){c.selmode=1;b=IRm$.r1("B_COMBO_VAL")}else{c.selmode=0;b=IRm$.r1("B_CUST_VAL")}a.setText(b);d.setActiveItem(c.selmode)},initComponent:function(){var a=new IG$._Iee({_ILb:this._ILb,prompt:this.prompt,field:this.field,bodyStyle:"padding: 10px"});this.title=IRm$.r1("T_VALUE_SELECT");$s.apply(this,{defaults:{bodyStyle:"padding:10px"},items:[a,{xtype:"form",layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:IRm$.r1("L_CVAL_DESC")},{xtype:"textarea",fieldLabel:IRm$.r1("B_VALUES"),name:"txtselvalues",labelAlign:"top",flex:1}]}],buttons:["->",{text:IRm$.r1("B_CUST_VAL"),name:"btnSelMode",handler:function(){var b=this;b.sc()},scope:this},{text:IRm$.r1("B_CONFIRM"),handler:function(){this._IFf()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]});IG$._Iac.superclass.initComponent.apply(this,arguments)}});IG$._IacU=$s.extend($s.window,{modal:true,region:"center",layout:"card",closable:false,resizable:false,width:500,height:400,field:null,callback:null,selmode:0,_IG0:function(){this.close()},_IFf:function(){var g=this,d=[],c;if(g.selmode==0){var a=this.down("[name=_2]"),e=a.store.data.items;if(e&&e.length>0){for(c=0;c<e.length;c++){d.push(e[c].data)}}}else{if(g.selmode==1){var b=g.down("[name=txtselvalues]"),h=b.getValue(),e;if(h){e=h.split(";");for(c=0;c<e.length;c++){if(e[c]){d.push({code:e[c],text:e[c]})}}}}else{if(g.selmode==2){}}}this.callback&&this.callback.execute({selmode:g.selmode,syntax:g.down("[name=_s1]").getValue(),selection:d});this._IG0()},_1:function(){var b=this,d=b.rec,a=0,c=b.down("[name=_s1]");if(d){if(d.get("ctype")=="formula"){a=2;c.setValue(d.get("syntax"))}}b.sc(a)},sc:function(c){var b=this,e=b.down("[name=_mpanel]"),d=e.getLayout(),a;b.selmode=c;d.setActiveItem(b.selmode)},initComponent:function(){var a=new IG$._Iee({_ILb:this._ILb,prompt:this.prompt,field:this.field});this.title=IRm$.r1("T_VALUE_SELECT");$s.apply(this,{defaults:{bodyStyle:"padding:10px"},items:[{xtype:"panel",layout:"card",name:"_mpanel",tbar:[{text:IRm$.r1("B_COMBO_VAL"),handler:function(){var b=this;b.sc(0)},scope:this},{text:IRm$.r1("B_CUST_VAL"),handler:function(){var b=this;b.sc(1)},scope:this},{text:IRm$.r1("B_FORMULA"),handler:function(){var b=this;b.sc(2)},scope:this}],items:[a,{xtype:"form",layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:IRm$.r1("L_CVAL_DESC")},{xtype:"textarea",fieldLabel:IRm$.r1("B_VALUES"),name:"txtselvalues",labelAlign:"top",flex:1}]},{xtype:"panel",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",flex:1,name:"_s1"}]}]}],buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._IFf()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]});IG$._Iac.superclass.initComponent.apply(this,arguments)},listeners:{afterrender:function(a){a._1.call(a)}}});IG$.p_g1=function(b,a){this.name=b;this.value=a;this.defvalue=a};IG$.p_g1.prototype={set:function(a){this.value=a},get:function(){return this.value},val:function(b){var a=this;if(b){a.set(b)}else{return a.get()}}};IG$._ID0=function(b){var a=this;a.inherit=IG$._ICe;a.inherit(b)};IG$._ID0.prototype=new IG$._ICe();IG$._ID1=function(h,x,d){var w=this,s,q,a,g,u,o,e,c,m;w.properties={visible:"true",border:"0",bordercolor:"#e5e5e5",backgroundcolor:"#ffffff",padding:"2"};w.parentctrl=x;w.position={};w.layout=[];w.pname=(x&&x.name)?x.name:null;w.actionlist={};w._f_columns=[];if(h){w.type=IG$._I1b(h,"type");g=IG$._I18(h,"pos");IG$._I1f(w.position,g,"top;bottom;left;right;width;height;percentwidth;percentheight","i");g=IG$._I18(h,"Properties");u=IG$._I26(g);for(s=0;s<u.length;s++){o=IG$._I29(u[s]);e=IG$._I24(u[s]);e=IG$.trim12(e);w.properties[o]=e}w.name=w.properties.Name;c=IG$._I18(h,"appl/actevents");if(c){c=IG$._I26(c);for(s=0;s<c.length;s++){var l=IG$._I1b(c[s],"name"),y=IG$._I26(c[s]);w.actionlist[l]=[];for(q=0;q<y.length;q++){w.actionlist[l].push(IG$._I1c(y[q]))}}}c=IG$._I18(h,"appl/xparam");if(c&&c.hasChildNodes()){w._xparam=IG$._I17(c)}c=IG$._I18(h,"appl/f_columns");if(c){w._f_columns=[];c=IG$._I26(c);for(s=0;s<c.length;s++){var b=IG$._I1c(c[s]);b.hidden=b.hidden=="T";b.sortable=b.sortable=="T";b.columnwidth=(b.columnwidth?parseInt(b.columnwidth):0);w._f_columns.push(b)}}g=IG$._I18(h,"appl/item");if(g){w.item=new IG$._IE4(g);d.regReportContent.call(d,w.item)}m=IG$._I26(h,"wgt");for(s=0;s<m.length;s++){a=new IG$._ID1(m[s],w,d);a.updatePropertyValue.call(a);w.layout.push(a);if(d){d.controls[a.name]=a}}}};IG$._ID1.prototype={updatePropertyValue:function(j){var h=this,b,d={},l,c=new IG$._ICc(null,null,1),a=c.getControl(h.type.toLowerCase()),e=h.position,g;for(b=0;b<a.p.length;b++){d[a.p[b].name]=a.p[b]}for(l in h.properties){if(d[l]){value=h.properties[l];switch(d[l].datatype){case"boolean":h.properties[l]=(value=="true")?true:false;break;case"number":h.properties[l]=Number(value);break}}}if(j){g=IG$.getControl(h.type,false,true);e.width=g.width;e.height=g.height}},measurePosition:function(b,e){var d=this,c={x:-1,y:-1,w:-1,h:-1},g=d.position,a;g.percentwidth=(typeof g.percentwidth=="undefined")?null:g.percentwidth;g.percentheight=(typeof g.percentheight=="undefined")?null:g.percentheight;g.width=(typeof g.width=="undefined")?null:g.width;g.height=(typeof g.height=="undefined")?null:g.height;g.top=(typeof g.top=="undefined")?null:g.top;g.left=(typeof g.left=="undefined")?null:g.left;g.right=(typeof g.right=="undefined")?null:g.right;g.bottom=(typeof g.bottom=="undefined")?null:g.bottom;if(g.left!=null&&g.right!=null){c.x=g.left;c.w=e.w-g.left-g.right}else{if(g.left!=null){c.x=g.left;c.w=(g.percentwidth!=null)?(e.w-g.left)*g.percentwidth*0.01:(g.width!=null)?g.width:-1}else{if(g.right!=null){c.w=(g.percentwidth!=null)?(e.w-g.right)*g.percentwidth*0.01:(g.width!=null)?g.width:-1;c.x=e.w-c.w}}}if(g.top!=null&&g.bottom!=null){c.y=g.top;c.h=e.h-g.top-g.bottom}else{if(g.top!=null){c.y=g.top;c.h=(g.percentheight!=null)?(e.h-g.top)*g.percentheight*0.01:(g.height!=null)?g.height:-1}else{if(g.right!=null){c.h=(g.percentheight!=null)?(e.h-g.right)*g.percentheight*0.01:(g.height!=null)?g.height:-1;c.y=e.h-c.h}}}return c},getXML:function(){var d=this,b,e=d.actionlist,a,c="<wgt type='"+d.type+"'><pos "+IG$._I20(d.position,"top;bottom;left;right;width;height;percentwidth;percentheight","i")+"/><Properties>";for(b in d.properties){c+="<"+b+"><![CDATA["+d.properties[b]+"]]></"+b+">"}c+="</Properties>";c+="<appl>";if(d.item&&d.item.uid){c+="<item "+IG$._I20(d.item,"uid;description;memo;name;pid;type;updatedate","s")+"/>"}c+="<actevents>";for(b in d.actionlist){if(d.actionlist[b]){c+="<act name='"+b+"'>";for(a=0;a<d.actionlist[b].length;a++){c+="<actitem"+IG$._I20(d.actionlist[b][a],"name;uid","s")+"/>"}c+="</act>"}}c+="</actevents>";if(d._f_columns){c+="<f_columns>";for(a=0;a<d._f_columns.length;a++){c+="<column"+IG$._I20(d._f_columns[a],"name;kname","s")+IG$._I20(d._f_columns[a],"hidden;sortable","b")+IG$._I20(d._f_columns[a],"columnwidth","i")+"/>"}c+="</f_columns>"}if(d._xparam){c+="<xparam>";c+=IG$._I25(d._xparam);c+="</xparam>"}c+="</appl>";if(d.layout&&d.layout.length>0){for(a=0;a<d.layout.length;a++){c+=d.layout[a].getXML()}}c+="</wgt>";return c}};IG$.cdxml=function(a){var b=this;b.xdoc=a};IG$.cdxml.prototype={regReportContent:function(c){var b=this,a;for(a=0;a<b.dashboardreport.length;a++){if(b.dashboardreport[a].uid==c.uid){return}}b.dashboardreport.push(c)},parseContent:function(b){var B=this,u,d,z,y,x,A,s,h,w,m,q;u=IG$._I18(B.xdoc,"/smsg/item");B.tmpl=null;B.pobj=b;B.controls={};B.eventseq=0;B.events={};B._l21={onload:null,ontimer:null};B._l22="";B._l23=[];B.dashboardreport=[];B.page_params=[];B.page_param_map={};B.rcs=[];if(u){B.item=IG$._I1c(u);d=IG$._I18(u,"tmpl");if(d){B.tmpl=IG$._I1c(d)}B.layout=[];d=IG$._I18(u,"Layout");if(d!=null){q=IG$._I1c(d);B.autowidth=q.autowidth=="F"?false:true;B.autoheight=q.autoheight=="F"?false:true;B.vscroll=q.vscroll=="T";B.hscroll=q.hscroll=="T";B.width=q.width?parseInt(q.width):800;B.height=q.height?parseInt(q.height):600;B.minwidth=q.minwidth?parseInt(q.minwidth):500;B.minheight=q.minheight?parseInt(q.minheight):500;B.cls=q.cls||"";B.background=q.background||"";z=IG$._I26(d,"wgt");for(y=0;y<z.length;y++){h=new IG$._ID1(z[y],null,B);h.updatePropertyValue.call(h);B.layout.push(h);B.controls[h.name]=h}}d=IG$._I18(u,"ActiveScript");if(d){B._l22=IG$._I24(d)}d=IG$._I18(u,"ConditionScript");if(d){B._cs=IG$._I24(d)}b&&B._l24();d=IG$._I18(u,"page_params");if(d){z=IG$._I26(d);for(y=0;y<z.length;y++){w=IG$._I1a(z[y],"name");m=IG$._I1a(z[y],"value");q=new IG$.p_g1(w,m);q.type=IG$._I1b(z[y],"type")||"var";q.ctrltype=IG$._I1b(z[y],"ctrltype");B.page_params.push(q);B.page_param_map[q.name]=q}if(B.page_param_map.userid){B.page_param_map.userid.val(IG$._I83.jS1.u1)}else{q=new IG$.p_g1("userid",IG$._I83.jS1.u1);q.type="var";B.page_params.push(q);B.page_param_map[q.name]=q}}d=IG$._I18(u,"actevents");if(d){z=IG$._I26(d);var a,C,o,l,c;for(y=0;y<z.length;y++){a=IG$._I1b(z[y],"name");C=IG$._I1b(z[y],"desc");if(a.indexOf("_")>-1){c=a.substring(a.indexOf("_")+1);if(c!=""&&c.length>0){B.eventseq=Math.max(B.eventseq,Number(c)+1)}}l=[];o=IG$._I26(z[y]);for(x=0;x<o.length;x++){l.push(new IG$._ID0(o[x]))}B.events[a]={name:a,desc:C,actionlist:l}}}d=IG$._I18(u,"appl_acts");if(d){z=IG$._I26(d);for(y=0;y<z.length;y++){var g=IG$._I1b(z[y],"name"),e=IG$._I26(z[y]);B._l21[g]=[];for(x=0;x<e.length;x++){B._l21[g].push(IG$._I1c(e[x]))}}}d=IG$._I18(u,"applData");if(d){B.applicationdata=[];z=IG$._I26(d);for(y=0;y<z.length;y++){A=false;s=IG$._I1c(z[y]);for(x=0;x<B.applicationdata.length;x++){if(B.applicationdata[x].uid==s.uid){A=true;break}}if(A==false){B.applicationdata.push(s)}}}}},_l24:function(){var b=this,a=b.item.uid,c=Base64.decode(b._l22);b.m_d$$mj=new IG$.d$$mj("cls_"+a.replace("-","_"));b.m_d$$mj._l5.call(b.m_d$$mj,c);b.m_d$$mj._l6.call(b.m_d$$mj,b.controls,b.pobj);b._l23=b.m_d$$mj._l8.call(b.m_d$$mj)},getLayout:function(){var c=this,a,b=["<Layout"];b.push(IG$._I20(c,"autowidth;autoheight;vscroll;hscroll","b"));b.push(IG$._I20(c,"width;height;minwidth;minheight","i"));b.push(IG$._I20(c,"cls;background","s"));b.push(">");if(c.layout&&c.layout.length>0){for(a=0;a<c.layout.length;a++){b.push(c.layout[a].getXML())}}b.push("</Layout>");return b.join("")},setLayout:function(g){var d=this,a=IG$._I13(g),c=false,h,j,b,e;if(a){h=IG$._I18(a,"/Layout");if(h){c=true;j=IG$._I26(h,"wgt");d.layout=[];d.controls={};for(b=0;b<j.length;b++){e=new IG$._ID1(j[b],null,d);e.updatePropertyValue.call(e);d.layout.push(e);d.controls[e.name]=e}}}return c},getXML:function(){var e=this,c,b=e.events,a,d=["<smsg><item "+IG$._I20(e.item,"uid;name;nodepath;type","s")+">"];if(e.tmpl&&e.tmpl.uid){d.push("<tmpl"+IG$._I20(e.tmpl,"uid;name;nodepath;type","s")+"/>")}d.push(e.getLayout());d.push("<ActiveScript><![CDATA["+e._l22+"]]></ActiveScript>");d.push("<actevents>");$.each(b,function(g,j){var h,l=b[g];d.push("<actevent name='"+g+"' desc='"+l.desc+"'>");for(h=0;h<l.actionlist.length;h++){d.push(l.actionlist[h].getXML())}d.push("</actevent>")});d.push("</actevents>");d.push("<appl_acts>");for(a in e._l21){if(e._l21[a]){d.push("<act name='"+a+"'>");if(e._l21[a]){for(c=0;c<e._l21[a].length;c++){d.push("<actitem"+IG$._I20(e._l21[a][c],"name;uid","s")+"/>")}}d.push("</act>")}}d.push("</appl_acts>");d.push("<page_params>");for(c=0;c<e.page_params.length;c++){d.push("<param type='"+(e.page_params[c].type||"")+"' ctrltype='"+(e.page_params[c].ctrltype||"")+"'>");d.push("<name><![CDATA["+e.page_params[c].name+"]]></name>");d.push("<value><![CDATA["+(e.page_params[c].defvalue||"")+"]]></value>");d.push("</param>")}d.push("</page_params>");d.push("<applData>");if(e.applicationdata){for(c=0;c<e.applicationdata.length;c++){d.push("<item "+IG$._I20(e.applicationdata[c],"nodepath;lastupdatedate;memo;name;type;uid","s")+"/>")}}d.push("</applData>");d.push("</item></smsg>");return d.join("")}};IG$._maa=function(a){this.r1={};if(a){this.p1(a)}};IG$._maa.prototype={p1:function(o){var w=this,a,u,c,h,g,e,b,s,x,y,d,q,l;if(o){a=IG$._I18(o,"/smsg/item/output");u=(a?IG$._I26(a):null);if(u){for(h=0;h<u.length;h++){n=IG$._I1b(u[h],"name");t=IG$._I1b(u[h],"type");if(t=="dataset"){s=IG$._I18(u[h],"dataset");b=IG$._I1b(s,"ismapped");b=b=="T";v={ismapped:b,colcount:Number(IG$._I1b(s,"cols")),dbcols:Number(IG$._I1b(s,"cols")),cols:[],data:[]};y=IG$._I18(s,"cols");x=IG$._I26(y);for(g=0;g<x.length;g++){v.cols.push({name:IG$._I1b(x[g],"name")})}y=IG$._I18(s,"data");d=IG$._I24(y).split("\n");for(g=0;g<d.length;g++){if(d[g]){if(b){q={};l=d[g].split("\t");for(e=0;e<v.cols.length;e++){q[v.cols[e].name]=l[e]}v.data.push(q)}else{v.data.push(d[g].split("\t"))}}}}else{v=IG$._I24(u[h])}w.r1[n]={v:v,t:t}}}}}};IG$._Id1=IG$.x_c(IG$.pbW,{modal:true,dm:null,layout:"fit",closable:true,resizable:false,uid:null,width:600,height:400,t:null,c:null,callback:null,_IG0:function(){this.close()},sK2:function(c){var a=this,b=a.down("[name=memo]"),d=new IG$._I3e();if(a.dm=="report"){a.uid=c;b.setValue(c);d.init(a,{ack:"16",payload:IG$._I2d({helpuid:c},"helpuid"),mbody:IG$._I2e({option:"get"})},a,a.rs_u4x,null);d._l()}},rs_u4x:function(g){var q=this,o=this.down("[name=helpdoc]"),u=this.down("[name=memo]"),h=this.down("[name=helptitle]"),c,a,e,d,b,m;q.u5x("cmd_cancel");q.u5m={i:{},c:{}};c=IG$._I18(g,"/smsg/item");IG$._I1f(q.u5m.i,c,"uid;name;nodepath;memo","s");q.uid=q.u5m.i.uid;u.setValue(q.u5m.i.memo);a=IG$._I26(c);for(e=0;e<a.length;e++){b=IG$._I18(a[e],"Title");m=IG$._I18(a[e],"Content");d={lang:IG$._I1b(a[e],"language"),t:IG$._I24(b),c:IG$._I24(m)};this.u5m.c[d.lang]=d}var s=window.useLocale||"en_US";if(!q.u5m.c.en_US){q.u5m.c.en_US={lang:"en_US",t:"",c:""}}if(!q.u5m.c.ko_KR){q.u5m.c.ko_KR={lang:"ko_KR",t:"",c:""}}if(!q.u5m.c[s]){q.u5m.c[s]={lang:s,t:"",c:""}}q.setTitle(q.u5m.c[s].t||IRm$.r1("B_HELP"));var w=q.down("[name=helpdoc]"),o=q.down("[name=helpdocedit]"),j=Base64.decode(q.u5m.c[s].c)||"";$(w.body.dom).html(j);o.setValue(j);h.setValue(q.u5m.c[s].t||"")},u5x:function(d){var h=this,g=h.win,b=g?g.down("[name=btnedit]"):null,j=g?g.down("[name=btnsave]"):null,c=g?g.down("[name=btncancel]"):null,a=h.down("[name=helpmain]"),e=-1,l=IG$._I83.jS2;switch(d){case"cmd_edit":e=1;break;case"cmd_save":h.u6x();break;case"cmd_cancel":if(b&&l){b.setVisible(true);j.setVisible(false)}e=0;break}if(e>-1){a.setActiveItem(e)}},u7l:function(){var c=this,g=this.down("[name=helpdocedit]"),b=this.down("[name=memo]"),d=this.down("[name=helptitle]"),a=window.useLocale||"en_US",e=(this.u5m)?this.u5m.c[a]:null;c.u5m.i.memo=b.getValue();if(e){e.c=Base64.encode(g.getValue());e.t=d.getValue()}},u6x:function(){var a=this,l,b,m,e,g,d,h=new IG$._I3e(),j=window.useLocale||"en_US";if(!a.u5m){d=a.u5m={i:{},c:{}};d.c.en_US={lang:"en_US",t:"",c:""};d.c.ko_KR={lang:"ko_KR",t:"",c:""};if(!d.c[j]){d.c[j]={lang:j,t:"",c:""}}}a.u7l();e="<smsg><item uid='"+(a.u5m.i.uid||"")+"'>";e+="<objinfo doctype='"+(a.dm||"")+"' memo='"+a.u5m.i.memo+"'/>";for(b in a.u5m.c){m=a.u5m.c[b];e+="<HelpContent language='"+m.lang+"'><Title><![CDATA["+(m.t||"")+"]]></Title><Content><![CDATA["+(m.c||"")+"]]></Content></HelpContent>"}e+="</item></smsg>";g={uid:a.u5m.i.uid,memo:a.u5m.i.memo};if(!g.uid){g.address="/SYS_Documents/"+g.memo;g.name=g.memo;g.type="Help"}l=IG$._I2d(g,"uid;memo;pid;name;type;address");h.init(a,{ack:"31",payload:l,mbody:e},a,a.rs_u6x,null);h._l()},rs_u6x:function(a){var b=this,d=IG$._I18(a,"/smsg/item"),c=(d)?IG$._I1b(d,"uid"):null;if(c){b.u5m.i.uid=c}IG$._I54(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")},_ic:function(){var a=this;IG$.apply(this,{title:IRm$.r1("B_HELP"),items:[{xtype:"panel",layout:"fit",padding:10,items:[{xtype:"panel",name:"helpmain",layout:"card",items:[{xtype:"panel",name:"helpdoc"},{xtype:"panel",name:"helpedit",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",hidden:(a.dm=="report")?true:false,fieldLabel:"DOCID",name:"memo"},{xtype:"textfield",fieldLabel:"Title",name:"helptitle"},{xtype:"textarea",name:"helpdocedit",flex:1,enableColors:true,enableAlignments:true}]}]}]}],buttons:[{text:"Edit",hidden:this.dm!="report",name:"btnedit",handler:function(){var b=this,c=b.down("[name=peditor]");b.down("[name=btnsave]").setVisible(true);b.u5x.call(b,"cmd_edit")},scope:a},{text:IRm$.r1("L_SAVE_CONTENT"),name:"btnsave",hidden:true,handler:function(){var b=this,c=b.down("[name=peditor]");b.u5x.call(b,"cmd_save")},scope:a},{text:IRm$.r1("B_CLOSE"),name:"btncancel",handler:function(){a.close()},scope:a}],listeners:{afterrender:function(){var b=this;if(b.t!=null&&b.c!=null){b.setTitle(b.t||IRm$.r1("B_HELP"));var c=this.down("[name=helpdoc]");if(c.body){$(c.body.dom).html(b.c)}}else{if(b.uid){b.sK2(b.uid)}}}}});IG$._Id1.superclass._ic.apply(this,arguments)}});IG$.r___={};IG$.r___.a=function(b,c){if(!IG$.r___.C){$.ajax({type:"GET",url:"./data/tip.json?uniquekey="+IG$._I4a(),dataType:"json",timeout:10000,success:function(d){IG$.r___.C=d;IG$.r___.a(b,c)},error:function(h,d,g){}})}else{var a=IG$.r___.C?IG$.r___.C[c]:null;if(a&&window.Ext){Ext.tip.QuickTipManager.register({target:b.getId(),title:a.title,text:a.html})}}};IG$.r___.b=function(b,c){if(!IG$.r___.bC){$.ajax({type:"GET",url:"./data/manual.json?uniquekey="+IG$._I4a(),dataType:"json",timeout:10000,success:function(e){IG$.r___.bC=e;var d=IG$.r___.bC?IG$.r___.bC[b]:null;if(d){c.t=d.t;c.c=d.h;c.show()}else{IG$._I54("Error!","Document for ("+b+") is not prepared yet!",null,null,1,"error")}},error:function(h,d,g){}})}else{var a=IG$.r___.bC?IG$.r___.bC[b]:null;if(a){c.t=a.t;c.c=a.h;c.show()}else{IG$._I54("Error!","Document for ("+b+") is not prepared yet!",null,null,1,"error")}}};